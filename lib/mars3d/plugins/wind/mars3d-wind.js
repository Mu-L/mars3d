function a0_0x13d2(){var _0x4f4418=['0px','_calcStep','dropRate','removeEventListener','RGBA','randomBetween','Pass','ShaderProgram','fragmentShaderSource','constructor','BufferUsage','this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called','globeLayer','commandType','windField','userInput','zIndex','randomizeParticles','auto','context','framebuffers','canvasWidth','SCENE3D','sin','rows','_particlesNumber','apply','destination-in','mouse_down','ymax','windTextures','currentParticlesPosition','Cesium','lng','xmin','updateSpeed','prototype','vertexShaderSource','SceneMode','segmentsDepth','enumerable','particlesNumber','canvas','Rectangle','options','once','unbindEvent','maxParticles','drawingBufferHeight','length','segments','LayerUtil','BaseLayer','LINEAR','arrayBufferView','stroke','viewport','_map','color','EventType','moveTo','nextTrails','createWindTextures','randomParticle','NEAREST','off','bind','_maxAge','9251352FWcbqZ','height','GeometryAttribute','nextParticlesSpeed','container','forEach','update','556xTvSGy','_mountedHook','remove','canvasResize','nextTrailsDepth','sham','position','resize','_speedRate','strokeStyle','mouseUp','maxAge','applyUserInput','canvasHeight','commandToExecute','visible','mars3d-cesium','geometry','TRIANGLES','ShaderSource','canvasWind','OPAQUE','Draw','particleHeight','amd','_onMap_preRenderEvent','removeAll','ellipsoid','max','currentTrailsDepth','PixelFormat','_removedHook','requestAnimationFrame','isPointVisible','666XYAiwU','lighter','getSpeed','TWO_PI','ymin','speedRate','wind','FLOAT','keys','particlesComputing','setData','lev','PrimitiveCollection','cos','mod','outputTexture','clear','particlesWind','_createCanvas','TextureMinificationFilter','ZERO','uniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20\x20\x20float\x20term1\x20=\x20111132.92;\x0a\x20\x20\x20\x20float\x20term2\x20=\x20559.82\x20*\x20cos(2.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term3\x20=\x201.175\x20*\x20cos(4.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term4\x20=\x200.0023\x20*\x20cos(6.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20\x20\x20float\x20term5\x20=\x20111412.84\x20*\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20term6\x20=\x2093.5\x20*\x20cos(3.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term7\x20=\x200.118\x20*\x20cos(5.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avoid\x20updatePosition(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20windVectorInLonLatLev;\x0a\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20speed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20updatePosition(lonLatLev,\x20speed);\x0a}','postProcessingSpeed','_pointerEvents','xmax','getFullscreenQuad','windData','addPrimitives','createRenderingFramebuffers','top','isDestroyed','currentTrailsColor','DEPTH_COMPONENT','colorTable','658POIcOk','100%','getPixelSize','clearFramebuffers','destroy','north','cancelAnimationFrame','lineWidth','getUVByXY','default','_onMouseUpEvent','uniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec4\x20randomParticle\x20=\x20texture2D(postProcessingPosition,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20vec4\x20particleSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x0a\x20\x20\x20\x20if\x20(randomParticle.a\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20\x20\x20}\x0a}','WindUtil','symbol','GeometryAttributes','pow','wheel','speedFactor','framebuffer','width','112891wiZRuA','rgba(0,\x200,\x200,\x200.97)','preRender','clearCommand','particles','source','getUserInput','615NDBQEI','colorNum','updateViewerParameters','_onMouseDownEvent','create','tlat','_addedHook','getColorTexture','VertexArray','add','configurable','pointerEvents','primitives','globeBoundingSphere','latRange','call','blending','ceil','frameTime','createRawRenderState','iterator','function','lon','drawWind','getV','beginPath','updateDate','show','mars3dWind','toRadians','scene','particleSystem','uniformMap','fillRect','globalCompositeOperation','3649824lHfIBO','class','frameRate','visibility','depthMask','hasOwnProperty','Geometry','depthTexture','30289OYUhuL','value','fromDegrees','preExecute','setAttribute','Cartesian2','getUVByPoint','createComputingPrimitives','bindEvent','clampToLatitudeRange','#ffffff','particlesTextureSize','south','sqrt','fromGeometry','autoClear','dropRateBump','setPrototypeOf','PixelDatatype','refreshTimer','rawRenderState','14315OfMGpC','register','_drawLines','construct','particlesTextures','DepthFunction','createSegmentsGeometry','canvasContext','//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x20\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x,\x20360.0);\x0a\x20\x20\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20-90.0,\x2090.0);\x0a\x0a\x20\x20\x20\x20vec3\x20index3D\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20index3D.z\x20=\x20(lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z;\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205],\x20width\x20=\x203,\x20height\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x203\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x202\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWind(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20\x20\x20float\x20result\x20=\x20texture2D(windTexture,\x20normalizedIndex2D).r;\x0a\x20\x20\x20\x20return\x20result;\x0a}\x0a\x0aconst\x20mat4\x20kernelMatrix\x20=\x20mat4(\x0a\x20\x20\x20\x200.0,\x20-1.0,\x202.0,\x20-1.0,\x20//\x20first\x20column\x0a\x20\x20\x20\x202.0,\x200.0,\x20-5.0,\x203.0,\x20//\x20second\x20column\x0a\x20\x20\x20\x200.0,\x201.0,\x204.0,\x20-3.0,\x20//\x20third\x20column\x0a\x20\x20\x20\x200.0,\x200.0,\x20-1.0,\x201.0\x20//\x20fourth\x20column\x0a);\x0afloat\x20oneDimensionInterpolation(float\x20t,\x20float\x20p0,\x20float\x20p1,\x20float\x20p2,\x20float\x20p3)\x20{\x0a\x20\x20\x20\x20vec4\x20tVec4\x20=\x20vec4(1.0,\x20t,\x20t\x20*\x20t,\x20t\x20*\x20t\x20*\x20t);\x0a\x20\x20\x20\x20tVec4\x20=\x20tVec4\x20/\x202.0;\x0a\x20\x20\x20\x20vec4\x20pVec4\x20=\x20vec4(p0,\x20p1,\x20p2,\x20p3);\x0a\x20\x20\x20\x20return\x20dot((tVec4\x20*\x20kernelMatrix),\x20pVec4);\x0a}\x0a\x0afloat\x20calculateB(sampler2D\x20windTexture,\x20float\x20t,\x20float\x20lon,\x20float\x20lat,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20float\x20lon0\x20=\x20floor(lon)\x20-\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon1\x20=\x20floor(lon);\x0a\x20\x20\x20\x20float\x20lon2\x20=\x20floor(lon)\x20+\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon3\x20=\x20floor(lon)\x20+\x202.0\x20*\x20interval.x;\x0a\x0a\x20\x20\x20\x20float\x20p0\x20=\x20getWind(windTexture,\x20vec3(lon0,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p1\x20=\x20getWind(windTexture,\x20vec3(lon1,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p2\x20=\x20getWind(windTexture,\x20vec3(lon2,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p3\x20=\x20getWind(windTexture,\x20vec3(lon3,\x20lat,\x20lev));\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(t,\x20p0,\x20p1,\x20p2,\x20p3);\x0a}\x0a\x0afloat\x20interpolateOneTexture(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20\x20\x20float\x20lat0\x20=\x20floor(lat)\x20-\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat1\x20=\x20floor(lat);\x0a\x20\x20\x20\x20float\x20lat2\x20=\x20floor(lat)\x20+\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat3\x20=\x20floor(lat)\x20+\x202.0\x20*\x20interval.y;\x0a\x0a\x20\x20\x20\x20vec2\x20coefficient\x20=\x20lonLatLev.xy\x20-\x20floor(lonLatLev.xy);\x0a\x20\x20\x20\x20float\x20b0\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat0,\x20lev);\x0a\x20\x20\x20\x20float\x20b1\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat1,\x20lev);\x0a\x20\x20\x20\x20float\x20b2\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat2,\x20lev);\x0a\x20\x20\x20\x20float\x20b3\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat3,\x20lev);\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(coefficient.y,\x20b0,\x20b1,\x20b2,\x20b3);\x0a}\x0a\x0avec3\x20bicubic(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bicubic_interpolation#Bicubic_convolution_algorithm\x0a\x20\x20\x20\x20float\x20u\x20=\x20interpolateOneTexture(U,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20v\x20=\x20interpolateOneTexture(V,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20bicubic(lonLatLev);\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(windVector,\x200.0);\x0a}','reverse','removeChild','east','getU','destroyParticlesTextures','grid','updatePosition','canrefresh','getRandomLatLng','uniform\x20sampler2D\x20trailsColorTexture;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(trailsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x20else\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20}\x0d\x0a}','Math','log','trails','valueOf','toDegrees','mars3d','toStringTag','cols','udata','Matrix4','createRenderingTextures','DrawCommand','_tomap','fromCache','createParticlesTextures','_calcUV','postProcessingPosition','9eBGOso','uniform\x20sampler2D\x20segmentsColorTexture;\x0d\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0d\x0a\x0d\x0auniform\x20sampler2D\x20currentTrailsColor;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0auniform\x20float\x20fadeOpacity;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20pointsColor\x20=\x20texture2D(segmentsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(currentTrailsColor,\x20textureCoordinate);\x0d\x0a\x0d\x0a\x20\x20\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0\x20*\x20trailsColor)\x20/\x20255.0;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0d\x0a\x0d\x0a\x20\x20\x20\x20float\x20pointsDepth\x20=\x20texture2D(segmentsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20if\x20(pointsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20pointsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20gl_FragDepthEXT\x20=\x20min(pointsDepth,\x20trailsDepth);\x0d\x0a}','__esModule','particlesRendering','addEventListener','clientHeight','attribute\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20normal\x0aattribute\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20postProcessingSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x20\x0a\x20\x20\x20\x20float\x20a\x20=\x206378137.0;\x20//\x20Semi-major\x20axis\x20\x0a\x20\x20\x20\x20float\x20b\x20=\x206356752.3142;\x20//\x20Semi-minor\x20axis\x20\x0a\x20\x20\x20\x20float\x20e2\x20=\x206.69437999014e-3;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20\x20\x20float\x20h\x20=\x20particleHeight;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x0a\x20\x20\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calcProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0,\x20360.0)\x20-\x20180.0;\x0a\x20\x20\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0);\x0a\x20\x20\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calcOffset(vec4\x20currentProjectedCoordinate,\x20vec4\x20nextProjectedCoordinate,\x20float\x20offsetSign)\x20{\x0a\x20\x20\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0);\x0a\x20\x20\x20\x20vec2\x20currentXY\x20=\x20(currentProjectedCoordinate.xy\x20/\x20currentProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x20\x20\x20\x20vec2\x20nextXY\x20=\x20(nextProjectedCoordinate.xy\x20/\x20nextProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0;\x0a\x20\x20\x20\x20vec2\x20direction\x20=\x20normalize(nextXY\x20-\x20currentXY);\x0a\x20\x20\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0,\x200.0);\x0a\x20\x20\x20\x20return\x20offset;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20\x20\x20vec3\x20currentPosition\x20=\x20texture2D(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20\x20\x20vec4\x20nextPosition\x20=\x20texture2D(postProcessingPosition,\x20particleIndex);\x0a\x0a\x20\x20\x20\x20vec4\x20currentProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20vec4\x20nextProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20if\x20(nextPosition.w\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(nextPosition.xyz);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20float\x20pointToUse\x20=\x20normal.x;\x20//\x20-1\x20is\x20currentProjectedCoordinate\x20and\x20+1\x20is\x20nextProjectedCoordinate\x0a\x20\x20\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20pixelSize\x20*\x20calcOffset(currentProjectedCoordinate,\x20nextProjectedCoordinate,\x20offsetSign);\x0a\x20\x20\x20\x20if\x20(pointToUse\x20<\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20currentProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20nextProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20speedNormalization\x20=\x20texture2D(postProcessingSpeed,\x20particleIndex).a;\x0a}','tlng','now','abs','calc_speedRate','lat','shaderProgram','age','STATIC_DRAW','createFramebuffer','ComputeCommand','random','array','style','WMS_URL','mode','currentTrails','UNSIGNED_BYTE','__proto__','ALWAYS','isInExtent','createRenderingPrimitives','textures','getPrototypeOf','defineProperty','min','data','none','PI_OVER_TWO','defined','drawingBufferWidth','pixelSize','refreshParticles','CanvasWindLayer','_onMouseMoveEvent','defaultValue','LUMINANCE','reverseY','object','lonRange','mouseDown','_showHook','Compute','absolute','Color','segmentsColor','camera','Module','593080kpsPwG','WindLayer','THREE_PI_OVER_TWO','fixedHeight','layer','pointer-events','commandList','toGridXY','BoundingSphere','push','PI_OVER_THREE','nextParticlesPosition','createCommand','undefined','viewerParameters','createTexture','Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined','uniform\x20sampler2D\x20colorTable;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(colorTable,\x20vec2(speedNormalization,\x200.0));\x0a}','Cannot\x20call\x20a\x20class\x20as\x20a\x20function','floor','currentParticlesSpeed','TextureMagnificationFilter','destroyObject','dimensions','DISABLE_LOG_DEPTH_FRAGMENT_WRITE','writable','mouse_move','_bilinearInterpolation','attributeLocations','vdata','computeViewRectangle','globe','all','setGeometry','ComponentDatatype','uniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0auniform\x20sampler2D\x20particlesWind;\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20speedFactor;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec3\x20percent\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20\x20\x20float\x20normalization\x20=\x20length(percent);\x0a\x0a\x20\x20\x20\x20return\x20normalization;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20currentSpeed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20texture2D(particlesWind,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20vec4(speedFactor\x20*\x20pixelSize\x20*\x20windVector,\x20calculateWindNorm(windVector));\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20nextSpeed;\x0a}','mouseMove','Cartesian3','clientWidth','Sampler','animateFrame','canvasWindy','exports','redraw','fadeOpacity','primitiveType','_onMapWhellEvent'];a0_0x13d2=function(){return _0x4f4418;};return a0_0x13d2();}function a0_0x8ae9(_0x3b303c,_0x82fc70){var _0x13d280=a0_0x13d2();return a0_0x8ae9=function(_0x8ae9d9,_0xacefdf){_0x8ae9d9=_0x8ae9d9-0xd4;var _0x3eb75c=_0x13d280[_0x8ae9d9];return _0x3eb75c;},a0_0x8ae9(_0x3b303c,_0x82fc70);}(function(_0x6cfcf6,_0x1971d4){var _0x516f3b=a0_0x8ae9,_0xc7bef3=_0x6cfcf6();while(!![]){try{var _0x11509f=-parseInt(_0x516f3b(0xd7))/0x1+parseInt(_0x516f3b(0x236))/0x2*(parseInt(_0x516f3b(0xde))/0x3)+parseInt(_0x516f3b(0x1f2))/0x4*(parseInt(_0x516f3b(0x11e))/0x5)+-parseInt(_0x516f3b(0x214))/0x6*(parseInt(_0x516f3b(0x109))/0x7)+-parseInt(_0x516f3b(0x101))/0x8+-parseInt(_0x516f3b(0x142))/0x9*(-parseInt(_0x516f3b(0x178))/0xa)+parseInt(_0x516f3b(0x1eb))/0xb;if(_0x11509f===_0x1971d4)break;else _0xc7bef3['push'](_0xc7bef3['shift']());}catch(_0x2df333){_0xc7bef3['push'](_0xc7bef3['shift']());}}}(a0_0x13d2,0x4d3a6),!function(_0x2b5084,_0x2177e4){var _0x4b1c8b=a0_0x8ae9;_0x4b1c8b(0x16e)==typeof exports&&'object'==typeof module?module[_0x4b1c8b(0x1a2)]=_0x2177e4(require('mars3d-cesium'),require('mars3d')):'function'==typeof define&&define[_0x4b1c8b(0x20a)]?define('mars3dWind',[_0x4b1c8b(0x202),'mars3d'],_0x2177e4):'object'==typeof exports?exports[_0x4b1c8b(0xfa)]=_0x2177e4(require(_0x4b1c8b(0x202)),require(_0x4b1c8b(0x136))):_0x2b5084[_0x4b1c8b(0xfa)]=_0x2177e4(_0x2b5084[_0x4b1c8b(0x1c7)],_0x2b5084[_0x4b1c8b(0x136)]);}(window,function(_0x403144,_0x2c1a71){return function(_0x578663){var _0x2324c2={};function _0xb467cb(_0x28a764){var _0x521985=a0_0x8ae9;if(_0x2324c2[_0x28a764])return _0x2324c2[_0x28a764][_0x521985(0x1a2)];var _0x78ea68=_0x2324c2[_0x28a764]={'i':_0x28a764,'l':!0x1,'exports':{}};return _0x578663[_0x28a764][_0x521985(0xed)](_0x78ea68[_0x521985(0x1a2)],_0x78ea68,_0x78ea68[_0x521985(0x1a2)],_0xb467cb),_0x78ea68['l']=!0x0,_0x78ea68[_0x521985(0x1a2)];}return _0xb467cb['m']=_0x578663,_0xb467cb['c']=_0x2324c2,_0xb467cb['d']=function(_0x3d3cbd,_0x1713d8,_0x2a831a){var _0x4d31bf=a0_0x8ae9;_0xb467cb['o'](_0x3d3cbd,_0x1713d8)||Object[_0x4d31bf(0x160)](_0x3d3cbd,_0x1713d8,{'enumerable':!0x0,'get':_0x2a831a});},_0xb467cb['r']=function(_0x3c31c4){var _0x37494b=a0_0x8ae9;_0x37494b(0x185)!=typeof Symbol&&Symbol[_0x37494b(0x137)]&&Object[_0x37494b(0x160)](_0x3c31c4,Symbol['toStringTag'],{'value':_0x37494b(0x177)}),Object[_0x37494b(0x160)](_0x3c31c4,_0x37494b(0x144),{'value':!0x0});},_0xb467cb['t']=function(_0x24f9df,_0x4f87e8){var _0x25f8cf=a0_0x8ae9;if(0x1&_0x4f87e8&&(_0x24f9df=_0xb467cb(_0x24f9df)),0x8&_0x4f87e8)return _0x24f9df;if(0x4&_0x4f87e8&&'object'==typeof _0x24f9df&&_0x24f9df&&_0x24f9df[_0x25f8cf(0x144)])return _0x24f9df;var _0xa97d0=Object[_0x25f8cf(0xe2)](null);if(_0xb467cb['r'](_0xa97d0),Object['defineProperty'](_0xa97d0,_0x25f8cf(0x23f),{'enumerable':!0x0,'value':_0x24f9df}),0x2&_0x4f87e8&&'string'!=typeof _0x24f9df){for(var _0x24b577 in _0x24f9df)_0xb467cb['d'](_0xa97d0,_0x24b577,function(_0x5d981b){return _0x24f9df[_0x5d981b];}[_0x25f8cf(0x1e9)](null,_0x24b577));}return _0xa97d0;},_0xb467cb['n']=function(_0x532ab8){var _0xa58045=a0_0x8ae9,_0x34c13f=_0x532ab8&&_0x532ab8[_0xa58045(0x144)]?function(){return _0x532ab8['default'];}:function(){return _0x532ab8;};return _0xb467cb['d'](_0x34c13f,'a',_0x34c13f),_0x34c13f;},_0xb467cb['o']=function(_0x2869d1,_0xe4f654){var _0xd26d0=a0_0x8ae9;return Object[_0xd26d0(0x1cb)][_0xd26d0(0x106)][_0xd26d0(0xed)](_0x2869d1,_0xe4f654);},_0xb467cb['p']='',_0xb467cb(_0xb467cb['s']=0x14);}([function(_0x4def82,_0x33e27b){var _0x489b2a=a0_0x8ae9;_0x4def82[_0x489b2a(0x1a2)]=_0x403144;},function(_0x3507cc,_0xb9b0fe){var _0x3231e3=a0_0x8ae9;_0x3507cc[_0x3231e3(0x1a2)]=_0x2c1a71;},function(_0x5bf25d,_0x1eedc2){var _0x353516=a0_0x8ae9;_0x5bf25d[_0x353516(0x1a2)]=function(_0x1bd041,_0x41748a){var _0x354e63=_0x353516;if(!(_0x1bd041 instanceof _0x41748a))throw new TypeError(_0x354e63(0x18a));},_0x5bf25d[_0x353516(0x1a2)]['default']=_0x5bf25d['exports'],_0x5bf25d[_0x353516(0x1a2)][_0x353516(0x144)]=!0x0;},function(_0x1b08bc,_0x449810){var _0x377e52=a0_0x8ae9;function _0x27d6da(_0x503b8d,_0x11efcd){var _0x48561a=a0_0x8ae9;for(var _0x556909=0x0;_0x556909<_0x11efcd[_0x48561a(0x1d8)];_0x556909++){var _0x1002b1=_0x11efcd[_0x556909];_0x1002b1['enumerable']=_0x1002b1[_0x48561a(0x1cf)]||!0x1,_0x1002b1[_0x48561a(0xe8)]=!0x0,_0x48561a(0x10a)in _0x1002b1&&(_0x1002b1[_0x48561a(0x191)]=!0x0),Object[_0x48561a(0x160)](_0x503b8d,_0x1002b1['key'],_0x1002b1);}}_0x1b08bc[_0x377e52(0x1a2)]=function(_0x4a0547,_0x141908,_0xccf5a2){return _0x141908&&_0x27d6da(_0x4a0547['prototype'],_0x141908),_0xccf5a2&&_0x27d6da(_0x4a0547,_0xccf5a2),_0x4a0547;},_0x1b08bc[_0x377e52(0x1a2)]['default']=_0x1b08bc[_0x377e52(0x1a2)],_0x1b08bc[_0x377e52(0x1a2)]['__esModule']=!0x0;},function(_0x4c9761,_0xd78374){var _0x23f0ce=a0_0x8ae9;function _0x168427(_0x2e7e85){var _0x20e045=a0_0x8ae9;return _0x4c9761[_0x20e045(0x1a2)]=_0x168427=Object['setPrototypeOf']?Object[_0x20e045(0x15f)]:function(_0x462510){var _0x27db0f=_0x20e045;return _0x462510[_0x27db0f(0x15a)]||Object[_0x27db0f(0x15f)](_0x462510);},_0x4c9761[_0x20e045(0x1a2)][_0x20e045(0x23f)]=_0x4c9761[_0x20e045(0x1a2)],_0x4c9761[_0x20e045(0x1a2)][_0x20e045(0x144)]=!0x0,_0x168427(_0x2e7e85);}_0x4c9761[_0x23f0ce(0x1a2)]=_0x168427,_0x4c9761[_0x23f0ce(0x1a2)][_0x23f0ce(0x23f)]=_0x4c9761[_0x23f0ce(0x1a2)],_0x4c9761[_0x23f0ce(0x1a2)]['__esModule']=!0x0;},function(_0x1765c1,_0x2da31a,_0x5d8fef){var _0x5df97f=a0_0x8ae9,_0x1ad436=_0x5d8fef(0x11);_0x1765c1['exports']=function(_0x4be11d,_0x3d3bd7){var _0x50e5fb=a0_0x8ae9;if(_0x50e5fb(0xf3)!=typeof _0x3d3bd7&&null!==_0x3d3bd7)throw new TypeError('Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function');_0x4be11d[_0x50e5fb(0x1cb)]=Object[_0x50e5fb(0xe2)](_0x3d3bd7&&_0x3d3bd7['prototype'],{'constructor':{'value':_0x4be11d,'writable':!0x0,'configurable':!0x0}}),_0x3d3bd7&&_0x1ad436(_0x4be11d,_0x3d3bd7);},_0x1765c1[_0x5df97f(0x1a2)]['default']=_0x1765c1[_0x5df97f(0x1a2)],_0x1765c1['exports']['__esModule']=!0x0;},function(_0x133c2c,_0x229ce4,_0x54e059){var _0x39d4c0=a0_0x8ae9,_0x1a0adb=_0x54e059(0x12)['default'],_0x1e22a4=_0x54e059(0x13);_0x133c2c['exports']=function(_0x4273b8,_0xa5812c){var _0x4335a1=a0_0x8ae9;if(_0xa5812c&&('object'===_0x1a0adb(_0xa5812c)||_0x4335a1(0xf3)==typeof _0xa5812c))return _0xa5812c;if(void 0x0!==_0xa5812c)throw new TypeError(_0x4335a1(0x188));return _0x1e22a4(_0x4273b8);},_0x133c2c[_0x39d4c0(0x1a2)][_0x39d4c0(0x23f)]=_0x133c2c[_0x39d4c0(0x1a2)],_0x133c2c[_0x39d4c0(0x1a2)][_0x39d4c0(0x144)]=!0x0;},function(_0x46d37f,_0x52d60b){var _0x3d9d71=a0_0x8ae9;_0x46d37f[_0x3d9d71(0x1a2)]='attribute\x20vec3\x20position;\x0d\x0aattribute\x20vec2\x20st;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20textureCoordinate\x20=\x20st;\x0d\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(position,\x201.0);\x0d\x0a}';},function(_0x11bbc9,_0x43d0bb){var _0x4e0b83=a0_0x8ae9;_0x11bbc9[_0x4e0b83(0x1a2)]=_0x4e0b83(0x148);},function(_0x12a5cc,_0x1c21a8){var _0x5a5f7b=a0_0x8ae9;_0x12a5cc['exports']=_0x5a5f7b(0x189);},function(_0x3072cf,_0x4acf62){var _0x3ad9cb=a0_0x8ae9;_0x3072cf[_0x3ad9cb(0x1a2)]=_0x3ad9cb(0x143);},function(_0x4f2a78,_0x3c8767){var _0x140e29=a0_0x8ae9;_0x4f2a78[_0x140e29(0x1a2)]=_0x140e29(0x130);},function(_0x7f4dc2,_0x1b3899){var _0x5f0a4a=a0_0x8ae9;_0x7f4dc2['exports']=_0x5f0a4a(0x126);},function(_0x361d16,_0x447487){var _0x358e6b=a0_0x8ae9;_0x361d16[_0x358e6b(0x1a2)]=_0x358e6b(0x19b);},function(_0x12b300,_0x24e592){var _0x2e686c=a0_0x8ae9;_0x12b300[_0x2e686c(0x1a2)]=_0x2e686c(0x229);},function(_0x1f35fb,_0x4d6b67){_0x1f35fb['exports']='uniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0a\x0auniform\x20float\x20randomCoefficient;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0auniform\x20float\x20dropRate;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0auniform\x20float\x20dropRateBump;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898,\x2078.233,\x204375.85453);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0,\x201.0);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0);\x0a\x20\x20\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20lev);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20\x20\x20return\x20particle.y\x20<\x20-90.0\x20||\x20particle.y\x20>\x2090.0;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20texture2D(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20nextSpeed.a;\x0a\x0a\x20\x20\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20\x20\x20if\x20(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(randomParticle,\x201.0);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a\x20\x20\x20\x20}\x0a}';},function(_0x8f49e0,_0x26c940){var _0x696dfa=a0_0x8ae9;_0x8f49e0[_0x696dfa(0x1a2)]=_0x696dfa(0x241);},function(_0x4a5c5f,_0x1f1ad5){var _0x37da3b=a0_0x8ae9;function _0x5d9c7a(_0x1f3e07,_0x43674a){var _0x18b547=a0_0x8ae9;return _0x4a5c5f[_0x18b547(0x1a2)]=_0x5d9c7a=Object[_0x18b547(0x11a)]||function(_0xa0b0ad,_0x2f9049){return _0xa0b0ad['__proto__']=_0x2f9049,_0xa0b0ad;},_0x4a5c5f[_0x18b547(0x1a2)][_0x18b547(0x23f)]=_0x4a5c5f[_0x18b547(0x1a2)],_0x4a5c5f[_0x18b547(0x1a2)][_0x18b547(0x144)]=!0x0,_0x5d9c7a(_0x1f3e07,_0x43674a);}_0x4a5c5f[_0x37da3b(0x1a2)]=_0x5d9c7a,_0x4a5c5f['exports'][_0x37da3b(0x23f)]=_0x4a5c5f[_0x37da3b(0x1a2)],_0x4a5c5f['exports'][_0x37da3b(0x144)]=!0x0;},function(_0x1aca7f,_0x43d4aa){var _0x15df72=a0_0x8ae9;function _0x466d1f(_0x1671ee){var _0xd6bce8=a0_0x8ae9;return _0xd6bce8(0xf3)==typeof Symbol&&_0xd6bce8(0x243)==typeof Symbol[_0xd6bce8(0xf2)]?(_0x1aca7f[_0xd6bce8(0x1a2)]=_0x466d1f=function(_0x2be5ed){return typeof _0x2be5ed;},_0x1aca7f[_0xd6bce8(0x1a2)][_0xd6bce8(0x23f)]=_0x1aca7f[_0xd6bce8(0x1a2)],_0x1aca7f[_0xd6bce8(0x1a2)][_0xd6bce8(0x144)]=!0x0):(_0x1aca7f[_0xd6bce8(0x1a2)]=_0x466d1f=function(_0x1db876){var _0x3d62e6=_0xd6bce8;return _0x1db876&&_0x3d62e6(0xf3)==typeof Symbol&&_0x1db876[_0x3d62e6(0x1b0)]===Symbol&&_0x1db876!==Symbol[_0x3d62e6(0x1cb)]?'symbol':typeof _0x1db876;},_0x1aca7f[_0xd6bce8(0x1a2)][_0xd6bce8(0x23f)]=_0x1aca7f[_0xd6bce8(0x1a2)],_0x1aca7f[_0xd6bce8(0x1a2)][_0xd6bce8(0x144)]=!0x0),_0x466d1f(_0x1671ee);}_0x1aca7f['exports']=_0x466d1f,_0x1aca7f[_0x15df72(0x1a2)][_0x15df72(0x23f)]=_0x1aca7f[_0x15df72(0x1a2)],_0x1aca7f[_0x15df72(0x1a2)][_0x15df72(0x144)]=!0x0;},function(_0x31f1bd,_0x4b1998){var _0x4e9887=a0_0x8ae9;_0x31f1bd[_0x4e9887(0x1a2)]=function(_0x548a12){var _0x400620=_0x4e9887;if(void 0x0===_0x548a12)throw new ReferenceError(_0x400620(0x1b2));return _0x548a12;},_0x31f1bd[_0x4e9887(0x1a2)][_0x4e9887(0x23f)]=_0x31f1bd[_0x4e9887(0x1a2)],_0x31f1bd[_0x4e9887(0x1a2)][_0x4e9887(0x144)]=!0x0;},function(_0x3eecd9,_0x2db4bd,_0x4b6536){'use strict';var _0x44c81b=a0_0x8ae9;_0x4b6536['r'](_0x2db4bd),_0x4b6536['d'](_0x2db4bd,'WindLayer',function(){return _0x23e896;}),_0x4b6536['d'](_0x2db4bd,'CanvasWindLayer',function(){return _0x3423a4;}),_0x4b6536['d'](_0x2db4bd,_0x44c81b(0x242),function(){return _0x53a66b;});var _0x53a66b={};_0x4b6536['r'](_0x53a66b),_0x4b6536['d'](_0x53a66b,_0x44c81b(0x12a),function(){return _0x59029a;}),_0x4b6536['d'](_0x53a66b,_0x44c81b(0xf6),function(){return _0x10f46d;}),_0x4b6536['d'](_0x53a66b,_0x44c81b(0x216),function(){return _0x4e7d22;}),_0x4b6536['d'](_0x53a66b,'getDirection',function(){return _0x47a2f7;});var _0x471f00=_0x4b6536(0x1),_0xde9f9f=_0x4b6536(0x2),_0x59d16f=_0x4b6536['n'](_0xde9f9f),_0x12e370=_0x4b6536(0x3),_0x1c876d=_0x4b6536['n'](_0x12e370),_0x2b6a9e=_0x4b6536(0x5),_0x2a616c=_0x4b6536['n'](_0x2b6a9e),_0xfaa21f=_0x4b6536(0x6),_0x18131b=_0x4b6536['n'](_0xfaa21f),_0x4aec7b=_0x4b6536(0x4),_0x2fc16a=_0x4b6536['n'](_0x4aec7b),_0x112b1f=_0x4b6536(0x0),_0x79616c=function(){var _0x5e8224=_0x44c81b;function _0x1123da(_0x14fa1e){var _0x280928=a0_0x8ae9;_0x59d16f()(this,_0x1123da),this[_0x280928(0x1b4)]=_0x14fa1e[_0x280928(0x1b4)],this[_0x280928(0x203)]=_0x14fa1e[_0x280928(0x203)],this[_0x280928(0x194)]=_0x14fa1e[_0x280928(0x194)],this['primitiveType']=_0x14fa1e[_0x280928(0x1a5)],this[_0x280928(0xfe)]=_0x14fa1e[_0x280928(0xfe)],this[_0x280928(0x1cc)]=_0x14fa1e[_0x280928(0x1cc)],this[_0x280928(0x1af)]=_0x14fa1e['fragmentShaderSource'],this[_0x280928(0x11d)]=_0x14fa1e['rawRenderState'],this[_0x280928(0xd5)]=_0x14fa1e['framebuffer'],this[_0x280928(0x223)]=_0x14fa1e[_0x280928(0x223)],this[_0x280928(0x118)]=_0x112b1f[_0x280928(0x16b)](_0x14fa1e[_0x280928(0x118)],!0x1),this['preExecute']=_0x14fa1e[_0x280928(0x10c)],this[_0x280928(0xf9)]=!0x0,this[_0x280928(0x200)]=void 0x0,this[_0x280928(0xda)]=void 0x0,this['autoClear']&&(this['clearCommand']=new _0x112b1f['ClearCommand']({'color':new _0x112b1f[(_0x280928(0x174))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this[_0x280928(0xd5)],'pass':_0x112b1f[_0x280928(0x1ad)][_0x280928(0x207)]}));}return _0x1c876d()(_0x1123da,[{'key':'createCommand','value':function(_0xe09957){var _0x526bef=a0_0x8ae9;switch(this[_0x526bef(0x1b4)]){case _0x526bef(0x208):var _0x508aff=_0x112b1f[_0x526bef(0xe6)][_0x526bef(0x117)]({'context':_0xe09957,'geometry':this[_0x526bef(0x203)],'attributeLocations':this[_0x526bef(0x194)],'bufferUsage':_0x112b1f[_0x526bef(0x1b1)][_0x526bef(0x150)]}),_0xb51056=_0x112b1f[_0x526bef(0x1ae)][_0x526bef(0x13e)]({'context':_0xe09957,'attributeLocations':this['attributeLocations'],'vertexShaderSource':this[_0x526bef(0x1cc)],'fragmentShaderSource':this[_0x526bef(0x1af)]}),_0x57dff0=_0x112b1f['RenderState'][_0x526bef(0x13e)](this[_0x526bef(0x11d)]);return new _0x112b1f[(_0x526bef(0x13c))]({'owner':this,'vertexArray':_0x508aff,'primitiveType':this['primitiveType'],'uniformMap':this[_0x526bef(0xfe)],'modelMatrix':_0x112b1f[_0x526bef(0x13a)]['IDENTITY'],'shaderProgram':_0xb51056,'framebuffer':this[_0x526bef(0xd5)],'renderState':_0x57dff0,'pass':_0x112b1f[_0x526bef(0x1ad)][_0x526bef(0x207)]});case _0x526bef(0x172):return new _0x112b1f[(_0x526bef(0x152))]({'owner':this,'fragmentShaderSource':this[_0x526bef(0x1af)],'uniformMap':this['uniformMap'],'outputTexture':this[_0x526bef(0x223)],'persists':!0x0});}}},{'key':_0x5e8224(0x199),'value':function(_0x23e1de,_0x4686f3){var _0x542d3c=_0x5e8224;this[_0x542d3c(0x203)]=_0x4686f3;var _0x38ad80=_0x112b1f[_0x542d3c(0xe6)][_0x542d3c(0x117)]({'context':_0x23e1de,'geometry':this[_0x542d3c(0x203)],'attributeLocations':this[_0x542d3c(0x194)],'bufferUsage':_0x112b1f[_0x542d3c(0x1b1)][_0x542d3c(0x150)]});this[_0x542d3c(0x200)]['vertexArray']=_0x38ad80;}},{'key':_0x5e8224(0x1f1),'value':function(_0x463c40){var _0x2f1936=_0x5e8224;this[_0x2f1936(0xf9)]&&_0x463c40[_0x2f1936(0x157)]==_0x112b1f[_0x2f1936(0x1cd)][_0x2f1936(0x1bd)]&&(_0x112b1f['defined'](this[_0x2f1936(0x200)])||(this[_0x2f1936(0x200)]=this[_0x2f1936(0x184)](_0x463c40[_0x2f1936(0x1ba)])),_0x112b1f[_0x2f1936(0x165)](this[_0x2f1936(0x10c)])&&this[_0x2f1936(0x10c)](),_0x112b1f['defined'](this[_0x2f1936(0xda)])&&_0x463c40[_0x2f1936(0x17e)][_0x2f1936(0x181)](this['clearCommand']),_0x463c40[_0x2f1936(0x17e)][_0x2f1936(0x181)](this[_0x2f1936(0x200)]));}},{'key':_0x5e8224(0x232),'value':function(){return!0x1;}},{'key':'destroy','value':function(){var _0x2682ed=_0x5e8224;return _0x112b1f[_0x2682ed(0x165)](this[_0x2682ed(0x200)])&&(this[_0x2682ed(0x200)]['shaderProgram']=this[_0x2682ed(0x200)][_0x2682ed(0x14e)]&&this[_0x2682ed(0x200)][_0x2682ed(0x14e)]['destroy']()),_0x112b1f[_0x2682ed(0x18e)](this);}}]),_0x1123da;}(),_0x4b765d={'getFullscreenQuad':function(){var _0x44ea54=_0x44c81b;return new _0x112b1f[(_0x44ea54(0x107))]({'attributes':new _0x112b1f[(_0x44ea54(0x244))]({'position':new _0x112b1f[(_0x44ea54(0x1ed))]({'componentDatatype':_0x112b1f[_0x44ea54(0x19a)][_0x44ea54(0x21b)],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new _0x112b1f[(_0x44ea54(0x1ed))]({'componentDatatype':_0x112b1f[_0x44ea54(0x19a)][_0x44ea54(0x21b)],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});},'createTexture':function(_0x444234,_0x1d419e){var _0x4c532a=_0x44c81b;if(_0x112b1f[_0x4c532a(0x165)](_0x1d419e)){var _0x140d4={};_0x140d4[_0x4c532a(0x1dd)]=_0x1d419e,_0x444234[_0x4c532a(0xdc)]=_0x140d4;}return new _0x112b1f['Texture'](_0x444234);},'createFramebuffer':function(_0x3842f8,_0x16a13c,_0x4a7310){return new _0x112b1f['Framebuffer']({'context':_0x3842f8,'colorTextures':[_0x16a13c],'depthTexture':_0x4a7310});},'createRawRenderState':function(_0x318430){var _0x5315a9=_0x44c81b,_0x2bed4e={'viewport':_0x318430[_0x5315a9(0x1df)],'depthTest':_0x318430['depthTest'],'depthMask':_0x318430[_0x5315a9(0x105)],'blending':_0x318430[_0x5315a9(0xee)]};return _0x112b1f['Appearance']['getDefaultRenderState'](!0x0,!0x1,_0x2bed4e);},'viewRectangleToLonLatRange':function(_0x156dce){var _0x39a531=_0x44c81b,_0x4b7775,_0x5b4da9,_0x5b19ff={},_0x139bca=_0x112b1f[_0x39a531(0x131)]['mod'](_0x156dce['west'],_0x112b1f[_0x39a531(0x131)][_0x39a531(0x217)]),_0x53e543=_0x112b1f[_0x39a531(0x131)][_0x39a531(0x222)](_0x156dce[_0x39a531(0x129)],_0x112b1f['Math']['TWO_PI']),_0x4301b9=_0x156dce['width'];_0x4301b9>_0x112b1f[_0x39a531(0x131)][_0x39a531(0x17a)]?(_0x4b7775=0x0,_0x5b4da9=_0x112b1f[_0x39a531(0x131)][_0x39a531(0x217)]):_0x53e543-_0x139bca<_0x4301b9?(_0x4b7775=_0x139bca,_0x5b4da9=_0x139bca+_0x4301b9):(_0x4b7775=_0x139bca,_0x5b4da9=_0x53e543),_0x5b19ff[_0x39a531(0xf4)]={'min':_0x112b1f[_0x39a531(0x131)][_0x39a531(0x135)](_0x4b7775),'max':_0x112b1f[_0x39a531(0x131)][_0x39a531(0x135)](_0x5b4da9)};var _0x344856=_0x156dce[_0x39a531(0x115)],_0xda060e=_0x156dce[_0x39a531(0x23b)],_0xb9c4b6=_0x156dce[_0x39a531(0x1ec)],_0x95a34a=_0xb9c4b6>_0x112b1f[_0x39a531(0x131)]['PI']/0xc?_0xb9c4b6/0x2:0x0,_0x4638e9=_0x112b1f['Math'][_0x39a531(0x112)](_0x344856-_0x95a34a),_0x1915df=_0x112b1f['Math'][_0x39a531(0x112)](_0xda060e+_0x95a34a);return _0x4638e9<-_0x112b1f[_0x39a531(0x131)]['PI_OVER_THREE']&&(_0x4638e9=-_0x112b1f[_0x39a531(0x131)][_0x39a531(0x164)]),_0x1915df>_0x112b1f[_0x39a531(0x131)][_0x39a531(0x182)]&&(_0x1915df=_0x112b1f['Math']['PI_OVER_TWO']),_0x5b19ff[_0x39a531(0x14d)]={'min':_0x112b1f['Math'][_0x39a531(0x135)](_0x4638e9),'max':_0x112b1f[_0x39a531(0x131)][_0x39a531(0x135)](_0x1915df)},_0x5b19ff;}},_0x3aa3e9=_0x4b6536(0x8),_0x3de98f=_0x4b6536['n'](_0x3aa3e9),_0x3389d7=_0x4b6536(0x9),_0x5977fb=_0x4b6536['n'](_0x3389d7),_0x919c3e=_0x4b6536(0x7),_0x307aab=_0x4b6536['n'](_0x919c3e),_0x406226=_0x4b6536(0xa),_0x2bd167=_0x4b6536['n'](_0x406226),_0x575475=_0x4b6536(0xb),_0x5c1b59=_0x4b6536['n'](_0x575475),_0x2030af=function(){var _0x3be8e6=_0x44c81b;function _0x2493da(_0x28d44c,_0x5ae216,_0x3a1669,_0x4e59a8,_0x25ca31){var _0xca28aa=a0_0x8ae9;_0x59d16f()(this,_0x2493da),this[_0xca28aa(0x13b)](_0x28d44c,_0x5ae216),this[_0xca28aa(0x230)](_0x28d44c),this[_0xca28aa(0x15d)](_0x28d44c,_0x3a1669,_0x4e59a8,_0x25ca31);}return _0x1c876d()(_0x2493da,[{'key':'createRenderingTextures','value':function(_0x11d0ce,_0x3ec15b){var _0x2acbdb=a0_0x8ae9,_0x59e419={'context':_0x11d0ce,'width':_0x11d0ce['drawingBufferWidth'],'height':_0x11d0ce[_0x2acbdb(0x1d7)],'pixelFormat':_0x112b1f[_0x2acbdb(0x210)]['RGBA'],'pixelDatatype':_0x112b1f[_0x2acbdb(0x11b)][_0x2acbdb(0x159)]},_0x5c4aef={'context':_0x11d0ce,'width':_0x11d0ce[_0x2acbdb(0x166)],'height':_0x11d0ce[_0x2acbdb(0x1d7)],'pixelFormat':_0x112b1f[_0x2acbdb(0x210)][_0x2acbdb(0x234)],'pixelDatatype':_0x112b1f[_0x2acbdb(0x11b)]['UNSIGNED_INT']},_0x515453={'context':_0x11d0ce,'width':_0x3ec15b[_0x2acbdb(0x235)][_0x2acbdb(0xdf)],'height':0x1,'pixelFormat':_0x112b1f[_0x2acbdb(0x210)]['RGB'],'pixelDatatype':_0x112b1f['PixelDatatype']['FLOAT'],'sampler':new _0x112b1f['Sampler']({'minificationFilter':_0x112b1f['TextureMinificationFilter'][_0x2acbdb(0x1dc)],'magnificationFilter':_0x112b1f[_0x2acbdb(0x18d)]['LINEAR']})};this[_0x2acbdb(0x15e)]={'segmentsColor':_0x4b765d[_0x2acbdb(0x187)](_0x59e419),'segmentsDepth':_0x4b765d[_0x2acbdb(0x187)](_0x5c4aef),'currentTrailsColor':_0x4b765d[_0x2acbdb(0x187)](_0x59e419),'currentTrailsDepth':_0x4b765d[_0x2acbdb(0x187)](_0x5c4aef),'nextTrailsColor':_0x4b765d[_0x2acbdb(0x187)](_0x59e419),'nextTrailsDepth':_0x4b765d[_0x2acbdb(0x187)](_0x5c4aef),'colorTable':_0x4b765d[_0x2acbdb(0x187)](_0x515453,_0x3ec15b[_0x2acbdb(0x235)]['array'])};}},{'key':_0x3be8e6(0x230),'value':function(_0x5ced82){var _0x4a126c=_0x3be8e6;this['framebuffers']={'segments':_0x4b765d[_0x4a126c(0x151)](_0x5ced82,this[_0x4a126c(0x15e)][_0x4a126c(0x175)],this[_0x4a126c(0x15e)][_0x4a126c(0x1ce)]),'currentTrails':_0x4b765d[_0x4a126c(0x151)](_0x5ced82,this[_0x4a126c(0x15e)][_0x4a126c(0x233)],this[_0x4a126c(0x15e)][_0x4a126c(0x20f)]),'nextTrails':_0x4b765d[_0x4a126c(0x151)](_0x5ced82,this[_0x4a126c(0x15e)]['nextTrailsColor'],this['textures'][_0x4a126c(0x1f6)])};}},{'key':_0x3be8e6(0x124),'value':function(_0x256f61){var _0x2488cb=_0x3be8e6;for(var _0x11103b=[],_0x1f5fa1=0x0;_0x1f5fa1<_0x256f61[_0x2488cb(0x114)];_0x1f5fa1++)for(var _0x28b03f=0x0;_0x28b03f<_0x256f61['particlesTextureSize'];_0x28b03f++)for(var _0x1fb556=0x0;_0x1fb556<0x4;_0x1fb556++)_0x11103b[_0x2488cb(0x181)](_0x1f5fa1/_0x256f61[_0x2488cb(0x114)]),_0x11103b[_0x2488cb(0x181)](_0x28b03f/_0x256f61['particlesTextureSize']);_0x11103b=new Float32Array(_0x11103b);for(var _0x51e60b=[],_0x3b2444=[-0x1,0x1],_0x30b6f1=[-0x1,0x1],_0x3758a8=0x0;_0x3758a8<_0x256f61[_0x2488cb(0x1d6)];_0x3758a8++)for(var _0xcbf7e0=0x0;_0xcbf7e0<0x2;_0xcbf7e0++)for(var _0x268059=0x0;_0x268059<0x2;_0x268059++)_0x51e60b['push'](_0x3b2444[_0xcbf7e0]),_0x51e60b[_0x2488cb(0x181)](_0x30b6f1[_0x268059]),_0x51e60b[_0x2488cb(0x181)](0x0);_0x51e60b=new Float32Array(_0x51e60b);for(var _0x36f230=0x6*_0x256f61[_0x2488cb(0x1d6)],_0x4ac062=new Uint32Array(_0x36f230),_0x3f97c8=0x0,_0x5e9a0e=0x0,_0x10ebab=0x0;_0x3f97c8<_0x256f61[_0x2488cb(0x1d6)];_0x3f97c8++)_0x4ac062[_0x5e9a0e++]=_0x10ebab+0x0,_0x4ac062[_0x5e9a0e++]=_0x10ebab+0x1,_0x4ac062[_0x5e9a0e++]=_0x10ebab+0x2,_0x4ac062[_0x5e9a0e++]=_0x10ebab+0x2,_0x4ac062[_0x5e9a0e++]=_0x10ebab+0x1,_0x4ac062[_0x5e9a0e++]=_0x10ebab+0x3,_0x10ebab+=0x4;return new _0x112b1f[(_0x2488cb(0x107))]({'attributes':new _0x112b1f[(_0x2488cb(0x244))]({'st':new _0x112b1f[(_0x2488cb(0x1ed))]({'componentDatatype':_0x112b1f['ComponentDatatype'][_0x2488cb(0x21b)],'componentsPerAttribute':0x2,'values':_0x11103b}),'normal':new _0x112b1f['GeometryAttribute']({'componentDatatype':_0x112b1f[_0x2488cb(0x19a)][_0x2488cb(0x21b)],'componentsPerAttribute':0x3,'values':_0x51e60b})}),'indices':_0x4ac062});}},{'key':_0x3be8e6(0x15d),'value':function(_0x2bb3ec,_0x1e9256,_0x28b857,_0x3a06e8){var _0x5e9046=_0x3be8e6,_0x391460=this;this['primitives']={'segments':new _0x79616c({'commandType':_0x5e9046(0x208),'attributeLocations':{'st':0x0,'normal':0x1},'geometry':this[_0x5e9046(0x124)](_0x1e9256),'primitiveType':_0x112b1f['PrimitiveType'][_0x5e9046(0x204)],'uniformMap':{'currentParticlesPosition':function(){var _0x373bde=_0x5e9046;return _0x3a06e8[_0x373bde(0x122)][_0x373bde(0x1c6)];},'postProcessingPosition':function(){var _0x18c7c6=_0x5e9046;return _0x3a06e8[_0x18c7c6(0x122)][_0x18c7c6(0x141)];},'postProcessingSpeed':function(){var _0x29257d=_0x5e9046;return _0x3a06e8[_0x29257d(0x122)][_0x29257d(0x22a)];},'colorTable':function(){var _0x45603c=_0x5e9046;return _0x391460[_0x45603c(0x15e)][_0x45603c(0x235)];},'aspect':function(){return _0x2bb3ec['drawingBufferWidth']/_0x2bb3ec['drawingBufferHeight'];},'pixelSize':function(){return _0x28b857['pixelSize'];},'lineWidth':function(){var _0x27dd66=_0x5e9046;return _0x1e9256[_0x27dd66(0x23d)];},'particleHeight':function(){return _0x1e9256['particleHeight'];}},'vertexShaderSource':new _0x112b1f['ShaderSource']({'sources':[_0x3de98f['a']]}),'fragmentShaderSource':new _0x112b1f[(_0x5e9046(0x205))]({'sources':[_0x5977fb['a']]}),'rawRenderState':_0x4b765d[_0x5e9046(0xf1)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0},'depthMask':!0x0}),'framebuffer':this[_0x5e9046(0x1bb)]['segments'],'autoClear':!0x0}),'trails':new _0x79616c({'commandType':_0x5e9046(0x208),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x4b765d[_0x5e9046(0x22d)](),'primitiveType':_0x112b1f['PrimitiveType'][_0x5e9046(0x204)],'uniformMap':{'segmentsColorTexture':function(){var _0x24099a=_0x5e9046;return _0x391460[_0x24099a(0x15e)][_0x24099a(0x175)];},'segmentsDepthTexture':function(){var _0x1eade8=_0x5e9046;return _0x391460[_0x1eade8(0x15e)][_0x1eade8(0x1ce)];},'currentTrailsColor':function(){var _0x3bc79f=_0x5e9046;return _0x391460['framebuffers'][_0x3bc79f(0x158)][_0x3bc79f(0xe5)](0x0);},'trailsDepthTexture':function(){var _0x7f617e=_0x5e9046;return _0x391460[_0x7f617e(0x1bb)][_0x7f617e(0x158)][_0x7f617e(0x108)];},'fadeOpacity':function(){var _0xa9815b=_0x5e9046;return _0x1e9256[_0xa9815b(0x1a4)];}},'vertexShaderSource':new _0x112b1f[(_0x5e9046(0x205))]({'defines':['DISABLE_GL_POSITION_LOG_DEPTH'],'sources':[_0x307aab['a']]}),'fragmentShaderSource':new _0x112b1f[(_0x5e9046(0x205))]({'defines':[_0x5e9046(0x190)],'sources':[_0x2bd167['a']]}),'rawRenderState':_0x4b765d[_0x5e9046(0xf1)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0,'func':_0x112b1f[_0x5e9046(0x123)][_0x5e9046(0x15b)]},'depthMask':!0x0}),'framebuffer':this[_0x5e9046(0x1bb)][_0x5e9046(0x1e4)],'autoClear':!0x0,'preExecute':function(){var _0x128be6=_0x5e9046,_0x310b7e;_0x310b7e=_0x391460[_0x128be6(0x1bb)][_0x128be6(0x158)],_0x391460[_0x128be6(0x1bb)][_0x128be6(0x158)]=_0x391460['framebuffers'][_0x128be6(0x1e4)],_0x391460[_0x128be6(0x1bb)]['nextTrails']=_0x310b7e,_0x391460['primitives'][_0x128be6(0x133)][_0x128be6(0x200)][_0x128be6(0xd5)]=_0x391460[_0x128be6(0x1bb)][_0x128be6(0x1e4)],_0x391460[_0x128be6(0xea)]['trails']['clearCommand']['framebuffer']=_0x391460[_0x128be6(0x1bb)]['nextTrails'];}}),'screen':new _0x79616c({'commandType':_0x5e9046(0x208),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x4b765d[_0x5e9046(0x22d)](),'primitiveType':_0x112b1f['PrimitiveType'][_0x5e9046(0x204)],'uniformMap':{'trailsColorTexture':function(){var _0x32fd06=_0x5e9046;return _0x391460[_0x32fd06(0x1bb)]['nextTrails']['getColorTexture'](0x0);},'trailsDepthTexture':function(){var _0x42bb31=_0x5e9046;return _0x391460[_0x42bb31(0x1bb)][_0x42bb31(0x1e4)][_0x42bb31(0x108)];}},'vertexShaderSource':new _0x112b1f['ShaderSource']({'defines':['DISABLE_GL_POSITION_LOG_DEPTH'],'sources':[_0x307aab['a']]}),'fragmentShaderSource':new _0x112b1f['ShaderSource']({'defines':[_0x5e9046(0x190)],'sources':[_0x5c1b59['a']]}),'rawRenderState':_0x4b765d[_0x5e9046(0xf1)]({'viewport':void 0x0,'depthTest':{'enabled':!0x1},'depthMask':!0x0,'blending':{'enabled':!0x0}}),'framebuffer':void 0x0})};}}]),_0x2493da;}(),_0x4368d2=_0x4b6536(0xc),_0xd848ae=_0x4b6536['n'](_0x4368d2),_0x1b399a=_0x4b6536(0xd),_0x319665=_0x4b6536['n'](_0x1b399a),_0xc2e589=_0x4b6536(0xe),_0x4a72ac=_0x4b6536['n'](_0xc2e589),_0x2dc103=_0x4b6536(0xf),_0x35d6fb=_0x4b6536['n'](_0x2dc103),_0x4efbe1=_0x4b6536(0x10),_0xf933e1=_0x4b6536['n'](_0x4efbe1),_0x3d4d2f=function(){var _0x184c11=_0x44c81b;function _0x2c0580(_0x26a9fd,_0x48ef7e,_0xa241a5,_0x5b6e11){var _0x3c05a0=a0_0x8ae9;_0x59d16f()(this,_0x2c0580),this[_0x3c05a0(0x162)]=_0x48ef7e,this[_0x3c05a0(0x1e5)](_0x26a9fd,_0x48ef7e),this[_0x3c05a0(0x13f)](_0x26a9fd,_0xa241a5,_0x5b6e11),this[_0x3c05a0(0x110)](_0x48ef7e,_0xa241a5,_0x5b6e11);}return _0x1c876d()(_0x2c0580,[{'key':_0x184c11(0x1e5),'value':function(_0x441181,_0x4a9956){var _0x2c6de1=_0x184c11,_0x279d4f={'context':_0x441181,'width':_0x4a9956['dimensions'][_0x2c6de1(0xf4)],'height':_0x4a9956[_0x2c6de1(0x18f)][_0x2c6de1(0x14d)]*_0x4a9956[_0x2c6de1(0x18f)][_0x2c6de1(0x21f)],'pixelFormat':_0x112b1f['PixelFormat'][_0x2c6de1(0x16c)],'pixelDatatype':_0x112b1f[_0x2c6de1(0x11b)][_0x2c6de1(0x21b)],'flipY':!0x1,'sampler':new _0x112b1f[(_0x2c6de1(0x19f))]({'minificationFilter':_0x112b1f['TextureMinificationFilter'][_0x2c6de1(0x1e7)],'magnificationFilter':_0x112b1f[_0x2c6de1(0x18d)][_0x2c6de1(0x1e7)]})};this[_0x2c6de1(0x1c5)]={'U':_0x4b765d[_0x2c6de1(0x187)](_0x279d4f,_0x4a9956['U'][_0x2c6de1(0x154)]),'V':_0x4b765d[_0x2c6de1(0x187)](_0x279d4f,_0x4a9956['V'][_0x2c6de1(0x154)])};}},{'key':_0x184c11(0x13f),'value':function(_0x2281d6,_0x578233,_0x724be3){var _0x4458c4=_0x184c11,_0x2f1391={'context':_0x2281d6,'width':_0x578233[_0x4458c4(0x114)],'height':_0x578233[_0x4458c4(0x114)],'pixelFormat':_0x112b1f['PixelFormat'][_0x4458c4(0x1ab)],'pixelDatatype':_0x112b1f['PixelDatatype']['FLOAT'],'flipY':!0x1,'sampler':new _0x112b1f['Sampler']({'minificationFilter':_0x112b1f[_0x4458c4(0x227)][_0x4458c4(0x1e7)],'magnificationFilter':_0x112b1f[_0x4458c4(0x18d)]['NEAREST']})},_0x389b61=this[_0x4458c4(0x1b8)](_0x578233[_0x4458c4(0x1d6)],_0x724be3),_0x4e0420=new Float32Array(0x4*_0x578233['maxParticles'])['fill'](0x0);this['particlesTextures']={'particlesWind':_0x4b765d[_0x4458c4(0x187)](_0x2f1391),'currentParticlesPosition':_0x4b765d[_0x4458c4(0x187)](_0x2f1391,_0x389b61),'nextParticlesPosition':_0x4b765d[_0x4458c4(0x187)](_0x2f1391,_0x389b61),'currentParticlesSpeed':_0x4b765d[_0x4458c4(0x187)](_0x2f1391,_0x4e0420),'nextParticlesSpeed':_0x4b765d['createTexture'](_0x2f1391,_0x4e0420),'postProcessingPosition':_0x4b765d[_0x4458c4(0x187)](_0x2f1391,_0x389b61),'postProcessingSpeed':_0x4b765d[_0x4458c4(0x187)](_0x2f1391,_0x4e0420)};}},{'key':_0x184c11(0x1b8),'value':function(_0x4cab1d,_0x26f8fb){var _0x5f03a1=_0x184c11;for(var _0x2b0df6=new Float32Array(0x4*_0x4cab1d),_0xdfaf75=0x0;_0xdfaf75<_0x4cab1d;_0xdfaf75++)_0x2b0df6[0x4*_0xdfaf75]=_0x112b1f['Math'][_0x5f03a1(0x1ac)](_0x26f8fb[_0x5f03a1(0x16f)]['x'],_0x26f8fb[_0x5f03a1(0x16f)]['y']),_0x2b0df6[0x4*_0xdfaf75+0x1]=_0x112b1f[_0x5f03a1(0x131)][_0x5f03a1(0x1ac)](_0x26f8fb[_0x5f03a1(0xec)]['x'],_0x26f8fb[_0x5f03a1(0xec)]['y']),_0x2b0df6[0x4*_0xdfaf75+0x2]=_0x112b1f[_0x5f03a1(0x131)][_0x5f03a1(0x1ac)](this[_0x5f03a1(0x162)][_0x5f03a1(0x21f)][_0x5f03a1(0x161)],this[_0x5f03a1(0x162)][_0x5f03a1(0x21f)]['max']),_0x2b0df6[0x4*_0xdfaf75+0x3]=0x0;return _0x2b0df6;}},{'key':_0x184c11(0x12b),'value':function(){var _0x35aa1f=_0x184c11,_0x32555e=this;Object[_0x35aa1f(0x21c)](this[_0x35aa1f(0x122)])[_0x35aa1f(0x1f0)](function(_0x54593d){var _0xeb6947=_0x35aa1f;_0x32555e[_0xeb6947(0x122)][_0x54593d]['destroy']();});}},{'key':_0x184c11(0x110),'value':function(_0x919a49,_0x53fa1b,_0x5b58d8){var _0x416d13=_0x184c11,_0x5be872=new _0x112b1f[(_0x416d13(0x19d))](_0x919a49[_0x416d13(0x18f)]['lon'],_0x919a49[_0x416d13(0x18f)][_0x416d13(0x14d)],_0x919a49[_0x416d13(0x18f)][_0x416d13(0x21f)]),_0x32a14a=new _0x112b1f[(_0x416d13(0x19d))](_0x919a49[_0x416d13(0xf4)][_0x416d13(0x161)],_0x919a49[_0x416d13(0x14d)][_0x416d13(0x161)],_0x919a49[_0x416d13(0x21f)]['min']),_0x17bceb=new _0x112b1f[(_0x416d13(0x19d))](_0x919a49[_0x416d13(0xf4)][_0x416d13(0x20e)],_0x919a49[_0x416d13(0x14d)][_0x416d13(0x20e)],_0x919a49['lev'][_0x416d13(0x20e)]),_0x132384=new _0x112b1f[(_0x416d13(0x19d))]((_0x17bceb['x']-_0x32a14a['x'])/(_0x5be872['x']-0x1),(_0x17bceb['y']-_0x32a14a['y'])/(_0x5be872['y']-0x1),_0x5be872['z']>0x1?(_0x17bceb['z']-_0x32a14a['z'])/(_0x5be872['z']-0x1):0x1),_0x3d8941=new _0x112b1f[(_0x416d13(0x10e))](_0x919a49['U'][_0x416d13(0x161)],_0x919a49['U']['max']),_0x50a9e5=new _0x112b1f[(_0x416d13(0x10e))](_0x919a49['V']['min'],_0x919a49['V'][_0x416d13(0x20e)]),_0x3a4bc0=this;this[_0x416d13(0xea)]={'getWind':new _0x79616c({'commandType':'Compute','uniformMap':{'U':function(){var _0x233002=_0x416d13;return _0x3a4bc0[_0x233002(0x1c5)]['U'];},'V':function(){var _0x429e93=_0x416d13;return _0x3a4bc0[_0x429e93(0x1c5)]['V'];},'currentParticlesPosition':function(){return _0x3a4bc0['particlesTextures']['currentParticlesPosition'];},'dimension':function(){return _0x5be872;},'minimum':function(){return _0x32a14a;},'maximum':function(){return _0x17bceb;},'interval':function(){return _0x132384;}},'fragmentShaderSource':new _0x112b1f[(_0x416d13(0x205))]({'sources':[_0xd848ae['a']]}),'outputTexture':this[_0x416d13(0x122)][_0x416d13(0x225)],'preExecute':function(){var _0x3ea137=_0x416d13;_0x3a4bc0[_0x3ea137(0xea)]['getWind'][_0x3ea137(0x200)]['outputTexture']=_0x3a4bc0[_0x3ea137(0x122)]['particlesWind'];}}),'updateSpeed':new _0x79616c({'commandType':_0x416d13(0x172),'uniformMap':{'currentParticlesSpeed':function(){var _0x35a975=_0x416d13;return _0x3a4bc0[_0x35a975(0x122)]['currentParticlesSpeed'];},'particlesWind':function(){var _0x38fa4a=_0x416d13;return _0x3a4bc0['particlesTextures'][_0x38fa4a(0x225)];},'uSpeedRange':function(){return _0x3d8941;},'vSpeedRange':function(){return _0x50a9e5;},'pixelSize':function(){return _0x5b58d8['pixelSize'];},'speedFactor':function(){var _0xdbbc3d=_0x416d13;return _0x53fa1b[_0xdbbc3d(0xd4)];}},'fragmentShaderSource':new _0x112b1f[(_0x416d13(0x205))]({'sources':[_0x319665['a']]}),'outputTexture':this[_0x416d13(0x122)][_0x416d13(0x1ee)],'preExecute':function(){var _0x5cd3b4=_0x416d13,_0x4239d2;_0x4239d2=_0x3a4bc0[_0x5cd3b4(0x122)]['currentParticlesSpeed'],_0x3a4bc0[_0x5cd3b4(0x122)][_0x5cd3b4(0x18c)]=_0x3a4bc0[_0x5cd3b4(0x122)][_0x5cd3b4(0x22a)],_0x3a4bc0[_0x5cd3b4(0x122)][_0x5cd3b4(0x22a)]=_0x4239d2,_0x3a4bc0[_0x5cd3b4(0xea)][_0x5cd3b4(0x1ca)][_0x5cd3b4(0x200)][_0x5cd3b4(0x223)]=_0x3a4bc0[_0x5cd3b4(0x122)][_0x5cd3b4(0x1ee)];}}),'updatePosition':new _0x79616c({'commandType':_0x416d13(0x172),'uniformMap':{'currentParticlesPosition':function(){var _0x19eb00=_0x416d13;return _0x3a4bc0[_0x19eb00(0x122)]['currentParticlesPosition'];},'currentParticlesSpeed':function(){var _0x5df93f=_0x416d13;return _0x3a4bc0[_0x5df93f(0x122)][_0x5df93f(0x18c)];}},'fragmentShaderSource':new _0x112b1f['ShaderSource']({'sources':[_0x4a72ac['a']]}),'outputTexture':this[_0x416d13(0x122)]['nextParticlesPosition'],'preExecute':function(){var _0x2f1f1a=_0x416d13,_0x2e75b8;_0x2e75b8=_0x3a4bc0[_0x2f1f1a(0x122)]['currentParticlesPosition'],_0x3a4bc0[_0x2f1f1a(0x122)][_0x2f1f1a(0x1c6)]=_0x3a4bc0['particlesTextures'][_0x2f1f1a(0x141)],_0x3a4bc0[_0x2f1f1a(0x122)][_0x2f1f1a(0x141)]=_0x2e75b8,_0x3a4bc0[_0x2f1f1a(0xea)][_0x2f1f1a(0x12d)][_0x2f1f1a(0x200)][_0x2f1f1a(0x223)]=_0x3a4bc0['particlesTextures'][_0x2f1f1a(0x183)];}}),'postProcessingPosition':new _0x79616c({'commandType':_0x416d13(0x172),'uniformMap':{'nextParticlesPosition':function(){var _0x43ff48=_0x416d13;return _0x3a4bc0['particlesTextures'][_0x43ff48(0x183)];},'nextParticlesSpeed':function(){var _0x5ba609=_0x416d13;return _0x3a4bc0['particlesTextures'][_0x5ba609(0x1ee)];},'lonRange':function(){var _0x54a570=_0x416d13;return _0x5b58d8[_0x54a570(0x16f)];},'latRange':function(){return _0x5b58d8['latRange'];},'randomCoefficient':function(){var _0x36fe54=Math['random']();return _0x36fe54;},'dropRate':function(){var _0x29c7a7=_0x416d13;return _0x53fa1b[_0x29c7a7(0x1a9)];},'dropRateBump':function(){var _0x41cf7e=_0x416d13;return _0x53fa1b[_0x41cf7e(0x119)];}},'fragmentShaderSource':new _0x112b1f['ShaderSource']({'sources':[_0x35d6fb['a']]}),'outputTexture':this[_0x416d13(0x122)][_0x416d13(0x141)],'preExecute':function(){var _0x2592b8=_0x416d13;_0x3a4bc0[_0x2592b8(0xea)][_0x2592b8(0x141)][_0x2592b8(0x200)][_0x2592b8(0x223)]=_0x3a4bc0[_0x2592b8(0x122)][_0x2592b8(0x141)];}}),'postProcessingSpeed':new _0x79616c({'commandType':_0x416d13(0x172),'uniformMap':{'postProcessingPosition':function(){var _0x564b7c=_0x416d13;return _0x3a4bc0[_0x564b7c(0x122)][_0x564b7c(0x141)];},'nextParticlesSpeed':function(){var _0x235029=_0x416d13;return _0x3a4bc0[_0x235029(0x122)][_0x235029(0x1ee)];}},'fragmentShaderSource':new _0x112b1f[(_0x416d13(0x205))]({'sources':[_0xf933e1['a']]}),'outputTexture':this['particlesTextures'][_0x416d13(0x22a)],'preExecute':function(){var _0x4bedd7=_0x416d13;_0x3a4bc0[_0x4bedd7(0xea)]['postProcessingSpeed'][_0x4bedd7(0x200)]['outputTexture']=_0x3a4bc0[_0x4bedd7(0x122)][_0x4bedd7(0x22a)];}})};}}]),_0x2c0580;}(),_0x3e6221=function(){var _0x20585d=_0x44c81b;function _0x4c4006(_0x3f7cc0,_0x39d3b6,_0x32cbde,_0x5d6078){var _0x5020b7=a0_0x8ae9;_0x59d16f()(this,_0x4c4006),this[_0x5020b7(0x1ba)]=_0x3f7cc0,this[_0x5020b7(0x162)]=_0x39d3b6,this[_0x5020b7(0x1b6)]=_0x32cbde,this['viewerParameters']=_0x5d6078,this[_0x5020b7(0x21d)]=new _0x3d4d2f(this[_0x5020b7(0x1ba)],this[_0x5020b7(0x162)],this[_0x5020b7(0x1b6)],this[_0x5020b7(0x186)]),this[_0x5020b7(0x145)]=new _0x2030af(this['context'],this[_0x5020b7(0x162)],this[_0x5020b7(0x1b6)],this[_0x5020b7(0x186)],this[_0x5020b7(0x21d)]);}return _0x1c876d()(_0x4c4006,[{'key':_0x20585d(0x1f5),'value':function(_0x2134f1){var _0x5834c9=_0x20585d,_0x1ad538=this;this['particlesComputing']['destroyParticlesTextures'](),Object[_0x5834c9(0x21c)](this[_0x5834c9(0x21d)][_0x5834c9(0x1c5)])[_0x5834c9(0x1f0)](function(_0x308ca3){var _0x30656f=_0x5834c9;_0x1ad538[_0x30656f(0x21d)][_0x30656f(0x1c5)][_0x308ca3]['destroy']();}),this['particlesRendering'][_0x5834c9(0x15e)][_0x5834c9(0x235)][_0x5834c9(0x23a)](),Object[_0x5834c9(0x21c)](this[_0x5834c9(0x145)][_0x5834c9(0x1bb)])[_0x5834c9(0x1f0)](function(_0x5e5586){var _0x49f7d5=_0x5834c9;_0x1ad538['particlesRendering'][_0x49f7d5(0x1bb)][_0x5e5586]['destroy']();}),this[_0x5834c9(0x1ba)]=_0x2134f1,this['particlesComputing']=new _0x3d4d2f(this[_0x5834c9(0x1ba)],this[_0x5834c9(0x162)],this[_0x5834c9(0x1b6)],this[_0x5834c9(0x186)]),this[_0x5834c9(0x145)]=new _0x2030af(this[_0x5834c9(0x1ba)],this['data'],this[_0x5834c9(0x1b6)],this[_0x5834c9(0x186)],this[_0x5834c9(0x21d)]);}},{'key':_0x20585d(0x239),'value':function(){var _0xe908e4=_0x20585d,_0x55b992=this,_0x297eb2=new _0x112b1f['ClearCommand']({'color':new _0x112b1f['Color'](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':void 0x0,'pass':_0x112b1f[_0xe908e4(0x1ad)]['OPAQUE']});Object[_0xe908e4(0x21c)](this[_0xe908e4(0x145)]['framebuffers'])[_0xe908e4(0x1f0)](function(_0x56b442){var _0x5136eb=_0xe908e4;_0x297eb2['framebuffer']=_0x55b992[_0x5136eb(0x145)][_0x5136eb(0x1bb)][_0x56b442],_0x297eb2['execute'](_0x55b992[_0x5136eb(0x1ba)]);});}},{'key':_0x20585d(0x168),'value':function(_0x4ba204){var _0x562dd2=_0x20585d;if(this[_0x562dd2(0x239)](),this['particlesComputing'][_0x562dd2(0x12b)](),this['particlesComputing'][_0x562dd2(0x13f)](this['context'],this[_0x562dd2(0x1b6)],this['viewerParameters']),_0x4ba204){var _0x51ef5d=this[_0x562dd2(0x145)][_0x562dd2(0x124)](this['userInput']);this[_0x562dd2(0x145)][_0x562dd2(0xea)][_0x562dd2(0x1d9)][_0x562dd2(0x203)]=_0x51ef5d;var _0x284810=_0x112b1f[_0x562dd2(0xe6)][_0x562dd2(0x117)]({'context':this[_0x562dd2(0x1ba)],'geometry':_0x51ef5d,'attributeLocations':this[_0x562dd2(0x145)][_0x562dd2(0xea)]['segments'][_0x562dd2(0x194)],'bufferUsage':_0x112b1f['BufferUsage']['STATIC_DRAW']});this[_0x562dd2(0x145)][_0x562dd2(0xea)][_0x562dd2(0x1d9)]['commandToExecute']['vertexArray']=_0x284810;}}},{'key':_0x20585d(0x1fe),'value':function(_0x1574cc){var _0x7f4f4b=_0x20585d,_0x435922=this,_0x5d5e3c=!0x1;this['userInput'][_0x7f4f4b(0x1d6)]!=_0x1574cc[_0x7f4f4b(0x1d6)]&&(_0x5d5e3c=!0x0),Object[_0x7f4f4b(0x21c)](_0x1574cc)['forEach'](function(_0x4e5953){var _0x2d44f4=_0x7f4f4b;_0x435922[_0x2d44f4(0x1b6)][_0x4e5953]=_0x1574cc[_0x4e5953];}),this['refreshParticles'](_0x5d5e3c);}},{'key':'applyViewerParameters','value':function(_0x15912c){var _0x124f57=_0x20585d,_0xbcde85=this;Object[_0x124f57(0x21c)](_0x15912c)[_0x124f57(0x1f0)](function(_0x3d4435){var _0x4a9c69=_0x124f57;_0xbcde85[_0x4a9c69(0x186)][_0x3d4435]=_0x15912c[_0x3d4435];}),this[_0x124f57(0x168)](!0x1);}}]),_0x4c4006;}();function _0x4689b8(_0x1c321e){var _0x4cbc2d=function(){var _0x339f32=a0_0x8ae9;if(_0x339f32(0x185)==typeof Reflect||!Reflect[_0x339f32(0x121)])return!0x1;if(Reflect[_0x339f32(0x121)][_0x339f32(0x1f7)])return!0x1;if('function'==typeof Proxy)return!0x0;try{return Boolean[_0x339f32(0x1cb)][_0x339f32(0x134)][_0x339f32(0xed)](Reflect[_0x339f32(0x121)](Boolean,[],function(){})),!0x0;}catch(_0x56d8ba){return!0x1;}}();return function(){var _0x395045=a0_0x8ae9,_0x1222aa,_0x19799c=_0x2fc16a()(_0x1c321e);if(_0x4cbc2d){var _0x2aefdb=_0x2fc16a()(this)['constructor'];_0x1222aa=Reflect[_0x395045(0x121)](_0x19799c,arguments,_0x2aefdb);}else _0x1222aa=_0x19799c[_0x395045(0x1c1)](this,arguments);return _0x18131b()(this,_0x1222aa);};}var _0x224984=_0x471f00[_0x44c81b(0x17c)][_0x44c81b(0x1db)],_0x51d7cf=0x1000,_0x3cc5cb=0x64,_0x3fdfb0=0.996,_0x1b977b=0.003,_0xbf42d2=0.01,_0x34e801=0.5,_0x2e99de=0x2,_0x23e896=function(_0x395fce){var _0x349781=_0x44c81b;_0x2a616c()(_0x4b9ff3,_0x395fce);var _0x28c351=_0x4689b8(_0x4b9ff3);function _0x4b9ff3(){var _0x207af3=a0_0x8ae9,_0x425e79,_0x15a855=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};if(_0x59d16f()(this,_0x4b9ff3),(_0x425e79=_0x28c351[_0x207af3(0xed)](this,_0x15a855))[_0x207af3(0x1d6)]=_0x51d7cf,_0x425e79[_0x207af3(0x209)]=_0x3cc5cb,_0x425e79[_0x207af3(0x1a4)]=_0x3fdfb0,_0x425e79[_0x207af3(0x1a9)]=_0x1b977b,_0x425e79[_0x207af3(0x119)]=_0xbf42d2,_0x425e79['speedFactor']=_0x34e801,_0x425e79[_0x207af3(0x23d)]=_0x2e99de,_0x15a855){for(var _0x492178 in _0x15a855)_0x425e79[_0x492178]=_0x15a855[_0x492178];}return _0x425e79;}return _0x1c876d()(_0x4b9ff3,[{'key':_0x349781(0x17c),'get':function(){var _0x887c24=_0x349781;return this[_0x887c24(0xea)];}},{'key':_0x349781(0x1f3),'value':function(){}},{'key':_0x349781(0xe4),'value':function(){var _0x130698=_0x349781;this['scene']=this[_0x130698(0x1e0)]['scene'],this[_0x130698(0x176)]=this[_0x130698(0x1e0)]['camera'],this[_0x130698(0xea)]=new _0x112b1f[(_0x130698(0x220))](),this[_0x130698(0x1e0)][_0x130698(0xfc)][_0x130698(0xea)][_0x130698(0xe7)](this[_0x130698(0xea)]),this[_0x130698(0x186)]={'lonRange':new _0x112b1f[(_0x130698(0x10e))](),'latRange':new _0x112b1f[(_0x130698(0x10e))](),'pixelSize':0x0},this[_0x130698(0xeb)]=new _0x112b1f[(_0x130698(0x180))](_0x112b1f[_0x130698(0x19d)][_0x130698(0x228)],6314355.63),this[_0x130698(0xe0)](),window[_0x130698(0x146)](_0x130698(0x1f9),this[_0x130698(0x1f9)][_0x130698(0x1e9)](this),!0x1),this[_0x130698(0x1c3)]=!0x1,this['mouse_move']=!0x1,this[_0x130698(0x1e0)]['on'](_0x471f00[_0x130698(0x1e2)][_0x130698(0x246)],this[_0x130698(0x1a6)],this),this[_0x130698(0x1e0)]['on'](_0x471f00[_0x130698(0x1e2)][_0x130698(0x170)],this[_0x130698(0xe1)],this),this['_map']['on'](_0x471f00[_0x130698(0x1e2)][_0x130698(0x1fc)],this[_0x130698(0x240)],this),this['_map']['on'](_0x471f00['EventType']['mouseMove'],this['_onMouseMoveEvent'],this);}},{'key':_0x349781(0x211),'value':function(){var _0x5eb1d9=_0x349781;window[_0x5eb1d9(0x1aa)](_0x5eb1d9(0x1f9),this[_0x5eb1d9(0x1f9)]),this[_0x5eb1d9(0x1e0)][_0x5eb1d9(0x1e8)](_0x471f00['EventType'][_0x5eb1d9(0xd9)],this[_0x5eb1d9(0x20b)],this),this[_0x5eb1d9(0x1e0)]['off'](_0x471f00[_0x5eb1d9(0x1e2)][_0x5eb1d9(0x246)],this[_0x5eb1d9(0x1a6)],this),this[_0x5eb1d9(0x1e0)][_0x5eb1d9(0x1e8)](_0x471f00[_0x5eb1d9(0x1e2)][_0x5eb1d9(0x170)],this[_0x5eb1d9(0xe1)],this),this[_0x5eb1d9(0x1e0)][_0x5eb1d9(0x1e8)](_0x471f00[_0x5eb1d9(0x1e2)]['mouseUp'],this[_0x5eb1d9(0x240)],this),this['_map'][_0x5eb1d9(0x1e8)](_0x471f00[_0x5eb1d9(0x1e2)][_0x5eb1d9(0x19c)],this[_0x5eb1d9(0x16a)],this),this[_0x5eb1d9(0xea)][_0x5eb1d9(0x20c)](),this[_0x5eb1d9(0x1e0)][_0x5eb1d9(0xfc)]['primitives'][_0x5eb1d9(0x1f4)](this[_0x5eb1d9(0xea)]);}},{'key':_0x349781(0x1f9),'value':function(){var _0x3da5d7=_0x349781;this[_0x3da5d7(0xf9)]&&this[_0x3da5d7(0xfd)]&&(this['primitives']['show']=!0x1,this['primitives']['removeAll'](),this[_0x3da5d7(0x1e0)][_0x3da5d7(0x1d4)](_0x471f00['EventType']['preRender'],this['_onMap_preRenderEvent'],this));}},{'key':'_onMap_preRenderEvent','value':function(_0x5a81be){var _0x4ddf08=_0x349781;this[_0x4ddf08(0xfd)][_0x4ddf08(0x1f5)](this[_0x4ddf08(0xfc)][_0x4ddf08(0x1ba)]),this[_0x4ddf08(0x22f)](),this['primitives'][_0x4ddf08(0xf9)]=!0x0;}},{'key':'_onMapWhellEvent','value':function(_0x3d0e71){var _0x4e0dd8=_0x349781,_0x6c5955=this;clearTimeout(this['refreshTimer']),this[_0x4e0dd8(0xf9)]&&this[_0x4e0dd8(0xfd)]&&(this['primitives'][_0x4e0dd8(0xf9)]=!0x1,this[_0x4e0dd8(0x11c)]=setTimeout(function(){var _0x58df60=_0x4e0dd8;_0x6c5955[_0x58df60(0xf9)]&&_0x6c5955[_0x58df60(0x1a3)]();},0xc8));}},{'key':_0x349781(0xe1),'value':function(_0xec8568){this['mouse_down']=!0x0;}},{'key':_0x349781(0x16a),'value':function(_0xb829c){var _0x3cce3c=_0x349781;this['show']&&this[_0x3cce3c(0xfd)]&&this[_0x3cce3c(0x1c3)]&&(this[_0x3cce3c(0xea)][_0x3cce3c(0xf9)]=!0x1,this[_0x3cce3c(0x192)]=!0x0);}},{'key':_0x349781(0x240),'value':function(_0x1b776d){var _0x453df7=_0x349781;this[_0x453df7(0xf9)]&&this['particleSystem']&&(this[_0x453df7(0x1c3)]&&this[_0x453df7(0x192)]&&this[_0x453df7(0x1a3)](),this['primitives'][_0x453df7(0xf9)]=!0x0,this[_0x453df7(0x1c3)]=!0x1,this['mouse_move']=!0x1);}},{'key':_0x349781(0x1a3),'value':function(){var _0x2e5a1c=_0x349781;this[_0x2e5a1c(0x1e0)]&&this['show']&&(this[_0x2e5a1c(0xe0)](),this[_0x2e5a1c(0xfd)]['applyViewerParameters'](this[_0x2e5a1c(0x186)]),this[_0x2e5a1c(0xea)][_0x2e5a1c(0xf9)]=!0x0);}},{'key':_0x349781(0x21e),'value':function(_0x268bec){var _0x30c2ca=_0x349781;this[_0x30c2ca(0xfd)]=new _0x3e6221(this[_0x30c2ca(0xfc)][_0x30c2ca(0x1ba)],_0x268bec,this[_0x30c2ca(0xdd)](),this[_0x30c2ca(0x186)]),this['addPrimitives']();}},{'key':'setOptions','value':function(_0x4659f8){var _0xfe4e15=_0x349781;if(_0x4659f8){for(var _0x5380c4 in _0x4659f8)this[_0x5380c4]=_0x4659f8[_0x5380c4];}return this['particleSystem']&&this[_0xfe4e15(0xfd)]['applyUserInput'](this[_0xfe4e15(0xdd)]()),this;}},{'key':_0x349781(0xdd),'value':function(){var _0x296e00=_0x349781,_0xe3b584=Math[_0x296e00(0xef)](Math[_0x296e00(0x116)](this[_0x296e00(0x1d6)]));return this['maxParticles']=_0xe3b584*_0xe3b584,{'particlesTextureSize':_0xe3b584,'maxParticles':this['maxParticles'],'particleHeight':this['particleHeight'],'fadeOpacity':this['fadeOpacity'],'dropRate':this[_0x296e00(0x1a9)],'dropRateBump':this[_0x296e00(0x119)],'speedFactor':this[_0x296e00(0xd4)],'lineWidth':this[_0x296e00(0x23d)],'globeLayer':this[_0x296e00(0x1b3)],'WMS_URL':this[_0x296e00(0x156)]};}},{'key':_0x349781(0x22f),'value':function(){var _0x3875a6=_0x349781;this['primitives'][_0x3875a6(0xe7)](this['particleSystem'][_0x3875a6(0x21d)][_0x3875a6(0xea)]['getWind']),this['primitives'][_0x3875a6(0xe7)](this[_0x3875a6(0xfd)][_0x3875a6(0x21d)]['primitives'][_0x3875a6(0x1ca)]),this[_0x3875a6(0xea)][_0x3875a6(0xe7)](this[_0x3875a6(0xfd)]['particlesComputing'][_0x3875a6(0xea)][_0x3875a6(0x12d)]),this[_0x3875a6(0xea)]['add'](this[_0x3875a6(0xfd)][_0x3875a6(0x21d)][_0x3875a6(0xea)][_0x3875a6(0x141)]),this[_0x3875a6(0xea)]['add'](this['particleSystem'][_0x3875a6(0x21d)][_0x3875a6(0xea)][_0x3875a6(0x22a)]),this[_0x3875a6(0xea)][_0x3875a6(0xe7)](this[_0x3875a6(0xfd)]['particlesRendering']['primitives'][_0x3875a6(0x1d9)]),this['primitives'][_0x3875a6(0xe7)](this[_0x3875a6(0xfd)][_0x3875a6(0x145)][_0x3875a6(0xea)][_0x3875a6(0x133)]),this[_0x3875a6(0xea)][_0x3875a6(0xe7)](this[_0x3875a6(0xfd)][_0x3875a6(0x145)][_0x3875a6(0xea)]['screen']);}},{'key':_0x349781(0xe0),'value':function(){var _0x33db09=_0x349781,_0x1f3bb6=this[_0x33db09(0x176)][_0x33db09(0x196)](this['scene'][_0x33db09(0x197)][_0x33db09(0x20d)]);if(!_0x1f3bb6){var _0x11e719=this[_0x33db09(0x1e0)]['getExtent']();_0x1f3bb6=_0x112b1f[_0x33db09(0x1d2)][_0x33db09(0x10b)](_0x11e719[_0x33db09(0x1c9)],_0x11e719[_0x33db09(0x218)],_0x11e719['xmax'],_0x11e719[_0x33db09(0x1c4)]);}var _0x8cbcc2=_0x4b765d['viewRectangleToLonLatRange'](_0x1f3bb6);this[_0x33db09(0x186)][_0x33db09(0x16f)]['x']=_0x8cbcc2[_0x33db09(0xf4)]['min'],this['viewerParameters'][_0x33db09(0x16f)]['y']=_0x8cbcc2[_0x33db09(0xf4)][_0x33db09(0x20e)],this[_0x33db09(0x186)][_0x33db09(0xec)]['x']=_0x8cbcc2['lat'][_0x33db09(0x161)],this['viewerParameters'][_0x33db09(0xec)]['y']=_0x8cbcc2[_0x33db09(0x14d)][_0x33db09(0x20e)];var _0x337916=this['camera'][_0x33db09(0x238)](this[_0x33db09(0xeb)],this['scene'][_0x33db09(0x166)],this['scene']['drawingBufferHeight']);_0x337916>0x0&&(this[_0x33db09(0x186)][_0x33db09(0x167)]=_0x337916);}}]),_0x4b9ff3;}(_0x224984);_0x471f00[_0x44c81b(0x1da)][_0x44c81b(0x11f)](_0x44c81b(0x21a),_0x23e896),_0x471f00[_0x44c81b(0x17c)][_0x44c81b(0x179)]=_0x23e896;var _0x3d0e99=function _0x59a178(){var _0x43e4d0=_0x44c81b;_0x59d16f()(this,_0x59a178),this[_0x43e4d0(0x1c8)]=null,this[_0x43e4d0(0x14d)]=null,this[_0x43e4d0(0x149)]=null,this['tlat']=null,this[_0x43e4d0(0x14f)]=null;},_0x14f2a4=function(){var _0x15a9eb=_0x44c81b;function _0x30de92(_0x5cfc5c,_0x5aec18){var _0x4b2776=a0_0x8ae9;_0x59d16f()(this,_0x30de92),this['rows']=_0x5cfc5c['rows'],this[_0x4b2776(0x138)]=_0x5cfc5c[_0x4b2776(0x138)],this['xmin']=_0x5cfc5c['xmin'],this['xmax']=_0x5cfc5c[_0x4b2776(0x22c)],this[_0x4b2776(0x218)]=_0x5cfc5c[_0x4b2776(0x218)],this['ymax']=_0x5cfc5c[_0x4b2776(0x1c4)],this['grid']=[];var _0x8f9055=_0x5cfc5c[_0x4b2776(0x139)],_0x4223ec=_0x5cfc5c[_0x4b2776(0x195)],_0x2b4d26=!0x1;_0x8f9055[_0x4b2776(0x1d8)]===this[_0x4b2776(0x1bf)]&&_0x8f9055[0x0]['length']===this[_0x4b2776(0x138)]&&(_0x2b4d26=!0x0);for(var _0x3562e6=0x0,_0x2d243b=null,_0x388151=null,_0x4f7295=0x0;_0x4f7295<this[_0x4b2776(0x1bf)];_0x4f7295++){_0x2d243b=[];for(var _0x7606b=0x0;_0x7606b<this[_0x4b2776(0x138)];_0x7606b++,_0x3562e6++)_0x388151=_0x2b4d26?this[_0x4b2776(0x140)](_0x8f9055[_0x4f7295][_0x7606b],_0x4223ec[_0x4f7295][_0x7606b]):this[_0x4b2776(0x140)](_0x8f9055[_0x3562e6],_0x4223ec[_0x3562e6]),_0x2d243b[_0x4b2776(0x181)](_0x388151);this[_0x4b2776(0x12c)][_0x4b2776(0x181)](_0x2d243b);}_0x5aec18&&this['grid'][_0x4b2776(0x127)]();}return _0x1c876d()(_0x30de92,[{'key':_0x15a9eb(0x17f),'value':function(_0x18841b,_0x5d9189){var _0x3c96dc=_0x15a9eb;return{'x':(_0x18841b-this[_0x3c96dc(0x1c9)])/(this['xmax']-this[_0x3c96dc(0x1c9)])*(this[_0x3c96dc(0x138)]-0x1),'y':(this[_0x3c96dc(0x1c4)]-_0x5d9189)/(this[_0x3c96dc(0x1c4)]-this[_0x3c96dc(0x218)])*(this[_0x3c96dc(0x1bf)]-0x1)};}},{'key':_0x15a9eb(0x23e),'value':function(_0x29bf8f,_0x1b1c1a){var _0x37d422=_0x15a9eb;if(_0x29bf8f<0x0||_0x29bf8f>=this['cols']||_0x1b1c1a>=this[_0x37d422(0x1bf)])return[0x0,0x0,0x0];var _0x4cdd7e,_0x2bb560,_0x4088a3=Math[_0x37d422(0x18b)](_0x29bf8f),_0x502702=Math[_0x37d422(0x18b)](_0x1b1c1a);if(_0x4088a3===_0x29bf8f&&_0x502702===_0x1b1c1a)return this[_0x37d422(0x12c)][_0x1b1c1a][_0x29bf8f];_0x4cdd7e=_0x4088a3+0x1,_0x2bb560=_0x502702+0x1;var _0xe0a763=this[_0x37d422(0x23e)](_0x4088a3,_0x502702),_0x39d55e=this[_0x37d422(0x23e)](_0x4cdd7e,_0x502702),_0x231150=this[_0x37d422(0x23e)](_0x4088a3,_0x2bb560),_0x2ce558=this['getUVByXY'](_0x4cdd7e,_0x2bb560),_0x50ecbe=null;try{_0x50ecbe=this[_0x37d422(0x193)](_0x29bf8f-_0x4088a3,_0x1b1c1a-_0x502702,_0xe0a763,_0x39d55e,_0x231150,_0x2ce558);}catch(_0x594734){console[_0x37d422(0x132)](_0x29bf8f,_0x1b1c1a);}return _0x50ecbe;}},{'key':'_bilinearInterpolation','value':function(_0xf6d977,_0x232798,_0x49f45d,_0x536d86,_0x4b72cf,_0x53e03f){var _0x563d52=_0x15a9eb,_0x2ccaa0=0x1-_0xf6d977,_0x2fbc51=0x1-_0x232798,_0x59b4ad=_0x2ccaa0*_0x2fbc51,_0x2c9d47=_0xf6d977*_0x2fbc51,_0x43c3e1=_0x2ccaa0*_0x232798,_0x188dae=_0xf6d977*_0x232798,_0x12e4fd=_0x49f45d[0x0]*_0x59b4ad+_0x536d86[0x0]*_0x2c9d47+_0x4b72cf[0x0]*_0x43c3e1+_0x53e03f[0x0]*_0x188dae,_0xf7ba3=_0x49f45d[0x1]*_0x59b4ad+_0x536d86[0x1]*_0x2c9d47+_0x4b72cf[0x1]*_0x43c3e1+_0x53e03f[0x1]*_0x188dae;return this[_0x563d52(0x140)](_0x12e4fd,_0xf7ba3);}},{'key':_0x15a9eb(0x140),'value':function(_0x33d95f,_0x5fe7ce){var _0x1d1ef5=_0x15a9eb;return[+_0x33d95f,+_0x5fe7ce,Math[_0x1d1ef5(0x116)](_0x33d95f*_0x33d95f+_0x5fe7ce*_0x5fe7ce)];}},{'key':'getUVByPoint','value':function(_0xd4a339,_0x28bac2){var _0x45d6bd=_0x15a9eb;if(!this[_0x45d6bd(0x15c)](_0xd4a339,_0x28bac2))return null;var _0x11751e=this[_0x45d6bd(0x17f)](_0xd4a339,_0x28bac2);return this[_0x45d6bd(0x23e)](_0x11751e['x'],_0x11751e['y']);}},{'key':'isInExtent','value':function(_0x4d6cde,_0x4b9367){var _0xf79a2b=_0x15a9eb;return _0x4d6cde>=this[_0xf79a2b(0x1c9)]&&_0x4d6cde<=this['xmax']&&_0x4b9367>=this[_0xf79a2b(0x218)]&&_0x4b9367<=this[_0xf79a2b(0x1c4)];}},{'key':_0x15a9eb(0x12f),'value':function(){var _0x12e600=_0x15a9eb,_0x12eeb9=_0x427c34(this[_0x12e600(0x1c9)],this[_0x12e600(0x22c)]);return{'lat':_0x427c34(this['ymin'],this['ymax']),'lng':_0x12eeb9};}}]),_0x30de92;}();function _0x427c34(_0x499842,_0x2750d9){var _0x3dea07=_0x44c81b;return _0x499842+Math[_0x3dea07(0x153)]()*(_0x2750d9-_0x499842);}function _0x914888(_0x607d37){var _0x529c42=function(){var _0x36274a=a0_0x8ae9;if(_0x36274a(0x185)==typeof Reflect||!Reflect[_0x36274a(0x121)])return!0x1;if(Reflect[_0x36274a(0x121)]['sham'])return!0x1;if(_0x36274a(0xf3)==typeof Proxy)return!0x0;try{return Boolean[_0x36274a(0x1cb)][_0x36274a(0x134)][_0x36274a(0xed)](Reflect['construct'](Boolean,[],function(){})),!0x0;}catch(_0x3f5450){return!0x1;}}();return function(){var _0x5a74bd=a0_0x8ae9,_0x495e46,_0x3c97f3=_0x2fc16a()(_0x607d37);if(_0x529c42){var _0x1e64c8=_0x2fc16a()(this)['constructor'];_0x495e46=Reflect[_0x5a74bd(0x121)](_0x3c97f3,arguments,_0x1e64c8);}else _0x495e46=_0x3c97f3['apply'](this,arguments);return _0x18131b()(this,_0x495e46);};}var _0x3423a4=function(_0x2bc447){var _0x495cfd=_0x44c81b;_0x2a616c()(_0x90d635,_0x2bc447);var _0xd5a391=_0x914888(_0x90d635);function _0x90d635(){var _0x5bb794=a0_0x8ae9,_0x52d1a6,_0x9d373f=arguments[_0x5bb794(0x1d8)]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};return _0x59d16f()(this,_0x90d635),(_0x52d1a6=_0xd5a391[_0x5bb794(0xed)](this,_0x9d373f))[_0x5bb794(0x14c)]=[0x0,0x0],_0x52d1a6[_0x5bb794(0xdb)]=[],_0x52d1a6[_0x5bb794(0x219)]=_0x9d373f[_0x5bb794(0x219)]||0x32,_0x52d1a6['_particlesNumber']=_0x9d373f[_0x5bb794(0x1d0)]||0x4e20,_0x52d1a6[_0x5bb794(0x1ea)]=_0x9d373f[_0x5bb794(0x1fd)]||0x78,_0x52d1a6['frameTime']=0x3e8/(_0x9d373f[_0x5bb794(0x103)]||0xa),_0x52d1a6['_pointerEvents']=_0x112b1f[_0x5bb794(0x16b)](_0x52d1a6[_0x5bb794(0x1d3)][_0x5bb794(0xe9)],!0x1),_0x52d1a6[_0x5bb794(0x1e1)]=_0x9d373f[_0x5bb794(0x1e1)]||_0x5bb794(0x113),_0x52d1a6[_0x5bb794(0x23d)]=_0x9d373f[_0x5bb794(0x23d)]||0x1,_0x52d1a6[_0x5bb794(0x17b)]=_0x112b1f[_0x5bb794(0x16b)](_0x9d373f[_0x5bb794(0x17b)],0x0),_0x52d1a6['reverseY']=_0x112b1f[_0x5bb794(0x16b)](_0x9d373f['reverseY'],!0x1),_0x52d1a6[_0x5bb794(0x1d1)]=null,_0x52d1a6;}return _0x1c876d()(_0x90d635,[{'key':'layer','get':function(){var _0x457903=a0_0x8ae9;return this[_0x457903(0x1d1)];}},{'key':'canvasWidth','get':function(){var _0x528de8=a0_0x8ae9;return this[_0x528de8(0x1e0)][_0x528de8(0xfc)][_0x528de8(0x1d1)][_0x528de8(0x19e)];}},{'key':_0x495cfd(0x1ff),'get':function(){var _0x5a17d1=_0x495cfd;return this[_0x5a17d1(0x1e0)][_0x5a17d1(0xfc)]['canvas'][_0x5a17d1(0x147)];}},{'key':_0x495cfd(0xe9),'get':function(){var _0x50e7e8=_0x495cfd;return this[_0x50e7e8(0x22b)];},'set':function(_0x521833){var _0x587c15=_0x495cfd;this[_0x587c15(0x22b)]=_0x521833,this['canvas']&&(this[_0x587c15(0x1d1)][_0x587c15(0x155)][_0x587c15(0x17d)]=_0x521833?_0x587c15(0x198):_0x587c15(0x163));}},{'key':_0x495cfd(0x219),'get':function(){var _0x1ea03a=_0x495cfd;return this[_0x1ea03a(0x1fa)];},'set':function(_0x243fa2){this['_speedRate']=0x64*(0x64-(_0x243fa2>0x63?0x63:_0x243fa2)),this['_calcStep']();}},{'key':_0x495cfd(0x1d0),'get':function(){return this['_particlesNumber'];},'set':function(_0x451a04){var _0x43101f=_0x495cfd,_0x52141a=this;this[_0x43101f(0x1c0)]=_0x451a04,clearTimeout(this[_0x43101f(0x12e)]),this[_0x43101f(0x12e)]=setTimeout(function(){var _0x33e99e=_0x43101f;_0x52141a[_0x33e99e(0x1a3)]();},0x1f4);}},{'key':_0x495cfd(0x1fd),'get':function(){var _0x2d9c9a=_0x495cfd;return this[_0x2d9c9a(0x1ea)];},'set':function(_0x51a506){var _0x52c534=_0x495cfd,_0x3dc1f1=this;this['_maxAge']=_0x51a506,clearTimeout(this[_0x52c534(0x12e)]),this[_0x52c534(0x12e)]=setTimeout(function(){var _0x1293d3=_0x52c534;_0x3dc1f1[_0x1293d3(0x1a3)]();},0x1f4);}},{'key':_0x495cfd(0x162),'get':function(){var _0x2a976c=_0x495cfd;return this[_0x2a976c(0x22e)];},'set':function(_0x298777){var _0x1d76f3=_0x495cfd;this[_0x1d76f3(0xf8)](_0x298777);}},{'key':_0x495cfd(0x171),'value':function(_0x4e4297){var _0x132337=_0x495cfd;_0x4e4297?this[_0x132337(0xe4)]():(this[_0x132337(0x22e)]&&(this[_0x132337(0x1d3)][_0x132337(0x162)]=this[_0x132337(0x22e)]),this['_removedHook']());}},{'key':_0x495cfd(0x1f3),'value':function(){}},{'key':_0x495cfd(0xe4),'value':function(){var _0x275e72=_0x495cfd;this[_0x275e72(0x1d1)]=this[_0x275e72(0x226)](),this[_0x275e72(0x125)]=this[_0x275e72(0x1d1)]['getContext']('2d'),this[_0x275e72(0x111)](),this[_0x275e72(0x1d3)][_0x275e72(0x162)]&&this[_0x275e72(0xf8)](this[_0x275e72(0x1d3)][_0x275e72(0x162)]);}},{'key':_0x495cfd(0x211),'value':function(){var _0xd705bf=_0x495cfd;this['clear'](),this[_0xd705bf(0x1d5)](),this['canvas']&&(this[_0xd705bf(0x1e0)][_0xd705bf(0x1ef)][_0xd705bf(0x128)](this[_0xd705bf(0x1d1)]),delete this[_0xd705bf(0x1d1)]);}},{'key':_0x495cfd(0x226),'value':function(){var _0x591591=_0x495cfd,_0x1d2754=document['createElement'](_0x591591(0x1d1));_0x1d2754[_0x591591(0x155)][_0x591591(0x1f8)]=_0x591591(0x173),_0x1d2754['style'][_0x591591(0x231)]=_0x591591(0x1a7),_0x1d2754['style']['left']='0px',_0x1d2754[_0x591591(0x155)][_0x591591(0xd6)]=_0x591591(0x237),_0x1d2754['style'][_0x591591(0x1ec)]=_0x591591(0x237),_0x1d2754['style']['pointerEvents']=this[_0x591591(0x22b)]?_0x591591(0x1b9):'none',_0x1d2754['style'][_0x591591(0x1b7)]=0xa,_0x1d2754['setAttribute']('id',_0x591591(0x1a1)),_0x1d2754[_0x591591(0x10d)](_0x591591(0x102),_0x591591(0x1a1)),this['_map'][_0x591591(0x1ef)]['appendChild'](_0x1d2754);var _0x299d7c=this[_0x591591(0x1e0)][_0x591591(0xfc)];return _0x1d2754['width']=_0x299d7c[_0x591591(0x1d1)]['clientWidth'],_0x1d2754['height']=_0x299d7c[_0x591591(0x1d1)][_0x591591(0x147)],_0x1d2754;}},{'key':_0x495cfd(0x1f9),'value':function(){var _0x9d7246=_0x495cfd;this[_0x9d7246(0x1d1)]&&(this['canvas'][_0x9d7246(0xd6)]=this[_0x9d7246(0x1bc)],this['canvas'][_0x9d7246(0x1ec)]=this['canvasHeight']);}},{'key':_0x495cfd(0x111),'value':function(){var _0x3eeca9=_0x495cfd,_0x27435d=this,_0x18f6bd=Date[_0x3eeca9(0x14a)]();!function _0x5bd774(){var _0x2a1e7a=_0x3eeca9;_0x27435d['animateFrame']=window[_0x2a1e7a(0x212)](_0x5bd774);var _0x4370e8=Date[_0x2a1e7a(0x14a)](),_0xa48b45=_0x4370e8-_0x18f6bd;_0xa48b45>_0x27435d[_0x2a1e7a(0xf0)]&&(_0x18f6bd=_0x4370e8-_0xa48b45%_0x27435d[_0x2a1e7a(0xf0)],_0x27435d['update']());}(),window['addEventListener'](_0x3eeca9(0x1f9),this[_0x3eeca9(0x1f9)][_0x3eeca9(0x1e9)](this),!0x1),this[_0x3eeca9(0x1c3)]=!0x1,this['mouse_move']=!0x1,this['_map']['on'](_0x471f00[_0x3eeca9(0x1e2)]['wheel'],this[_0x3eeca9(0x1a6)],this),this[_0x3eeca9(0x1e0)]['on'](_0x471f00[_0x3eeca9(0x1e2)]['mouseDown'],this['_onMouseDownEvent'],this),this['_map']['on'](_0x471f00['EventType'][_0x3eeca9(0x1fc)],this[_0x3eeca9(0x240)],this),this['_map']['on'](_0x471f00[_0x3eeca9(0x1e2)]['mouseMove'],this[_0x3eeca9(0x16a)],this);}},{'key':_0x495cfd(0x1d5),'value':function(){var _0x3235b3=_0x495cfd;window[_0x3235b3(0x23c)](this['animateFrame']),delete this[_0x3235b3(0x1a0)],window[_0x3235b3(0x1aa)]('resize',this[_0x3235b3(0x1f9)]),this['_map'][_0x3235b3(0x1e8)](_0x471f00['EventType'][_0x3235b3(0x246)],this['_onMapWhellEvent'],this),this[_0x3235b3(0x1e0)][_0x3235b3(0x1e8)](_0x471f00[_0x3235b3(0x1e2)][_0x3235b3(0x170)],this[_0x3235b3(0xe1)],this),this['_map'][_0x3235b3(0x1e8)](_0x471f00['EventType'][_0x3235b3(0x1fc)],this[_0x3235b3(0x240)],this),this[_0x3235b3(0x1e0)][_0x3235b3(0x1e8)](_0x471f00[_0x3235b3(0x1e2)][_0x3235b3(0x19c)],this[_0x3235b3(0x16a)],this);}},{'key':_0x495cfd(0x1a6),'value':function(_0xc990f9){var _0x582e24=_0x495cfd,_0x271df2=this;clearTimeout(this[_0x582e24(0x11c)]),this[_0x582e24(0xf9)]&&this[_0x582e24(0x1d1)]&&(this[_0x582e24(0x1d1)]['style'][_0x582e24(0x104)]='hidden',this[_0x582e24(0x11c)]=setTimeout(function(){var _0xbe0dfc=_0x582e24;_0x271df2['show']&&(_0x271df2[_0xbe0dfc(0x1a3)](),_0x271df2['canvas'][_0xbe0dfc(0x155)]['visibility']=_0xbe0dfc(0x201));},0xc8));}},{'key':_0x495cfd(0xe1),'value':function(_0xabff3b){this['mouse_down']=!0x0;}},{'key':_0x495cfd(0x16a),'value':function(_0x41db9b){var _0x2529eb=_0x495cfd;this['show']&&this['canvas']&&this[_0x2529eb(0x1c3)]&&(this[_0x2529eb(0x1d1)][_0x2529eb(0x155)]['visibility']='hidden',this[_0x2529eb(0x192)]=!0x0);}},{'key':_0x495cfd(0x240),'value':function(_0x8017a0){var _0x2be805=_0x495cfd;this[_0x2be805(0xf9)]&&this[_0x2be805(0x1d1)]&&(this[_0x2be805(0x1c3)]&&this[_0x2be805(0x192)]&&this[_0x2be805(0x1a3)](),this[_0x2be805(0x1d1)][_0x2be805(0x155)][_0x2be805(0x104)]=_0x2be805(0x201),this['mouse_down']=!0x1,this[_0x2be805(0x192)]=!0x1);}},{'key':_0x495cfd(0x1a3),'value':function(){var _0x198116=_0x495cfd;this[_0x198116(0xf9)]&&this[_0x198116(0x1b5)]&&(this[_0x198116(0xdb)]=[],this['drawWind']());}},{'key':_0x495cfd(0xf8),'value':function(_0x1c55ba){var _0x2b048a=_0x495cfd;this['clear'](),this[_0x2b048a(0x22e)]=_0x1c55ba,this[_0x2b048a(0x1b5)]=new _0x14f2a4(this[_0x2b048a(0x22e)],this[_0x2b048a(0x16d)]),this['drawWind']();}},{'key':_0x495cfd(0xf5),'value':function(){var _0x573281=_0x495cfd;this[_0x573281(0x1a8)]();for(var _0x570281=0x0;_0x570281<this[_0x573281(0x1d0)];_0x570281++){var _0x2ceacd=this[_0x573281(0x1e6)](new _0x3d0e99());this[_0x573281(0xdb)][_0x573281(0x181)](_0x2ceacd);}this[_0x573281(0x125)]['fillStyle']=_0x573281(0xd8),this[_0x573281(0x125)]['globalAlpha']=0.6,this['update']();}},{'key':'_calcStep','value':function(){var _0x2bcf63=_0x495cfd;this[_0x2bcf63(0x1b5)]&&(this[_0x2bcf63(0x14c)]=[(this[_0x2bcf63(0x1b5)][_0x2bcf63(0x22c)]-this[_0x2bcf63(0x1b5)][_0x2bcf63(0x1c9)])/this[_0x2bcf63(0x219)],(this[_0x2bcf63(0x1b5)][_0x2bcf63(0x1c4)]-this[_0x2bcf63(0x1b5)][_0x2bcf63(0x218)])/this[_0x2bcf63(0x219)]]);}},{'key':_0x495cfd(0x1f1),'value':function(){var _0x474c0f=_0x495cfd,_0x369154=this;if(this['show']&&!(this[_0x474c0f(0xdb)]['length']<=0x0)){var _0x25b80d=null,_0x727ded=null,_0x550728=null;this[_0x474c0f(0xdb)]['forEach'](function(_0x157f29){var _0x42564a=_0x474c0f;if(_0x157f29[_0x42564a(0x14f)]<=0x0&&_0x369154['randomParticle'](_0x157f29),_0x157f29[_0x42564a(0x14f)]>0x0){var _0x282755=_0x157f29[_0x42564a(0x149)],_0xb537d8=_0x157f29[_0x42564a(0xe3)];(_0x550728=_0x369154[_0x42564a(0x1b5)][_0x42564a(0x10f)](_0x282755,_0xb537d8))?(_0x25b80d=_0x282755+_0x369154[_0x42564a(0x14c)][0x0]*_0x550728[0x0],_0x727ded=_0xb537d8+_0x369154['calc_speedRate'][0x1]*_0x550728[0x1],_0x157f29['lng']=_0x282755,_0x157f29['lat']=_0xb537d8,_0x157f29[_0x42564a(0x149)]=_0x25b80d,_0x157f29[_0x42564a(0xe3)]=_0x727ded,_0x157f29[_0x42564a(0x14f)]--):_0x157f29[_0x42564a(0x14f)]=0x0;}}),this[_0x474c0f(0x120)]();}}},{'key':_0x495cfd(0x13d),'value':function(_0xa2e1c7,_0x563d5f,_0x571008){var _0x93f67=_0x495cfd,_0x56c9f9=_0x112b1f['Cartesian3']['fromDegrees'](_0xa2e1c7,_0x563d5f,this[_0x93f67(0x17b)]),_0x38aca2=this[_0x93f67(0x1e0)][_0x93f67(0xfc)];if(_0x38aca2[_0x93f67(0x157)]===_0x112b1f['SceneMode']['SCENE3D']&&!new _0x112b1f['EllipsoidalOccluder'](_0x38aca2['globe'][_0x93f67(0x20d)],_0x38aca2[_0x93f67(0x176)]['positionWC'])[_0x93f67(0x213)](_0x56c9f9))return _0x571008[_0x93f67(0x14f)]=0x0,null;var _0x86bf00=_0x112b1f['SceneTransforms']['wgs84ToWindowCoordinates'](this[_0x93f67(0x1e0)]['scene'],_0x56c9f9);return _0x86bf00?[_0x86bf00['x'],_0x86bf00['y']]:null;}},{'key':_0x495cfd(0x120),'value':function(){var _0xd3143b=_0x495cfd,_0xeae00a=this,_0x2aed75=this[_0xd3143b(0xdb)];this[_0xd3143b(0x125)][_0xd3143b(0x23d)]=_0xeae00a['lineWidth'],this[_0xd3143b(0x125)][_0xd3143b(0x100)]=_0xd3143b(0x1c2),this[_0xd3143b(0x125)][_0xd3143b(0xff)](0x0,0x0,this[_0xd3143b(0x1bc)],this[_0xd3143b(0x1ff)]),this[_0xd3143b(0x125)]['globalCompositeOperation']=_0xd3143b(0x215),this[_0xd3143b(0x125)]['globalAlpha']=0.9,this[_0xd3143b(0x125)][_0xd3143b(0xf7)](),this[_0xd3143b(0x125)][_0xd3143b(0x1fb)]=this['color'];var _0x5a54ca=this[_0xd3143b(0x1e0)]['scene'][_0xd3143b(0x157)]!==_0x112b1f['SceneMode']['SCENE3D'];_0x2aed75[_0xd3143b(0x1f0)](function(_0x3aa2c2){var _0x3db1a8=_0xd3143b,_0x401491=_0xeae00a['_tomap'](_0x3aa2c2[_0x3db1a8(0x1c8)],_0x3aa2c2[_0x3db1a8(0x14d)],_0x3aa2c2),_0x56aabd=_0xeae00a[_0x3db1a8(0x13d)](_0x3aa2c2[_0x3db1a8(0x149)],_0x3aa2c2[_0x3db1a8(0xe3)],_0x3aa2c2);if(null!=_0x401491&&null!=_0x56aabd){var _0x5dd03c=Math[_0x3db1a8(0x14b)](_0x401491[0x0]-_0x56aabd[0x0]);_0x5a54ca&&_0x5dd03c>=_0xeae00a[_0x3db1a8(0x1bc)]||(_0xeae00a[_0x3db1a8(0x125)][_0x3db1a8(0x1e3)](_0x401491[0x0],_0x401491[0x1]),_0xeae00a[_0x3db1a8(0x125)]['lineTo'](_0x56aabd[0x0],_0x56aabd[0x1]));}}),this['canvasContext'][_0xd3143b(0x1de)]();}},{'key':'randomParticle','value':function(_0x5ecee9){var _0x7f3604=_0x495cfd;for(var _0x2da8c8,_0x25786d,_0x32dab8=0x0;_0x32dab8<0x1e&&(_0x2da8c8=this[_0x7f3604(0x1b5)][_0x7f3604(0x12f)](),!((_0x25786d=this[_0x7f3604(0x1b5)][_0x7f3604(0x10f)](_0x2da8c8[_0x7f3604(0x1c8)],_0x2da8c8[_0x7f3604(0x14d)]))&&_0x25786d[0x2]>0x0));_0x32dab8++);if(!_0x25786d)return _0x5ecee9;var _0x5cc093=_0x2da8c8[_0x7f3604(0x1c8)]+this[_0x7f3604(0x14c)][0x0]*_0x25786d[0x0],_0x2dc55d=_0x2da8c8['lat']+this[_0x7f3604(0x14c)][0x1]*_0x25786d[0x1];return _0x5ecee9['lng']=_0x2da8c8[_0x7f3604(0x1c8)],_0x5ecee9[_0x7f3604(0x14d)]=_0x2da8c8[_0x7f3604(0x14d)],_0x5ecee9[_0x7f3604(0x149)]=_0x5cc093,_0x5ecee9[_0x7f3604(0xe3)]=_0x2dc55d,_0x5ecee9[_0x7f3604(0x14f)]=Math['round'](Math[_0x7f3604(0x153)]()*this['maxAge']),_0x5ecee9;}},{'key':_0x495cfd(0x224),'value':function(){var _0x21b4bd=_0x495cfd;this[_0x21b4bd(0xdb)]=[],delete this[_0x21b4bd(0x1b5)],delete this[_0x21b4bd(0x22e)];}}]),_0x90d635;}(_0x471f00[_0x44c81b(0x17c)][_0x44c81b(0x1db)]);function _0x59029a(_0x77188,_0x5d1320){var _0x140d37=_0x44c81b;return _0x77188*Math[_0x140d37(0x221)](_0x112b1f['Math'][_0x140d37(0xfb)](_0x5d1320));}function _0x10f46d(_0x58921a,_0x407fdf){var _0x3f7536=_0x44c81b;return _0x58921a*Math[_0x3f7536(0x1be)](_0x112b1f[_0x3f7536(0x131)][_0x3f7536(0xfb)](_0x407fdf));}function _0x4e7d22(_0x54402d,_0x5ce36d){var _0x5d3861=_0x44c81b;return Math[_0x5d3861(0x116)](Math[_0x5d3861(0x245)](_0x54402d,0x2)+Math[_0x5d3861(0x245)](_0x5ce36d,0x2));}function _0x47a2f7(_0x479676,_0x487573){var _0x963428=_0x44c81b,_0x5b1cbb=_0x112b1f[_0x963428(0x131)][_0x963428(0x135)](Math['atan2'](_0x487573,_0x479676));return _0x5b1cbb+=_0x5b1cbb<0x0?0x168:0x0;}_0x471f00[_0x44c81b(0x1da)][_0x44c81b(0x11f)](_0x44c81b(0x206),_0x3423a4),_0x471f00[_0x44c81b(0x17c)][_0x44c81b(0x169)]=_0x3423a4,_0x471f00[_0x44c81b(0x242)]=_0x53a66b;}]);}));