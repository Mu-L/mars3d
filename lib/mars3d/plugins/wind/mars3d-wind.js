function a0_0x36e6(_0x109914,_0x360f6e){var _0x471314=a0_0x4713();return a0_0x36e6=function(_0x36e6f2,_0x2178fc){_0x36e6f2=_0x36e6f2-0x125;var _0x457119=_0x471314[_0x36e6f2];return _0x457119;},a0_0x36e6(_0x109914,_0x360f6e);}(function(_0x3632a0,_0x4b4336){var _0x525b8b=a0_0x36e6,_0x39ff53=_0x3632a0();while(!![]){try{var _0xe784e=-parseInt(_0x525b8b(0x285))/0x1*(-parseInt(_0x525b8b(0x199))/0x2)+-parseInt(_0x525b8b(0x131))/0x3*(-parseInt(_0x525b8b(0x190))/0x4)+parseInt(_0x525b8b(0x246))/0x5+-parseInt(_0x525b8b(0x1ee))/0x6+-parseInt(_0x525b8b(0x23f))/0x7+-parseInt(_0x525b8b(0x18d))/0x8*(-parseInt(_0x525b8b(0x132))/0x9)+parseInt(_0x525b8b(0x281))/0xa*(-parseInt(_0x525b8b(0x26b))/0xb);if(_0xe784e===_0x4b4336)break;else _0x39ff53['push'](_0x39ff53['shift']());}catch(_0x243fc4){_0x39ff53['push'](_0x39ff53['shift']());}}}(a0_0x4713,0xea2e9),!function(_0x4cd661,_0x51541c){var _0x29d4a9=a0_0x36e6;_0x29d4a9(0x21b)==typeof exports&&'object'==typeof module?module[_0x29d4a9(0x1f2)]=_0x51541c(require('mars3d-cesium'),require(_0x29d4a9(0x173))):_0x29d4a9(0x1aa)==typeof define&&define['amd']?define(_0x29d4a9(0x218),[_0x29d4a9(0x264),'mars3d'],_0x51541c):_0x29d4a9(0x21b)==typeof exports?exports[_0x29d4a9(0x218)]=_0x51541c(require(_0x29d4a9(0x264)),require(_0x29d4a9(0x173))):_0x4cd661[_0x29d4a9(0x218)]=_0x51541c(_0x4cd661[_0x29d4a9(0x17e)],_0x4cd661[_0x29d4a9(0x173)]);}(window,function(_0x54d05e,_0x4d71b4){return function(_0x504297){var _0x124f84={};function _0x4b17e6(_0x589eb7){var _0x2e2443=a0_0x36e6;if(_0x124f84[_0x589eb7])return _0x124f84[_0x589eb7][_0x2e2443(0x1f2)];var _0x4e60e1=_0x124f84[_0x589eb7]={'i':_0x589eb7,'l':!0x1,'exports':{}};return _0x504297[_0x589eb7]['call'](_0x4e60e1[_0x2e2443(0x1f2)],_0x4e60e1,_0x4e60e1[_0x2e2443(0x1f2)],_0x4b17e6),_0x4e60e1['l']=!0x0,_0x4e60e1['exports'];}return _0x4b17e6['m']=_0x504297,_0x4b17e6['c']=_0x124f84,_0x4b17e6['d']=function(_0x2566cb,_0x15ae67,_0x22c927){var _0x1808bb=a0_0x36e6;_0x4b17e6['o'](_0x2566cb,_0x15ae67)||Object[_0x1808bb(0x134)](_0x2566cb,_0x15ae67,{'enumerable':!0x0,'get':_0x22c927});},_0x4b17e6['r']=function(_0x236420){var _0x26504f=a0_0x36e6;_0x26504f(0x1b0)!=typeof Symbol&&Symbol[_0x26504f(0x243)]&&Object[_0x26504f(0x134)](_0x236420,Symbol[_0x26504f(0x243)],{'value':'Module'}),Object[_0x26504f(0x134)](_0x236420,'__esModule',{'value':!0x0});},_0x4b17e6['t']=function(_0x32305c,_0x3634f2){var _0x5c2e05=a0_0x36e6;if(0x1&_0x3634f2&&(_0x32305c=_0x4b17e6(_0x32305c)),0x8&_0x3634f2)return _0x32305c;if(0x4&_0x3634f2&&_0x5c2e05(0x21b)==typeof _0x32305c&&_0x32305c&&_0x32305c[_0x5c2e05(0x1a1)])return _0x32305c;var _0x3d9273=Object['create'](null);if(_0x4b17e6['r'](_0x3d9273),Object[_0x5c2e05(0x134)](_0x3d9273,'default',{'enumerable':!0x0,'value':_0x32305c}),0x2&_0x3634f2&&_0x5c2e05(0x1ac)!=typeof _0x32305c){for(var _0x2f9851 in _0x32305c)_0x4b17e6['d'](_0x3d9273,_0x2f9851,function(_0x353998){return _0x32305c[_0x353998];}[_0x5c2e05(0x1e6)](null,_0x2f9851));}return _0x3d9273;},_0x4b17e6['n']=function(_0x5c41f4){var _0x1cfa53=a0_0x36e6,_0x4e018c=_0x5c41f4&&_0x5c41f4[_0x1cfa53(0x1a1)]?function(){var _0x2efe1a=_0x1cfa53;return _0x5c41f4[_0x2efe1a(0x226)];}:function(){return _0x5c41f4;};return _0x4b17e6['d'](_0x4e018c,'a',_0x4e018c),_0x4e018c;},_0x4b17e6['o']=function(_0x4e5835,_0x280d1a){var _0x10dab9=a0_0x36e6;return Object[_0x10dab9(0x1ce)][_0x10dab9(0x162)]['call'](_0x4e5835,_0x280d1a);},_0x4b17e6['p']='',_0x4b17e6(_0x4b17e6['s']=0x14);}([function(_0x4c2d13,_0x1a2dbd){_0x4c2d13['exports']=_0x54d05e;},function(_0x486f7c,_0x51c0df){var _0x2a698e=a0_0x36e6;_0x486f7c[_0x2a698e(0x1f2)]=_0x4d71b4;},function(_0x1ef1a3,_0x1a2325){var _0x5046b8=a0_0x36e6;_0x1ef1a3[_0x5046b8(0x1f2)]=function(_0x346399,_0x504a71){if(!(_0x346399 instanceof _0x504a71))throw new TypeError('Cannot\x20call\x20a\x20class\x20as\x20a\x20function');},_0x1ef1a3['exports'][_0x5046b8(0x226)]=_0x1ef1a3[_0x5046b8(0x1f2)],_0x1ef1a3[_0x5046b8(0x1f2)][_0x5046b8(0x1a1)]=!0x0;},function(_0x19e94b,_0x2ea64d){var _0x37c43f=a0_0x36e6;function _0x48342d(_0x11620c,_0x3a4289){var _0x396e5c=a0_0x36e6;for(var _0x1487e9=0x0;_0x1487e9<_0x3a4289['length'];_0x1487e9++){var _0x474276=_0x3a4289[_0x1487e9];_0x474276['enumerable']=_0x474276[_0x396e5c(0x198)]||!0x1,_0x474276[_0x396e5c(0x1c9)]=!0x0,_0x396e5c(0x187)in _0x474276&&(_0x474276[_0x396e5c(0x18e)]=!0x0),Object[_0x396e5c(0x134)](_0x11620c,_0x474276[_0x396e5c(0x256)],_0x474276);}}_0x19e94b[_0x37c43f(0x1f2)]=function(_0x12581d,_0x419fcf,_0x5dc009){var _0x459a26=_0x37c43f;return _0x419fcf&&_0x48342d(_0x12581d[_0x459a26(0x1ce)],_0x419fcf),_0x5dc009&&_0x48342d(_0x12581d,_0x5dc009),_0x12581d;},_0x19e94b[_0x37c43f(0x1f2)]['default']=_0x19e94b[_0x37c43f(0x1f2)],_0x19e94b[_0x37c43f(0x1f2)][_0x37c43f(0x1a1)]=!0x0;},function(_0x2df632,_0x5a13bf){var _0x438238=a0_0x36e6;function _0x2d8369(_0x29f402){var _0x112532=a0_0x36e6;return _0x2df632[_0x112532(0x1f2)]=_0x2d8369=Object[_0x112532(0x1a3)]?Object[_0x112532(0x272)]:function(_0x21029a){var _0x458172=_0x112532;return _0x21029a['__proto__']||Object[_0x458172(0x272)](_0x21029a);},_0x2df632[_0x112532(0x1f2)][_0x112532(0x226)]=_0x2df632[_0x112532(0x1f2)],_0x2df632[_0x112532(0x1f2)][_0x112532(0x1a1)]=!0x0,_0x2d8369(_0x29f402);}_0x2df632[_0x438238(0x1f2)]=_0x2d8369,_0x2df632[_0x438238(0x1f2)]['default']=_0x2df632[_0x438238(0x1f2)],_0x2df632[_0x438238(0x1f2)][_0x438238(0x1a1)]=!0x0;},function(_0x39ba2c,_0x527ca3,_0x1fa534){var _0x2144a4=a0_0x36e6,_0x373cc2=_0x1fa534(0x11);_0x39ba2c[_0x2144a4(0x1f2)]=function(_0x59b9d9,_0x357589){var _0x3c1467=_0x2144a4;if(_0x3c1467(0x1aa)!=typeof _0x357589&&null!==_0x357589)throw new TypeError(_0x3c1467(0x1db));_0x59b9d9['prototype']=Object[_0x3c1467(0x186)](_0x357589&&_0x357589[_0x3c1467(0x1ce)],{'constructor':{'value':_0x59b9d9,'writable':!0x0,'configurable':!0x0}}),_0x357589&&_0x373cc2(_0x59b9d9,_0x357589);},_0x39ba2c[_0x2144a4(0x1f2)]['default']=_0x39ba2c[_0x2144a4(0x1f2)],_0x39ba2c[_0x2144a4(0x1f2)][_0x2144a4(0x1a1)]=!0x0;},function(_0x28a967,_0x48dd69,_0x375217){var _0xe14060=a0_0x36e6,_0x2469dc=_0x375217(0x12)[_0xe14060(0x226)],_0x32201e=_0x375217(0x13);_0x28a967[_0xe14060(0x1f2)]=function(_0x5ed55a,_0x5122d8){var _0x839d41=_0xe14060;if(_0x5122d8&&(_0x839d41(0x21b)===_0x2469dc(_0x5122d8)||_0x839d41(0x1aa)==typeof _0x5122d8))return _0x5122d8;if(void 0x0!==_0x5122d8)throw new TypeError('Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined');return _0x32201e(_0x5ed55a);},_0x28a967['exports'][_0xe14060(0x226)]=_0x28a967[_0xe14060(0x1f2)],_0x28a967[_0xe14060(0x1f2)][_0xe14060(0x1a1)]=!0x0;},function(_0x580454,_0x14f571){var _0x42958a=a0_0x36e6;_0x580454[_0x42958a(0x1f2)]=_0x42958a(0x149);},function(_0x4578a8,_0x5bbf56){var _0x399772=a0_0x36e6;_0x4578a8[_0x399772(0x1f2)]='attribute\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20normal\x0aattribute\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20postProcessingSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x20\x0a\x20\x20\x20\x20float\x20a\x20=\x206378137.0;\x20//\x20Semi-major\x20axis\x20\x0a\x20\x20\x20\x20float\x20b\x20=\x206356752.3142;\x20//\x20Semi-minor\x20axis\x20\x0a\x20\x20\x20\x20float\x20e2\x20=\x206.69437999014e-3;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20\x20\x20float\x20h\x20=\x20particleHeight;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x0a\x20\x20\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calcProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0,\x20360.0)\x20-\x20180.0;\x0a\x20\x20\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0);\x0a\x20\x20\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calcOffset(vec4\x20currentProjectedCoordinate,\x20vec4\x20nextProjectedCoordinate,\x20float\x20offsetSign)\x20{\x0a\x20\x20\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0);\x0a\x20\x20\x20\x20vec2\x20currentXY\x20=\x20(currentProjectedCoordinate.xy\x20/\x20currentProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x20\x20\x20\x20vec2\x20nextXY\x20=\x20(nextProjectedCoordinate.xy\x20/\x20nextProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0;\x0a\x20\x20\x20\x20vec2\x20direction\x20=\x20normalize(nextXY\x20-\x20currentXY);\x0a\x20\x20\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0,\x200.0);\x0a\x20\x20\x20\x20return\x20offset;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20\x20\x20vec3\x20currentPosition\x20=\x20texture2D(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20\x20\x20vec4\x20nextPosition\x20=\x20texture2D(postProcessingPosition,\x20particleIndex);\x0a\x0a\x20\x20\x20\x20vec4\x20currentProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20vec4\x20nextProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20if\x20(nextPosition.w\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(nextPosition.xyz);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20float\x20pointToUse\x20=\x20normal.x;\x20//\x20-1\x20is\x20currentProjectedCoordinate\x20and\x20+1\x20is\x20nextProjectedCoordinate\x0a\x20\x20\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20pixelSize\x20*\x20calcOffset(currentProjectedCoordinate,\x20nextProjectedCoordinate,\x20offsetSign);\x0a\x20\x20\x20\x20if\x20(pointToUse\x20<\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20currentProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20nextProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20speedNormalization\x20=\x20texture2D(postProcessingSpeed,\x20particleIndex).a;\x0a}';},function(_0x18dc49,_0x281ed7){var _0xd18d74=a0_0x36e6;_0x18dc49[_0xd18d74(0x1f2)]=_0xd18d74(0x24f);},function(_0x5e3350,_0x5bcbfa){var _0x2a08ad=a0_0x36e6;_0x5e3350[_0x2a08ad(0x1f2)]='uniform\x20sampler2D\x20segmentsColorTexture;\x0d\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0d\x0a\x0d\x0auniform\x20sampler2D\x20currentTrailsColor;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0auniform\x20float\x20fadeOpacity;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20pointsColor\x20=\x20texture2D(segmentsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(currentTrailsColor,\x20textureCoordinate);\x0d\x0a\x0d\x0a\x20\x20\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0\x20*\x20trailsColor)\x20/\x20255.0;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0d\x0a\x0d\x0a\x20\x20\x20\x20float\x20pointsDepth\x20=\x20texture2D(segmentsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20if\x20(pointsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20pointsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20gl_FragDepthEXT\x20=\x20min(pointsDepth,\x20trailsDepth);\x0d\x0a}';},function(_0x532f6b,_0x294a55){var _0x5b6e22=a0_0x36e6;_0x532f6b[_0x5b6e22(0x1f2)]='uniform\x20sampler2D\x20trailsColorTexture;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(trailsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x20else\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20}\x0d\x0a}';},function(_0x107cdf,_0x1e1ca8){var _0x1a1451=a0_0x36e6;_0x107cdf[_0x1a1451(0x1f2)]=_0x1a1451(0x259);},function(_0x35b855,_0x34d1b2){var _0x169bcf=a0_0x36e6;_0x35b855[_0x169bcf(0x1f2)]=_0x169bcf(0x14d);},function(_0x4daa7d,_0x3a295d){var _0x213c55=a0_0x36e6;_0x4daa7d[_0x213c55(0x1f2)]=_0x213c55(0x19f);},function(_0x523cf1,_0x2fb333){var _0x198534=a0_0x36e6;_0x523cf1[_0x198534(0x1f2)]=_0x198534(0x1b5);},function(_0x1affa3,_0x5cfce0){var _0x13dc82=a0_0x36e6;_0x1affa3['exports']=_0x13dc82(0x296);},function(_0x3bb795,_0x303ed4){var _0x2c7c3d=a0_0x36e6;function _0x49592c(_0x242c0f,_0x2bd27f){var _0x426333=a0_0x36e6;return _0x3bb795['exports']=_0x49592c=Object[_0x426333(0x1a3)]||function(_0x4c7fc0,_0x4952c9){var _0x4c5807=_0x426333;return _0x4c7fc0[_0x4c5807(0x13c)]=_0x4952c9,_0x4c7fc0;},_0x3bb795[_0x426333(0x1f2)]['default']=_0x3bb795['exports'],_0x3bb795[_0x426333(0x1f2)]['__esModule']=!0x0,_0x49592c(_0x242c0f,_0x2bd27f);}_0x3bb795[_0x2c7c3d(0x1f2)]=_0x49592c,_0x3bb795[_0x2c7c3d(0x1f2)][_0x2c7c3d(0x226)]=_0x3bb795[_0x2c7c3d(0x1f2)],_0x3bb795[_0x2c7c3d(0x1f2)][_0x2c7c3d(0x1a1)]=!0x0;},function(_0x20db16,_0x3fcd27){var _0x3a2250=a0_0x36e6;function _0x2d374b(_0x4fc4f1){var _0x495099=a0_0x36e6;return _0x495099(0x1aa)==typeof Symbol&&_0x495099(0x17f)==typeof Symbol['iterator']?(_0x20db16[_0x495099(0x1f2)]=_0x2d374b=function(_0x1589a0){return typeof _0x1589a0;},_0x20db16[_0x495099(0x1f2)]['default']=_0x20db16[_0x495099(0x1f2)],_0x20db16[_0x495099(0x1f2)]['__esModule']=!0x0):(_0x20db16[_0x495099(0x1f2)]=_0x2d374b=function(_0x3b070f){var _0x46105b=_0x495099;return _0x3b070f&&'function'==typeof Symbol&&_0x3b070f[_0x46105b(0x257)]===Symbol&&_0x3b070f!==Symbol[_0x46105b(0x1ce)]?_0x46105b(0x17f):typeof _0x3b070f;},_0x20db16[_0x495099(0x1f2)][_0x495099(0x226)]=_0x20db16[_0x495099(0x1f2)],_0x20db16[_0x495099(0x1f2)][_0x495099(0x1a1)]=!0x0),_0x2d374b(_0x4fc4f1);}_0x20db16['exports']=_0x2d374b,_0x20db16[_0x3a2250(0x1f2)]['default']=_0x20db16[_0x3a2250(0x1f2)],_0x20db16[_0x3a2250(0x1f2)][_0x3a2250(0x1a1)]=!0x0;},function(_0x1fd3d7,_0xdae4ab){var _0x433c54=a0_0x36e6;_0x1fd3d7[_0x433c54(0x1f2)]=function(_0xc39270){var _0x58e6ef=_0x433c54;if(void 0x0===_0xc39270)throw new ReferenceError(_0x58e6ef(0x276));return _0xc39270;},_0x1fd3d7['exports'][_0x433c54(0x226)]=_0x1fd3d7[_0x433c54(0x1f2)],_0x1fd3d7[_0x433c54(0x1f2)][_0x433c54(0x1a1)]=!0x0;},function(_0x1de52f,_0x14cd1c,_0x1a8729){'use strict';var _0x49e117=a0_0x36e6;_0x1a8729['r'](_0x14cd1c),_0x1a8729['d'](_0x14cd1c,_0x49e117(0x232),function(){return _0xf09b30;}),_0x1a8729['d'](_0x14cd1c,_0x49e117(0x147),function(){return _0x3d0c7f;}),_0x1a8729['d'](_0x14cd1c,_0x49e117(0x290),function(){return _0x1d11bf;});var _0x1d11bf={};_0x1a8729['r'](_0x1d11bf),_0x1a8729['d'](_0x1d11bf,_0x49e117(0x213),function(){return _0x8a4063;}),_0x1a8729['d'](_0x1d11bf,'getV',function(){return _0x416dac;}),_0x1a8729['d'](_0x1d11bf,_0x49e117(0x19d),function(){return _0xe69e5a;}),_0x1a8729['d'](_0x1d11bf,_0x49e117(0x18f),function(){return _0x37e74a;});var _0xb4c022=_0x1a8729(0x1),_0x5c90ca=_0x1a8729(0x2),_0x3d4b84=_0x1a8729['n'](_0x5c90ca),_0x2a616b=_0x1a8729(0x3),_0x741b4c=_0x1a8729['n'](_0x2a616b),_0x55deed=_0x1a8729(0x5),_0x54344c=_0x1a8729['n'](_0x55deed),_0x4b6857=_0x1a8729(0x6),_0x26306a=_0x1a8729['n'](_0x4b6857),_0x4cfac5=_0x1a8729(0x4),_0x37e985=_0x1a8729['n'](_0x4cfac5),_0x3886d9=_0x1a8729(0x0),_0xf86523=function(){var _0x505365=_0x49e117;function _0x12d22b(_0x277f60){var _0x433420=a0_0x36e6;_0x3d4b84()(this,_0x12d22b),this[_0x433420(0x260)]=_0x277f60[_0x433420(0x260)],this[_0x433420(0x1c3)]=_0x277f60['geometry'],this[_0x433420(0x15a)]=_0x277f60[_0x433420(0x15a)],this[_0x433420(0x15c)]=_0x277f60[_0x433420(0x15c)],this[_0x433420(0x1b6)]=_0x277f60['uniformMap'],this['vertexShaderSource']=_0x277f60[_0x433420(0x1ae)],this[_0x433420(0x172)]=_0x277f60[_0x433420(0x172)],this[_0x433420(0x28d)]=_0x277f60[_0x433420(0x28d)],this[_0x433420(0x146)]=_0x277f60[_0x433420(0x146)],this['outputTexture']=_0x277f60[_0x433420(0x1f5)],this[_0x433420(0x140)]=_0x3886d9[_0x433420(0x143)](_0x277f60['autoClear'],!0x1),this[_0x433420(0x24d)]=_0x277f60[_0x433420(0x24d)],this['show']=!0x0,this['commandToExecute']=void 0x0,this[_0x433420(0x1cd)]=void 0x0,this[_0x433420(0x140)]&&(this[_0x433420(0x1cd)]=new _0x3886d9[(_0x433420(0x196))]({'color':new _0x3886d9['Color'](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this[_0x433420(0x146)],'pass':_0x3886d9[_0x433420(0x284)][_0x433420(0x19a)]}));}return _0x741b4c()(_0x12d22b,[{'key':'createCommand','value':function(_0x1f03b4){var _0x219dd3=a0_0x36e6;switch(this['commandType']){case'Draw':var _0x490577=_0x3886d9[_0x219dd3(0x1be)][_0x219dd3(0x21a)]({'context':_0x1f03b4,'geometry':this[_0x219dd3(0x1c3)],'attributeLocations':this['attributeLocations'],'bufferUsage':_0x3886d9[_0x219dd3(0x28b)]['STATIC_DRAW']}),_0x2c5b2f=_0x3886d9[_0x219dd3(0x25d)]['fromCache']({'context':_0x1f03b4,'attributeLocations':this[_0x219dd3(0x15a)],'vertexShaderSource':this[_0x219dd3(0x1ae)],'fragmentShaderSource':this['fragmentShaderSource']}),_0x39814c=_0x3886d9[_0x219dd3(0x12c)][_0x219dd3(0x138)](this[_0x219dd3(0x28d)]);return new _0x3886d9['DrawCommand']({'owner':this,'vertexArray':_0x490577,'primitiveType':this[_0x219dd3(0x15c)],'uniformMap':this[_0x219dd3(0x1b6)],'modelMatrix':_0x3886d9[_0x219dd3(0x164)][_0x219dd3(0x1a0)],'shaderProgram':_0x2c5b2f,'framebuffer':this[_0x219dd3(0x146)],'renderState':_0x39814c,'pass':_0x3886d9[_0x219dd3(0x284)][_0x219dd3(0x19a)]});case _0x219dd3(0x141):return new _0x3886d9['ComputeCommand']({'owner':this,'fragmentShaderSource':this[_0x219dd3(0x172)],'uniformMap':this[_0x219dd3(0x1b6)],'outputTexture':this['outputTexture'],'persists':!0x0});}}},{'key':_0x505365(0x297),'value':function(_0x31d5b9,_0x300368){var _0x32ff2f=_0x505365;this[_0x32ff2f(0x1c3)]=_0x300368;var _0x25134c=_0x3886d9['VertexArray'][_0x32ff2f(0x21a)]({'context':_0x31d5b9,'geometry':this[_0x32ff2f(0x1c3)],'attributeLocations':this[_0x32ff2f(0x15a)],'bufferUsage':_0x3886d9[_0x32ff2f(0x28b)][_0x32ff2f(0x16d)]});this[_0x32ff2f(0x1e5)][_0x32ff2f(0x1b3)]=_0x25134c;}},{'key':_0x505365(0x1f4),'value':function(_0x589507){var _0x54fe06=_0x505365;this['show']&&_0x589507[_0x54fe06(0x233)]==_0x3886d9[_0x54fe06(0x163)][_0x54fe06(0x1a5)]&&(_0x3886d9[_0x54fe06(0x1f6)](this['commandToExecute'])||(this[_0x54fe06(0x1e5)]=this[_0x54fe06(0x293)](_0x589507[_0x54fe06(0x12a)])),_0x3886d9[_0x54fe06(0x1f6)](this[_0x54fe06(0x24d)])&&this[_0x54fe06(0x24d)](),_0x3886d9[_0x54fe06(0x1f6)](this[_0x54fe06(0x1cd)])&&_0x589507['commandList'][_0x54fe06(0x176)](this['clearCommand']),_0x589507['commandList']['push'](this[_0x54fe06(0x1e5)]));}},{'key':'isDestroyed','value':function(){return!0x1;}},{'key':_0x505365(0x15b),'value':function(){var _0x19a870=_0x505365;return _0x3886d9[_0x19a870(0x1f6)](this['commandToExecute'])&&(this['commandToExecute'][_0x19a870(0x1d9)]=this[_0x19a870(0x1e5)][_0x19a870(0x1d9)]&&this['commandToExecute'][_0x19a870(0x1d9)][_0x19a870(0x15b)]()),_0x3886d9['destroyObject'](this);}}]),_0x12d22b;}(),_0x2b04ec={'getFullscreenQuad':function(){var _0xe50a51=_0x49e117;return new _0x3886d9['Geometry']({'attributes':new _0x3886d9['GeometryAttributes']({'position':new _0x3886d9[(_0xe50a51(0x27d))]({'componentDatatype':_0x3886d9[_0xe50a51(0x1ca)][_0xe50a51(0x282)],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new _0x3886d9[(_0xe50a51(0x27d))]({'componentDatatype':_0x3886d9[_0xe50a51(0x1ca)][_0xe50a51(0x282)],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});},'createTexture':function(_0x10ed2c,_0x2b4310){var _0x4bfb17=_0x49e117;if(_0x3886d9[_0x4bfb17(0x1f6)](_0x2b4310)){var _0x436a53={};_0x436a53[_0x4bfb17(0x1b4)]=_0x2b4310,_0x10ed2c['source']=_0x436a53;}return new _0x3886d9[(_0x4bfb17(0x237))](_0x10ed2c);},'createFramebuffer':function(_0x74c575,_0x299242,_0x569f28){return new _0x3886d9['Framebuffer']({'context':_0x74c575,'colorTextures':[_0x299242],'depthTexture':_0x569f28});},'createRawRenderState':function(_0x40910a){var _0xe517b3=_0x49e117,_0x3ed52d={'viewport':_0x40910a[_0xe517b3(0x202)],'depthTest':_0x40910a['depthTest'],'depthMask':_0x40910a[_0xe517b3(0x204)],'blending':_0x40910a[_0xe517b3(0x240)]};return _0x3886d9[_0xe517b3(0x16c)][_0xe517b3(0x155)](!0x0,!0x1,_0x3ed52d);},'viewRectangleToLonLatRange':function(_0x229c7d){var _0x306efa=_0x49e117,_0x78d1c7,_0xdc0fb,_0x4dd5b1={},_0x54d89a=_0x3886d9[_0x306efa(0x17d)][_0x306efa(0x1bf)](_0x229c7d['west'],_0x3886d9[_0x306efa(0x17d)]['TWO_PI']),_0x6faf5e=_0x3886d9['Math'][_0x306efa(0x1bf)](_0x229c7d['east'],_0x3886d9[_0x306efa(0x17d)][_0x306efa(0x1d2)]),_0x8b292c=_0x229c7d['width'];_0x8b292c>_0x3886d9[_0x306efa(0x17d)][_0x306efa(0x153)]?(_0x78d1c7=0x0,_0xdc0fb=_0x3886d9[_0x306efa(0x17d)][_0x306efa(0x1d2)]):_0x6faf5e-_0x54d89a<_0x8b292c?(_0x78d1c7=_0x54d89a,_0xdc0fb=_0x54d89a+_0x8b292c):(_0x78d1c7=_0x54d89a,_0xdc0fb=_0x6faf5e),_0x4dd5b1[_0x306efa(0x1c6)]={'min':_0x3886d9[_0x306efa(0x17d)][_0x306efa(0x261)](_0x78d1c7),'max':_0x3886d9[_0x306efa(0x17d)][_0x306efa(0x261)](_0xdc0fb)};var _0x31814e=_0x229c7d[_0x306efa(0x1bd)],_0x2b6b9e=_0x229c7d[_0x306efa(0x177)],_0x37125b=_0x229c7d[_0x306efa(0x13b)],_0x1bff95=_0x37125b>_0x3886d9[_0x306efa(0x17d)]['PI']/0xc?_0x37125b/0x2:0x0,_0x2209a4=_0x3886d9[_0x306efa(0x17d)][_0x306efa(0x150)](_0x31814e-_0x1bff95),_0x2f96d7=_0x3886d9[_0x306efa(0x17d)]['clampToLatitudeRange'](_0x2b6b9e+_0x1bff95);return _0x2209a4<-_0x3886d9[_0x306efa(0x17d)]['PI_OVER_THREE']&&(_0x2209a4=-_0x3886d9[_0x306efa(0x17d)][_0x306efa(0x145)]),_0x2f96d7>_0x3886d9['Math'][_0x306efa(0x1e1)]&&(_0x2f96d7=_0x3886d9[_0x306efa(0x17d)]['PI_OVER_TWO']),_0x4dd5b1['lat']={'min':_0x3886d9[_0x306efa(0x17d)][_0x306efa(0x261)](_0x2209a4),'max':_0x3886d9[_0x306efa(0x17d)][_0x306efa(0x261)](_0x2f96d7)},_0x4dd5b1;}},_0x5e9e06=_0x1a8729(0x8),_0x239694=_0x1a8729['n'](_0x5e9e06),_0x2e5ef2=_0x1a8729(0x9),_0xbd9d23=_0x1a8729['n'](_0x2e5ef2),_0x1ee101=_0x1a8729(0x7),_0x11f336=_0x1a8729['n'](_0x1ee101),_0x51d0ee=_0x1a8729(0xa),_0x2da5e2=_0x1a8729['n'](_0x51d0ee),_0x3ea3f9=_0x1a8729(0xb),_0x166122=_0x1a8729['n'](_0x3ea3f9),_0x40fdf0=function(){var _0x25b2a5=_0x49e117;function _0x7d3b39(_0x439160,_0x328daf,_0xa10db5,_0x100d77,_0x12d9cb){var _0x5f3473=a0_0x36e6;_0x3d4b84()(this,_0x7d3b39),this[_0x5f3473(0x1a4)](_0x439160,_0x328daf),this[_0x5f3473(0x215)](_0x439160),this[_0x5f3473(0x171)](_0x439160,_0xa10db5,_0x100d77,_0x12d9cb);}return _0x741b4c()(_0x7d3b39,[{'key':_0x25b2a5(0x1a4),'value':function(_0x43425f,_0x46abe7){var _0x3575d3=_0x25b2a5,_0x493c53={'context':_0x43425f,'width':_0x43425f[_0x3575d3(0x1d8)],'height':_0x43425f[_0x3575d3(0x23a)],'pixelFormat':_0x3886d9['PixelFormat']['RGBA'],'pixelDatatype':_0x3886d9[_0x3575d3(0x139)][_0x3575d3(0x197)]},_0x3f55c9={'context':_0x43425f,'width':_0x43425f[_0x3575d3(0x1d8)],'height':_0x43425f[_0x3575d3(0x23a)],'pixelFormat':_0x3886d9[_0x3575d3(0x227)][_0x3575d3(0x1fa)],'pixelDatatype':_0x3886d9[_0x3575d3(0x139)]['UNSIGNED_INT']},_0x39458f={'context':_0x43425f,'width':_0x46abe7[_0x3575d3(0x158)][_0x3575d3(0x1da)],'height':0x1,'pixelFormat':_0x3886d9['PixelFormat']['RGB'],'pixelDatatype':_0x3886d9['PixelDatatype'][_0x3575d3(0x282)],'sampler':new _0x3886d9[(_0x3575d3(0x1fd))]({'minificationFilter':_0x3886d9[_0x3575d3(0x1c5)]['LINEAR'],'magnificationFilter':_0x3886d9[_0x3575d3(0x160)][_0x3575d3(0x286)]})};this[_0x3575d3(0x1de)]={'segmentsColor':_0x2b04ec[_0x3575d3(0x1a7)](_0x493c53),'segmentsDepth':_0x2b04ec[_0x3575d3(0x1a7)](_0x3f55c9),'currentTrailsColor':_0x2b04ec[_0x3575d3(0x1a7)](_0x493c53),'currentTrailsDepth':_0x2b04ec[_0x3575d3(0x1a7)](_0x3f55c9),'nextTrailsColor':_0x2b04ec[_0x3575d3(0x1a7)](_0x493c53),'nextTrailsDepth':_0x2b04ec['createTexture'](_0x3f55c9),'colorTable':_0x2b04ec[_0x3575d3(0x1a7)](_0x39458f,_0x46abe7[_0x3575d3(0x158)]['array'])};}},{'key':_0x25b2a5(0x215),'value':function(_0x4f581a){var _0x3980a2=_0x25b2a5;this[_0x3980a2(0x1f0)]={'segments':_0x2b04ec[_0x3980a2(0x247)](_0x4f581a,this[_0x3980a2(0x1de)][_0x3980a2(0x1d7)],this[_0x3980a2(0x1de)][_0x3980a2(0x287)]),'currentTrails':_0x2b04ec[_0x3980a2(0x247)](_0x4f581a,this[_0x3980a2(0x1de)][_0x3980a2(0x267)],this[_0x3980a2(0x1de)][_0x3980a2(0x25f)]),'nextTrails':_0x2b04ec[_0x3980a2(0x247)](_0x4f581a,this['textures'][_0x3980a2(0x228)],this['textures'][_0x3980a2(0x295)])};}},{'key':_0x25b2a5(0x265),'value':function(_0x1f7484){var _0x217e7f=_0x25b2a5;for(var _0x2ed0c3=[],_0x193aff=0x0;_0x193aff<_0x1f7484['particlesTextureSize'];_0x193aff++)for(var _0x176cf2=0x0;_0x176cf2<_0x1f7484[_0x217e7f(0x28c)];_0x176cf2++)for(var _0xea3c83=0x0;_0xea3c83<0x4;_0xea3c83++)_0x2ed0c3['push'](_0x193aff/_0x1f7484[_0x217e7f(0x28c)]),_0x2ed0c3[_0x217e7f(0x176)](_0x176cf2/_0x1f7484['particlesTextureSize']);_0x2ed0c3=new Float32Array(_0x2ed0c3);for(var _0x59addd=[],_0x55faf4=[-0x1,0x1],_0x5eaf02=[-0x1,0x1],_0x2b45d3=0x0;_0x2b45d3<_0x1f7484['maxParticles'];_0x2b45d3++)for(var _0x5494b8=0x0;_0x5494b8<0x2;_0x5494b8++)for(var _0x4c5709=0x0;_0x4c5709<0x2;_0x4c5709++)_0x59addd['push'](_0x55faf4[_0x5494b8]),_0x59addd['push'](_0x5eaf02[_0x4c5709]),_0x59addd[_0x217e7f(0x176)](0x0);_0x59addd=new Float32Array(_0x59addd);for(var _0xc117d5=0x6*_0x1f7484[_0x217e7f(0x1bb)],_0x2659ea=new Uint32Array(_0xc117d5),_0x193738=0x0,_0xce6fc5=0x0,_0x1f5db9=0x0;_0x193738<_0x1f7484[_0x217e7f(0x1bb)];_0x193738++)_0x2659ea[_0xce6fc5++]=_0x1f5db9+0x0,_0x2659ea[_0xce6fc5++]=_0x1f5db9+0x1,_0x2659ea[_0xce6fc5++]=_0x1f5db9+0x2,_0x2659ea[_0xce6fc5++]=_0x1f5db9+0x2,_0x2659ea[_0xce6fc5++]=_0x1f5db9+0x1,_0x2659ea[_0xce6fc5++]=_0x1f5db9+0x3,_0x1f5db9+=0x4;return new _0x3886d9['Geometry']({'attributes':new _0x3886d9['GeometryAttributes']({'st':new _0x3886d9['GeometryAttribute']({'componentDatatype':_0x3886d9[_0x217e7f(0x1ca)][_0x217e7f(0x282)],'componentsPerAttribute':0x2,'values':_0x2ed0c3}),'normal':new _0x3886d9[(_0x217e7f(0x27d))]({'componentDatatype':_0x3886d9[_0x217e7f(0x1ca)][_0x217e7f(0x282)],'componentsPerAttribute':0x3,'values':_0x59addd})}),'indices':_0x2659ea});}},{'key':_0x25b2a5(0x171),'value':function(_0x1f214c,_0x44bf13,_0x56220a,_0x4de139){var _0x118a62=_0x25b2a5,_0x524a4b=this;this[_0x118a62(0x128)]={'segments':new _0xf86523({'commandType':_0x118a62(0x175),'attributeLocations':{'st':0x0,'normal':0x1},'geometry':this[_0x118a62(0x265)](_0x44bf13),'primitiveType':_0x3886d9[_0x118a62(0x1d0)][_0x118a62(0x1cf)],'uniformMap':{'currentParticlesPosition':function(){var _0x27fa81=_0x118a62;return _0x4de139['particlesTextures'][_0x27fa81(0x13f)];},'postProcessingPosition':function(){var _0xda0a42=_0x118a62;return _0x4de139[_0xda0a42(0x181)]['postProcessingPosition'];},'postProcessingSpeed':function(){var _0xc4942d=_0x118a62;return _0x4de139[_0xc4942d(0x181)][_0xc4942d(0x1d5)];},'colorTable':function(){var _0x3b4184=_0x118a62;return _0x524a4b[_0x3b4184(0x1de)]['colorTable'];},'aspect':function(){var _0x38c99e=_0x118a62;return _0x1f214c[_0x38c99e(0x1d8)]/_0x1f214c[_0x38c99e(0x23a)];},'pixelSize':function(){var _0x5526c8=_0x118a62;return _0x56220a[_0x5526c8(0x22d)];},'lineWidth':function(){var _0x56a4a9=_0x118a62;return _0x44bf13[_0x56a4a9(0x208)];},'particleHeight':function(){return _0x44bf13['particleHeight'];}},'vertexShaderSource':new _0x3886d9[(_0x118a62(0x194))]({'sources':[_0x239694['a']]}),'fragmentShaderSource':new _0x3886d9[(_0x118a62(0x194))]({'sources':[_0xbd9d23['a']]}),'rawRenderState':_0x2b04ec[_0x118a62(0x12d)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0},'depthMask':!0x0}),'framebuffer':this['framebuffers'][_0x118a62(0x1c0)],'autoClear':!0x0}),'trails':new _0xf86523({'commandType':_0x118a62(0x175),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x2b04ec[_0x118a62(0x25a)](),'primitiveType':_0x3886d9['PrimitiveType']['TRIANGLES'],'uniformMap':{'segmentsColorTexture':function(){var _0x21e2eb=_0x118a62;return _0x524a4b[_0x21e2eb(0x1de)]['segmentsColor'];},'segmentsDepthTexture':function(){var _0x4f8258=_0x118a62;return _0x524a4b[_0x4f8258(0x1de)][_0x4f8258(0x287)];},'currentTrailsColor':function(){var _0x50a809=_0x118a62;return _0x524a4b[_0x50a809(0x1f0)][_0x50a809(0x280)][_0x50a809(0x217)](0x0);},'trailsDepthTexture':function(){var _0x35ee39=_0x118a62;return _0x524a4b['framebuffers'][_0x35ee39(0x280)][_0x35ee39(0x16b)];},'fadeOpacity':function(){return _0x44bf13['fadeOpacity'];}},'vertexShaderSource':new _0x3886d9[(_0x118a62(0x194))]({'defines':[_0x118a62(0x212)],'sources':[_0x11f336['a']]}),'fragmentShaderSource':new _0x3886d9[(_0x118a62(0x194))]({'defines':[_0x118a62(0x238)],'sources':[_0x2da5e2['a']]}),'rawRenderState':_0x2b04ec[_0x118a62(0x12d)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0,'func':_0x3886d9[_0x118a62(0x207)][_0x118a62(0x25e)]},'depthMask':!0x0}),'framebuffer':this['framebuffers'][_0x118a62(0x1fb)],'autoClear':!0x0,'preExecute':function(){var _0x1d9a3f=_0x118a62,_0x26745f;_0x26745f=_0x524a4b[_0x1d9a3f(0x1f0)][_0x1d9a3f(0x280)],_0x524a4b[_0x1d9a3f(0x1f0)][_0x1d9a3f(0x280)]=_0x524a4b[_0x1d9a3f(0x1f0)][_0x1d9a3f(0x1fb)],_0x524a4b['framebuffers'][_0x1d9a3f(0x1fb)]=_0x26745f,_0x524a4b['primitives']['trails'][_0x1d9a3f(0x1e5)][_0x1d9a3f(0x146)]=_0x524a4b[_0x1d9a3f(0x1f0)][_0x1d9a3f(0x1fb)],_0x524a4b['primitives'][_0x1d9a3f(0x192)][_0x1d9a3f(0x1cd)][_0x1d9a3f(0x146)]=_0x524a4b[_0x1d9a3f(0x1f0)][_0x1d9a3f(0x1fb)];}}),'screen':new _0xf86523({'commandType':_0x118a62(0x175),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x2b04ec[_0x118a62(0x25a)](),'primitiveType':_0x3886d9['PrimitiveType']['TRIANGLES'],'uniformMap':{'trailsColorTexture':function(){var _0x37c2b2=_0x118a62;return _0x524a4b[_0x37c2b2(0x1f0)][_0x37c2b2(0x1fb)]['getColorTexture'](0x0);},'trailsDepthTexture':function(){var _0x34ee6e=_0x118a62;return _0x524a4b['framebuffers']['nextTrails'][_0x34ee6e(0x16b)];}},'vertexShaderSource':new _0x3886d9[(_0x118a62(0x194))]({'defines':['DISABLE_GL_POSITION_LOG_DEPTH'],'sources':[_0x11f336['a']]}),'fragmentShaderSource':new _0x3886d9[(_0x118a62(0x194))]({'defines':['DISABLE_LOG_DEPTH_FRAGMENT_WRITE'],'sources':[_0x166122['a']]}),'rawRenderState':_0x2b04ec[_0x118a62(0x12d)]({'viewport':void 0x0,'depthTest':{'enabled':!0x1},'depthMask':!0x0,'blending':{'enabled':!0x0}}),'framebuffer':void 0x0})};}}]),_0x7d3b39;}(),_0x30145a=_0x1a8729(0xc),_0x841f8e=_0x1a8729['n'](_0x30145a),_0x503d3f=_0x1a8729(0xd),_0x5dc9f9=_0x1a8729['n'](_0x503d3f),_0x2b71a6=_0x1a8729(0xe),_0x53974b=_0x1a8729['n'](_0x2b71a6),_0x48848f=_0x1a8729(0xf),_0x3d8c09=_0x1a8729['n'](_0x48848f),_0x5d4134=_0x1a8729(0x10),_0x9928bb=_0x1a8729['n'](_0x5d4134),_0x3e683d=function(){var _0xbbe2a4=_0x49e117;function _0x168410(_0x474869,_0x167c0c,_0x44b1fe,_0x33055d){var _0x443848=a0_0x36e6;_0x3d4b84()(this,_0x168410),this[_0x443848(0x1c2)]=_0x167c0c,this['createWindTextures'](_0x474869,_0x167c0c),this['createParticlesTextures'](_0x474869,_0x44b1fe,_0x33055d),this['createComputingPrimitives'](_0x167c0c,_0x44b1fe,_0x33055d);}return _0x741b4c()(_0x168410,[{'key':_0xbbe2a4(0x27c),'value':function(_0x40da1c,_0x4c3ac9){var _0x49a905=_0xbbe2a4,_0x4541fb={'context':_0x40da1c,'width':_0x4c3ac9[_0x49a905(0x20d)][_0x49a905(0x1c6)],'height':_0x4c3ac9[_0x49a905(0x20d)][_0x49a905(0x22a)]*_0x4c3ac9['dimensions'][_0x49a905(0x16f)],'pixelFormat':_0x3886d9[_0x49a905(0x227)][_0x49a905(0x127)],'pixelDatatype':_0x3886d9[_0x49a905(0x139)]['FLOAT'],'flipY':!0x1,'sampler':new _0x3886d9[(_0x49a905(0x1fd))]({'minificationFilter':_0x3886d9['TextureMinificationFilter'][_0x49a905(0x137)],'magnificationFilter':_0x3886d9[_0x49a905(0x160)][_0x49a905(0x137)]})};this[_0x49a905(0x12b)]={'U':_0x2b04ec[_0x49a905(0x1a7)](_0x4541fb,_0x4c3ac9['U'][_0x49a905(0x27a)]),'V':_0x2b04ec['createTexture'](_0x4541fb,_0x4c3ac9['V'][_0x49a905(0x27a)])};}},{'key':'createParticlesTextures','value':function(_0x2e1fbe,_0x2bda8a,_0x3de8f7){var _0x57fef5=_0xbbe2a4,_0x4555b0={'context':_0x2e1fbe,'width':_0x2bda8a[_0x57fef5(0x28c)],'height':_0x2bda8a[_0x57fef5(0x28c)],'pixelFormat':_0x3886d9['PixelFormat']['RGBA'],'pixelDatatype':_0x3886d9[_0x57fef5(0x139)][_0x57fef5(0x282)],'flipY':!0x1,'sampler':new _0x3886d9[(_0x57fef5(0x1fd))]({'minificationFilter':_0x3886d9[_0x57fef5(0x1c5)][_0x57fef5(0x137)],'magnificationFilter':_0x3886d9['TextureMagnificationFilter'][_0x57fef5(0x137)]})},_0x6f6a59=this[_0x57fef5(0x230)](_0x2bda8a[_0x57fef5(0x1bb)],_0x3de8f7),_0x4f7c73=new Float32Array(0x4*_0x2bda8a['maxParticles'])[_0x57fef5(0x18b)](0x0);this[_0x57fef5(0x181)]={'particlesWind':_0x2b04ec[_0x57fef5(0x1a7)](_0x4555b0),'currentParticlesPosition':_0x2b04ec[_0x57fef5(0x1a7)](_0x4555b0,_0x6f6a59),'nextParticlesPosition':_0x2b04ec[_0x57fef5(0x1a7)](_0x4555b0,_0x6f6a59),'currentParticlesSpeed':_0x2b04ec['createTexture'](_0x4555b0,_0x4f7c73),'nextParticlesSpeed':_0x2b04ec[_0x57fef5(0x1a7)](_0x4555b0,_0x4f7c73),'postProcessingPosition':_0x2b04ec['createTexture'](_0x4555b0,_0x6f6a59),'postProcessingSpeed':_0x2b04ec['createTexture'](_0x4555b0,_0x4f7c73)};}},{'key':_0xbbe2a4(0x230),'value':function(_0x46aeda,_0x3659ca){var _0x2ce8c7=_0xbbe2a4;for(var _0x1245c1=new Float32Array(0x4*_0x46aeda),_0x5bbe7e=0x0;_0x5bbe7e<_0x46aeda;_0x5bbe7e++)_0x1245c1[0x4*_0x5bbe7e]=_0x3886d9[_0x2ce8c7(0x17d)][_0x2ce8c7(0x203)](_0x3659ca[_0x2ce8c7(0x26c)]['x'],_0x3659ca[_0x2ce8c7(0x26c)]['y']),_0x1245c1[0x4*_0x5bbe7e+0x1]=_0x3886d9['Math']['randomBetween'](_0x3659ca['latRange']['x'],_0x3659ca[_0x2ce8c7(0x1c8)]['y']),_0x1245c1[0x4*_0x5bbe7e+0x2]=_0x3886d9[_0x2ce8c7(0x17d)][_0x2ce8c7(0x203)](this[_0x2ce8c7(0x1c2)][_0x2ce8c7(0x16f)]['min'],this[_0x2ce8c7(0x1c2)][_0x2ce8c7(0x16f)][_0x2ce8c7(0x27e)]),_0x1245c1[0x4*_0x5bbe7e+0x3]=0x0;return _0x1245c1;}},{'key':_0xbbe2a4(0x1cc),'value':function(){var _0x513b99=_0xbbe2a4,_0x4bdfd7=this;Object[_0x513b99(0x1dd)](this['particlesTextures'])['forEach'](function(_0x7a7500){var _0x5c3c1d=_0x513b99;_0x4bdfd7[_0x5c3c1d(0x181)][_0x7a7500][_0x5c3c1d(0x15b)]();});}},{'key':_0xbbe2a4(0x1e2),'value':function(_0x4e989b,_0x4ccb32,_0x1ff26a){var _0x15528b=_0xbbe2a4,_0x5e0128=new _0x3886d9[(_0x15528b(0x1e8))](_0x4e989b[_0x15528b(0x20d)]['lon'],_0x4e989b['dimensions'][_0x15528b(0x22a)],_0x4e989b['dimensions'][_0x15528b(0x16f)]),_0x279268=new _0x3886d9[(_0x15528b(0x1e8))](_0x4e989b[_0x15528b(0x1c6)][_0x15528b(0x183)],_0x4e989b['lat'][_0x15528b(0x183)],_0x4e989b[_0x15528b(0x16f)][_0x15528b(0x183)]),_0x2d94e0=new _0x3886d9[(_0x15528b(0x1e8))](_0x4e989b[_0x15528b(0x1c6)][_0x15528b(0x27e)],_0x4e989b['lat'][_0x15528b(0x27e)],_0x4e989b[_0x15528b(0x16f)][_0x15528b(0x27e)]),_0x59add5=new _0x3886d9[(_0x15528b(0x1e8))]((_0x2d94e0['x']-_0x279268['x'])/(_0x5e0128['x']-0x1),(_0x2d94e0['y']-_0x279268['y'])/(_0x5e0128['y']-0x1),_0x5e0128['z']>0x1?(_0x2d94e0['z']-_0x279268['z'])/(_0x5e0128['z']-0x1):0x1),_0xb85f98=new _0x3886d9[(_0x15528b(0x279))](_0x4e989b['U'][_0x15528b(0x183)],_0x4e989b['U'][_0x15528b(0x27e)]),_0x262407=new _0x3886d9['Cartesian2'](_0x4e989b['V']['min'],_0x4e989b['V'][_0x15528b(0x27e)]),_0xddcc17=this;this[_0x15528b(0x128)]={'getWind':new _0xf86523({'commandType':_0x15528b(0x141),'uniformMap':{'U':function(){var _0x2e1b18=_0x15528b;return _0xddcc17[_0x2e1b18(0x12b)]['U'];},'V':function(){var _0x5ce30b=_0x15528b;return _0xddcc17[_0x5ce30b(0x12b)]['V'];},'currentParticlesPosition':function(){var _0x3b5b97=_0x15528b;return _0xddcc17[_0x3b5b97(0x181)]['currentParticlesPosition'];},'dimension':function(){return _0x5e0128;},'minimum':function(){return _0x279268;},'maximum':function(){return _0x2d94e0;},'interval':function(){return _0x59add5;}},'fragmentShaderSource':new _0x3886d9['ShaderSource']({'sources':[_0x841f8e['a']]}),'outputTexture':this[_0x15528b(0x181)]['particlesWind'],'preExecute':function(){var _0x15abea=_0x15528b;_0xddcc17[_0x15abea(0x128)]['getWind']['commandToExecute'][_0x15abea(0x1f5)]=_0xddcc17[_0x15abea(0x181)][_0x15abea(0x221)];}}),'updateSpeed':new _0xf86523({'commandType':_0x15528b(0x141),'uniformMap':{'currentParticlesSpeed':function(){var _0x28a40a=_0x15528b;return _0xddcc17[_0x28a40a(0x181)][_0x28a40a(0x219)];},'particlesWind':function(){var _0x59fcdb=_0x15528b;return _0xddcc17['particlesTextures'][_0x59fcdb(0x221)];},'uSpeedRange':function(){return _0xb85f98;},'vSpeedRange':function(){return _0x262407;},'pixelSize':function(){return _0x1ff26a['pixelSize'];},'speedFactor':function(){var _0x4fa064=_0x15528b;return _0x4ccb32[_0x4fa064(0x1ed)];}},'fragmentShaderSource':new _0x3886d9[(_0x15528b(0x194))]({'sources':[_0x5dc9f9['a']]}),'outputTexture':this[_0x15528b(0x181)][_0x15528b(0x1a2)],'preExecute':function(){var _0x1c7cf4=_0x15528b,_0x411fb0;_0x411fb0=_0xddcc17[_0x1c7cf4(0x181)][_0x1c7cf4(0x219)],_0xddcc17[_0x1c7cf4(0x181)][_0x1c7cf4(0x219)]=_0xddcc17[_0x1c7cf4(0x181)][_0x1c7cf4(0x1d5)],_0xddcc17[_0x1c7cf4(0x181)][_0x1c7cf4(0x1d5)]=_0x411fb0,_0xddcc17[_0x1c7cf4(0x128)]['updateSpeed']['commandToExecute'][_0x1c7cf4(0x1f5)]=_0xddcc17[_0x1c7cf4(0x181)]['nextParticlesSpeed'];}}),'updatePosition':new _0xf86523({'commandType':_0x15528b(0x141),'uniformMap':{'currentParticlesPosition':function(){var _0x3841ea=_0x15528b;return _0xddcc17[_0x3841ea(0x181)]['currentParticlesPosition'];},'currentParticlesSpeed':function(){var _0x1d52f2=_0x15528b;return _0xddcc17['particlesTextures'][_0x1d52f2(0x219)];}},'fragmentShaderSource':new _0x3886d9[(_0x15528b(0x194))]({'sources':[_0x53974b['a']]}),'outputTexture':this['particlesTextures']['nextParticlesPosition'],'preExecute':function(){var _0x4f93ec=_0x15528b,_0x14ab75;_0x14ab75=_0xddcc17[_0x4f93ec(0x181)][_0x4f93ec(0x13f)],_0xddcc17[_0x4f93ec(0x181)][_0x4f93ec(0x13f)]=_0xddcc17[_0x4f93ec(0x181)][_0x4f93ec(0x1f1)],_0xddcc17[_0x4f93ec(0x181)]['postProcessingPosition']=_0x14ab75,_0xddcc17[_0x4f93ec(0x128)][_0x4f93ec(0x1d6)]['commandToExecute'][_0x4f93ec(0x1f5)]=_0xddcc17[_0x4f93ec(0x181)][_0x4f93ec(0x12e)];}}),'postProcessingPosition':new _0xf86523({'commandType':_0x15528b(0x141),'uniformMap':{'nextParticlesPosition':function(){var _0x1c8818=_0x15528b;return _0xddcc17['particlesTextures'][_0x1c8818(0x12e)];},'nextParticlesSpeed':function(){var _0x3a993c=_0x15528b;return _0xddcc17['particlesTextures'][_0x3a993c(0x1a2)];},'lonRange':function(){var _0x11065f=_0x15528b;return _0x1ff26a[_0x11065f(0x26c)];},'latRange':function(){var _0x1b81c4=_0x15528b;return _0x1ff26a[_0x1b81c4(0x1c8)];},'randomCoefficient':function(){var _0x183b55=_0x15528b,_0x45cd18=Math[_0x183b55(0x24a)]();return _0x45cd18;},'dropRate':function(){var _0x34880a=_0x15528b;return _0x4ccb32[_0x34880a(0x136)];},'dropRateBump':function(){return _0x4ccb32['dropRateBump'];}},'fragmentShaderSource':new _0x3886d9[(_0x15528b(0x194))]({'sources':[_0x3d8c09['a']]}),'outputTexture':this['particlesTextures'][_0x15528b(0x1f1)],'preExecute':function(){var _0xe94055=_0x15528b;_0xddcc17[_0xe94055(0x128)][_0xe94055(0x1f1)][_0xe94055(0x1e5)][_0xe94055(0x1f5)]=_0xddcc17['particlesTextures']['postProcessingPosition'];}}),'postProcessingSpeed':new _0xf86523({'commandType':_0x15528b(0x141),'uniformMap':{'postProcessingPosition':function(){var _0x17eb48=_0x15528b;return _0xddcc17[_0x17eb48(0x181)][_0x17eb48(0x1f1)];},'nextParticlesSpeed':function(){var _0x24d2bd=_0x15528b;return _0xddcc17[_0x24d2bd(0x181)][_0x24d2bd(0x1a2)];}},'fragmentShaderSource':new _0x3886d9[(_0x15528b(0x194))]({'sources':[_0x9928bb['a']]}),'outputTexture':this['particlesTextures'][_0x15528b(0x1d5)],'preExecute':function(){var _0x5925a0=_0x15528b;_0xddcc17[_0x5925a0(0x128)][_0x5925a0(0x1d5)][_0x5925a0(0x1e5)]['outputTexture']=_0xddcc17[_0x5925a0(0x181)][_0x5925a0(0x1d5)];}})};}}]),_0x168410;}(),_0x1ee0ab=function(){var _0x1c7c82=_0x49e117;function _0xf71ebd(_0x279b74,_0xcc166c,_0x5db434,_0x24f4f5){var _0x2127e0=a0_0x36e6;_0x3d4b84()(this,_0xf71ebd),this[_0x2127e0(0x12a)]=_0x279b74,this[_0x2127e0(0x1c2)]=_0xcc166c,this[_0x2127e0(0x154)]=_0x5db434,this['viewerParameters']=_0x24f4f5,this[_0x2127e0(0x298)]=new _0x3e683d(this['context'],this['data'],this[_0x2127e0(0x154)],this[_0x2127e0(0x1cb)]),this[_0x2127e0(0x1df)]=new _0x40fdf0(this[_0x2127e0(0x12a)],this[_0x2127e0(0x1c2)],this[_0x2127e0(0x154)],this[_0x2127e0(0x1cb)],this[_0x2127e0(0x298)]);}return _0x741b4c()(_0xf71ebd,[{'key':_0x1c7c82(0x21d),'value':function(_0xac4b38){var _0x5c5241=_0x1c7c82,_0x5a3e50=this;this[_0x5c5241(0x298)]['destroyParticlesTextures'](),Object[_0x5c5241(0x1dd)](this[_0x5c5241(0x298)][_0x5c5241(0x12b)])[_0x5c5241(0x245)](function(_0x165732){var _0x4a5885=_0x5c5241;_0x5a3e50[_0x4a5885(0x298)]['windTextures'][_0x165732][_0x4a5885(0x15b)]();}),this[_0x5c5241(0x1df)][_0x5c5241(0x1de)][_0x5c5241(0x158)][_0x5c5241(0x15b)](),Object[_0x5c5241(0x1dd)](this[_0x5c5241(0x1df)]['framebuffers'])[_0x5c5241(0x245)](function(_0x3792b7){var _0x206edc=_0x5c5241;_0x5a3e50[_0x206edc(0x1df)]['framebuffers'][_0x3792b7][_0x206edc(0x15b)]();}),this[_0x5c5241(0x12a)]=_0xac4b38,this[_0x5c5241(0x298)]=new _0x3e683d(this[_0x5c5241(0x12a)],this[_0x5c5241(0x1c2)],this['userInput'],this[_0x5c5241(0x1cb)]),this['particlesRendering']=new _0x40fdf0(this[_0x5c5241(0x12a)],this[_0x5c5241(0x1c2)],this['userInput'],this[_0x5c5241(0x1cb)],this[_0x5c5241(0x298)]);}},{'key':_0x1c7c82(0x288),'value':function(){var _0x1e773b=_0x1c7c82,_0x3ea8e3=this,_0x49ed94=new _0x3886d9[(_0x1e773b(0x196))]({'color':new _0x3886d9['Color'](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':void 0x0,'pass':_0x3886d9[_0x1e773b(0x284)]['OPAQUE']});Object[_0x1e773b(0x1dd)](this[_0x1e773b(0x1df)][_0x1e773b(0x1f0)])['forEach'](function(_0x4dfab6){var _0x1258ee=_0x1e773b;_0x49ed94['framebuffer']=_0x3ea8e3[_0x1258ee(0x1df)][_0x1258ee(0x1f0)][_0x4dfab6],_0x49ed94[_0x1258ee(0x14a)](_0x3ea8e3['context']);});}},{'key':_0x1c7c82(0x21c),'value':function(_0x2ff2c2){var _0x2be895=_0x1c7c82;if(this[_0x2be895(0x288)](),this[_0x2be895(0x298)][_0x2be895(0x1cc)](),this['particlesComputing']['createParticlesTextures'](this[_0x2be895(0x12a)],this[_0x2be895(0x154)],this[_0x2be895(0x1cb)]),_0x2ff2c2){var _0x324a7e=this[_0x2be895(0x1df)][_0x2be895(0x265)](this[_0x2be895(0x154)]);this[_0x2be895(0x1df)][_0x2be895(0x128)][_0x2be895(0x1c0)]['geometry']=_0x324a7e;var _0x58030a=_0x3886d9[_0x2be895(0x1be)][_0x2be895(0x21a)]({'context':this[_0x2be895(0x12a)],'geometry':_0x324a7e,'attributeLocations':this[_0x2be895(0x1df)][_0x2be895(0x128)][_0x2be895(0x1c0)][_0x2be895(0x15a)],'bufferUsage':_0x3886d9[_0x2be895(0x28b)]['STATIC_DRAW']});this['particlesRendering']['primitives'][_0x2be895(0x1c0)][_0x2be895(0x1e5)][_0x2be895(0x1b3)]=_0x58030a;}}},{'key':_0x1c7c82(0x251),'value':function(_0x3f05b7){var _0x242bda=_0x1c7c82,_0x4f96cb=this,_0x229ae6=!0x1;this['userInput'][_0x242bda(0x1bb)]!=_0x3f05b7[_0x242bda(0x1bb)]&&(_0x229ae6=!0x0),Object[_0x242bda(0x1dd)](_0x3f05b7)['forEach'](function(_0x2e9b31){_0x4f96cb['userInput'][_0x2e9b31]=_0x3f05b7[_0x2e9b31];}),this[_0x242bda(0x21c)](_0x229ae6);}},{'key':_0x1c7c82(0x1ea),'value':function(_0x11b4cb){var _0x10ee8e=_0x1c7c82,_0xbfa845=this;Object[_0x10ee8e(0x1dd)](_0x11b4cb)[_0x10ee8e(0x245)](function(_0x21c9a7){_0xbfa845['viewerParameters'][_0x21c9a7]=_0x11b4cb[_0x21c9a7];}),this[_0x10ee8e(0x21c)](!0x1);}}]),_0xf71ebd;}();function _0x2ec532(_0xb827c7){var _0x264e04=function(){var _0x7d61ae=a0_0x36e6;if(_0x7d61ae(0x1b0)==typeof Reflect||!Reflect[_0x7d61ae(0x278)])return!0x1;if(Reflect[_0x7d61ae(0x278)][_0x7d61ae(0x151)])return!0x1;if(_0x7d61ae(0x1aa)==typeof Proxy)return!0x0;try{return Boolean[_0x7d61ae(0x1ce)][_0x7d61ae(0x28f)][_0x7d61ae(0x1d1)](Reflect[_0x7d61ae(0x278)](Boolean,[],function(){})),!0x0;}catch(_0x5026b1){return!0x1;}}();return function(){var _0x23bb37=a0_0x36e6,_0x572797,_0x5b57ab=_0x37e985()(_0xb827c7);if(_0x264e04){var _0xa41237=_0x37e985()(this)[_0x23bb37(0x257)];_0x572797=Reflect[_0x23bb37(0x278)](_0x5b57ab,arguments,_0xa41237);}else _0x572797=_0x5b57ab[_0x23bb37(0x174)](this,arguments);return _0x26306a()(this,_0x572797);};}var _0x2b6c72=_0xb4c022[_0x49e117(0x223)][_0x49e117(0x25c)],_0x16634f=0x1000,_0xb4d1d5=0x64,_0x45727=0.996,_0x5b957a=0.003,_0xf92ea1=0.01,_0x4a5e84=0.5,_0x3e819e=0x2,_0xf09b30=function(_0x4d1e8d){var _0x4e6299=_0x49e117;_0x54344c()(_0x2c4695,_0x4d1e8d);var _0x55641c=_0x2ec532(_0x2c4695);function _0x2c4695(){var _0x3b9fff=a0_0x36e6,_0x26ede4,_0xbfac67=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};if(_0x3d4b84()(this,_0x2c4695),(_0x26ede4=_0x55641c[_0x3b9fff(0x1d1)](this,_0xbfac67))[_0x3b9fff(0x1bb)]=_0x16634f,_0x26ede4[_0x3b9fff(0x16a)]=_0xb4d1d5,_0x26ede4[_0x3b9fff(0x1af)]=_0x45727,_0x26ede4[_0x3b9fff(0x136)]=_0x5b957a,_0x26ede4['dropRateBump']=_0xf92ea1,_0x26ede4[_0x3b9fff(0x1ed)]=_0x4a5e84,_0x26ede4[_0x3b9fff(0x208)]=_0x3e819e,_0xbfac67){for(var _0x5053c1 in _0xbfac67)_0x26ede4[_0x5053c1]=_0xbfac67[_0x5053c1];}return _0x26ede4;}return _0x741b4c()(_0x2c4695,[{'key':'layer','get':function(){var _0x1b56fe=a0_0x36e6;return this[_0x1b56fe(0x128)];}},{'key':_0x4e6299(0x242),'value':function(){}},{'key':'_addedHook','value':function(){var _0x1cf354=_0x4e6299;this[_0x1cf354(0x254)]=this[_0x1cf354(0x157)]['scene'],this[_0x1cf354(0x1e9)]=this['_map'][_0x1cf354(0x1e9)],this[_0x1cf354(0x128)]=new _0x3886d9['PrimitiveCollection'](),this[_0x1cf354(0x157)][_0x1cf354(0x254)]['primitives'][_0x1cf354(0x20e)](this[_0x1cf354(0x128)]),this['viewerParameters']={'lonRange':new _0x3886d9[(_0x1cf354(0x279))](),'latRange':new _0x3886d9[(_0x1cf354(0x279))](),'pixelSize':0x0},this[_0x1cf354(0x126)]=new _0x3886d9[(_0x1cf354(0x1a9))](_0x3886d9[_0x1cf354(0x1e8)][_0x1cf354(0x20a)],6314355.63),this[_0x1cf354(0x191)]();}},{'key':_0x4e6299(0x23b),'value':function(){var _0x2d6dd6=_0x4e6299;this[_0x2d6dd6(0x128)]['removeAll'](),this[_0x2d6dd6(0x157)][_0x2d6dd6(0x254)]['primitives'][_0x2d6dd6(0x156)](this[_0x2d6dd6(0x128)]);}},{'key':_0x4e6299(0x22b),'value':function(_0x118d8d){var _0x5d9635=_0x4e6299;this['particleSystem']=new _0x1ee0ab(this[_0x5d9635(0x254)][_0x5d9635(0x12a)],_0x118d8d,this['getUserInput'](),this[_0x5d9635(0x1cb)]),this['addPrimitives'](),this[_0x5d9635(0x1e3)]();}},{'key':_0x4e6299(0x209),'value':function(_0xe11cf0){var _0x25eed3=_0x4e6299;if(_0xe11cf0){for(var _0x46a285 in _0xe11cf0)this[_0x46a285]=_0xe11cf0[_0x46a285];}return this[_0x25eed3(0x148)]['applyUserInput'](this[_0x25eed3(0x239)]()),this;}},{'key':'getUserInput','value':function(){var _0x21b70c=_0x4e6299,_0x290408=Math['ceil'](Math['sqrt'](this[_0x21b70c(0x1bb)]));return this[_0x21b70c(0x1bb)]=_0x290408*_0x290408,{'particlesTextureSize':_0x290408,'maxParticles':this[_0x21b70c(0x1bb)],'particleHeight':this[_0x21b70c(0x16a)],'fadeOpacity':this[_0x21b70c(0x1af)],'dropRate':this[_0x21b70c(0x136)],'dropRateBump':this[_0x21b70c(0x169)],'speedFactor':this[_0x21b70c(0x1ed)],'lineWidth':this[_0x21b70c(0x208)],'globeLayer':this[_0x21b70c(0x273)],'WMS_URL':this['WMS_URL']};}},{'key':_0x4e6299(0x220),'value':function(){var _0x34f661=_0x4e6299;this[_0x34f661(0x128)][_0x34f661(0x20e)](this[_0x34f661(0x148)]['particlesComputing'][_0x34f661(0x128)]['getWind']),this[_0x34f661(0x128)]['add'](this[_0x34f661(0x148)]['particlesComputing'][_0x34f661(0x128)][_0x34f661(0x26d)]),this[_0x34f661(0x128)][_0x34f661(0x20e)](this[_0x34f661(0x148)][_0x34f661(0x298)]['primitives'][_0x34f661(0x1d6)]),this[_0x34f661(0x128)][_0x34f661(0x20e)](this[_0x34f661(0x148)][_0x34f661(0x298)]['primitives'][_0x34f661(0x1f1)]),this[_0x34f661(0x128)]['add'](this[_0x34f661(0x148)][_0x34f661(0x298)][_0x34f661(0x128)]['postProcessingSpeed']),this[_0x34f661(0x128)][_0x34f661(0x20e)](this[_0x34f661(0x148)][_0x34f661(0x1df)][_0x34f661(0x128)][_0x34f661(0x1c0)]),this[_0x34f661(0x128)][_0x34f661(0x20e)](this[_0x34f661(0x148)][_0x34f661(0x1df)][_0x34f661(0x128)][_0x34f661(0x192)]),this['primitives'][_0x34f661(0x20e)](this[_0x34f661(0x148)]['particlesRendering'][_0x34f661(0x128)][_0x34f661(0x26f)]);}},{'key':_0x4e6299(0x191),'value':function(){var _0x4f9f16=_0x4e6299,_0x4e8170=this[_0x4f9f16(0x1e9)]['computeViewRectangle'](this['scene'][_0x4f9f16(0x211)][_0x4f9f16(0x1eb)]);if(!_0x4e8170){var _0x9bb59b=this[_0x4f9f16(0x157)][_0x4f9f16(0x274)]();_0x4e8170=_0x3886d9[_0x4f9f16(0x225)][_0x4f9f16(0x185)](_0x9bb59b[_0x4f9f16(0x1ab)],_0x9bb59b[_0x4f9f16(0x234)],_0x9bb59b[_0x4f9f16(0x1c4)],_0x9bb59b['ymax']);}var _0x1e85c6=_0x2b04ec[_0x4f9f16(0x20b)](_0x4e8170);this[_0x4f9f16(0x1cb)]['lonRange']['x']=_0x1e85c6[_0x4f9f16(0x1c6)][_0x4f9f16(0x183)],this[_0x4f9f16(0x1cb)]['lonRange']['y']=_0x1e85c6[_0x4f9f16(0x1c6)]['max'],this[_0x4f9f16(0x1cb)][_0x4f9f16(0x1c8)]['x']=_0x1e85c6[_0x4f9f16(0x22a)][_0x4f9f16(0x183)],this[_0x4f9f16(0x1cb)][_0x4f9f16(0x1c8)]['y']=_0x1e85c6['lat'][_0x4f9f16(0x27e)];var _0x93d1be=this[_0x4f9f16(0x1e9)][_0x4f9f16(0x249)](this[_0x4f9f16(0x126)],this[_0x4f9f16(0x254)][_0x4f9f16(0x1d8)],this[_0x4f9f16(0x254)][_0x4f9f16(0x23a)]);_0x93d1be>0x0&&(this[_0x4f9f16(0x1cb)]['pixelSize']=_0x93d1be);}},{'key':_0x4e6299(0x1e3),'value':function(){var _0x23d2bd=_0x4e6299,_0x53b23a=this;this[_0x23d2bd(0x1e9)][_0x23d2bd(0x231)][_0x23d2bd(0x23d)](function(){var _0x53ce6f=_0x23d2bd;_0x53b23a['_map']&&_0x53b23a[_0x53ce6f(0x1a8)]&&(_0x53b23a['primitives']['show']=!0x1);}),this['camera'][_0x23d2bd(0x152)]['addEventListener'](function(){var _0x5c6ac6=_0x23d2bd;_0x53b23a['_map']&&_0x53b23a[_0x5c6ac6(0x1a8)]&&(_0x53b23a[_0x5c6ac6(0x191)](),_0x53b23a[_0x5c6ac6(0x148)][_0x5c6ac6(0x1ea)](_0x53b23a[_0x5c6ac6(0x1cb)]),_0x53b23a[_0x5c6ac6(0x128)][_0x5c6ac6(0x1a8)]=!0x0);});var _0x38a731=!0x1;window['addEventListener'](_0x23d2bd(0x1a6),function(){var _0x147468=_0x23d2bd;_0x53b23a['_map']&&_0x53b23a[_0x147468(0x1a8)]&&(_0x38a731=!0x0,_0x53b23a[_0x147468(0x128)][_0x147468(0x1a8)]=!0x1,_0x53b23a['primitives'][_0x147468(0x224)]());}),this[_0x23d2bd(0x254)][_0x23d2bd(0x17a)][_0x23d2bd(0x23d)](function(){var _0x1aaa7d=_0x23d2bd;_0x53b23a['_map']&&_0x38a731&&(_0x53b23a[_0x1aaa7d(0x148)][_0x1aaa7d(0x21d)](_0x53b23a[_0x1aaa7d(0x254)][_0x1aaa7d(0x12a)]),_0x38a731=!0x1,_0x53b23a['addPrimitives'](),_0x53b23a[_0x1aaa7d(0x128)][_0x1aaa7d(0x1a8)]=!0x0);});}}]),_0x2c4695;}(_0x2b6c72);_0xb4c022[_0x49e117(0x180)][_0x49e117(0x27f)](_0x49e117(0x17b),_0xf09b30),_0xb4c022[_0x49e117(0x223)][_0x49e117(0x232)]=_0xf09b30;var _0x3bd7fb=function _0x127b68(){var _0x14c4c5=_0x49e117;_0x3d4b84()(this,_0x127b68),this[_0x14c4c5(0x189)]=null,this[_0x14c4c5(0x22a)]=null,this[_0x14c4c5(0x22e)]=null,this[_0x14c4c5(0x255)]=null,this[_0x14c4c5(0x294)]=null;},_0x2d70af=function(){var _0x3814a0=_0x49e117;function _0x1111b6(_0x134e1,_0x1c10cb){var _0x45c2cd=a0_0x36e6;_0x3d4b84()(this,_0x1111b6),this['rows']=_0x134e1[_0x45c2cd(0x23c)],this[_0x45c2cd(0x29a)]=_0x134e1[_0x45c2cd(0x29a)],this[_0x45c2cd(0x1ab)]=_0x134e1[_0x45c2cd(0x1ab)],this['xmax']=_0x134e1['xmax'],this['ymin']=_0x134e1[_0x45c2cd(0x234)],this[_0x45c2cd(0x1e7)]=_0x134e1[_0x45c2cd(0x1e7)],this[_0x45c2cd(0x1d3)]=[];var _0x169424=_0x134e1[_0x45c2cd(0x1b8)],_0x4beab9=_0x134e1[_0x45c2cd(0x129)],_0x18fd34=!0x1;_0x169424[_0x45c2cd(0x244)]===this[_0x45c2cd(0x23c)]&&_0x169424[0x0]['length']===this[_0x45c2cd(0x29a)]&&(_0x18fd34=!0x0);for(var _0x31123d=0x0,_0x45c094=null,_0x29a18e=null,_0x3ba5c1=0x0;_0x3ba5c1<this[_0x45c2cd(0x23c)];_0x3ba5c1++){_0x45c094=[];for(var _0x4f90ee=0x0;_0x4f90ee<this['cols'];_0x4f90ee++,_0x31123d++)_0x29a18e=_0x18fd34?this[_0x45c2cd(0x14c)](_0x169424[_0x3ba5c1][_0x4f90ee],_0x4beab9[_0x3ba5c1][_0x4f90ee]):this[_0x45c2cd(0x14c)](_0x169424[_0x31123d],_0x4beab9[_0x31123d]),_0x45c094[_0x45c2cd(0x176)](_0x29a18e);this[_0x45c2cd(0x1d3)][_0x45c2cd(0x176)](_0x45c094);}_0x1c10cb&&this['grid'][_0x45c2cd(0x25b)]();}return _0x741b4c()(_0x1111b6,[{'key':'toGridXY','value':function(_0x42e920,_0x4d80a6){var _0x493664=a0_0x36e6;return{'x':(_0x42e920-this['xmin'])/(this['xmax']-this[_0x493664(0x1ab)])*(this[_0x493664(0x29a)]-0x1),'y':(this[_0x493664(0x1e7)]-_0x4d80a6)/(this['ymax']-this[_0x493664(0x234)])*(this['rows']-0x1)};}},{'key':_0x3814a0(0x1d4),'value':function(_0x483c73,_0x2c4e2e){var _0x90c3b4=_0x3814a0;if(_0x483c73<0x0||_0x483c73>=this['cols']||_0x2c4e2e>=this['rows'])return[0x0,0x0,0x0];var _0x42947e,_0x38979d,_0x2e66b1=Math[_0x90c3b4(0x252)](_0x483c73),_0x58a1e0=Math[_0x90c3b4(0x252)](_0x2c4e2e);if(_0x2e66b1===_0x483c73&&_0x58a1e0===_0x2c4e2e)return this[_0x90c3b4(0x1d3)][_0x2c4e2e][_0x483c73];_0x42947e=_0x2e66b1+0x1,_0x38979d=_0x58a1e0+0x1;var _0x403854=this[_0x90c3b4(0x1d4)](_0x2e66b1,_0x58a1e0),_0x318ed5=this[_0x90c3b4(0x1d4)](_0x42947e,_0x58a1e0),_0x2a632c=this[_0x90c3b4(0x1d4)](_0x2e66b1,_0x38979d),_0x4ab801=this[_0x90c3b4(0x1d4)](_0x42947e,_0x38979d),_0x381cee=null;try{_0x381cee=this[_0x90c3b4(0x241)](_0x483c73-_0x2e66b1,_0x2c4e2e-_0x58a1e0,_0x403854,_0x318ed5,_0x2a632c,_0x4ab801);}catch(_0x1bb09f){console[_0x90c3b4(0x28e)](_0x483c73,_0x2c4e2e);}return _0x381cee;}},{'key':_0x3814a0(0x241),'value':function(_0x2121c8,_0x30a739,_0x144b29,_0xba2099,_0x9919d5,_0x373f1a){var _0x374781=_0x3814a0,_0x58325a=0x1-_0x2121c8,_0x238e32=0x1-_0x30a739,_0x5e96d5=_0x58325a*_0x238e32,_0x1cfa1b=_0x2121c8*_0x238e32,_0x364547=_0x58325a*_0x30a739,_0x330704=_0x2121c8*_0x30a739,_0x269b19=_0x144b29[0x0]*_0x5e96d5+_0xba2099[0x0]*_0x1cfa1b+_0x9919d5[0x0]*_0x364547+_0x373f1a[0x0]*_0x330704,_0x32feeb=_0x144b29[0x1]*_0x5e96d5+_0xba2099[0x1]*_0x1cfa1b+_0x9919d5[0x1]*_0x364547+_0x373f1a[0x1]*_0x330704;return this[_0x374781(0x14c)](_0x269b19,_0x32feeb);}},{'key':_0x3814a0(0x14c),'value':function(_0x1880f6,_0x2e23fa){var _0x38191a=_0x3814a0;return[+_0x1880f6,+_0x2e23fa,Math[_0x38191a(0x15f)](_0x1880f6*_0x1880f6+_0x2e23fa*_0x2e23fa)];}},{'key':'getUVByPoint','value':function(_0x311d12,_0xe07131){var _0xe36338=_0x3814a0;if(!this['isInExtent'](_0x311d12,_0xe07131))return null;var _0x1aa1b3=this[_0xe36338(0x15e)](_0x311d12,_0xe07131);return this[_0xe36338(0x1d4)](_0x1aa1b3['x'],_0x1aa1b3['y']);}},{'key':'isInExtent','value':function(_0x475540,_0x3f3922){var _0x113b1f=_0x3814a0;return _0x475540>=this[_0x113b1f(0x1ab)]&&_0x475540<=this[_0x113b1f(0x1c4)]&&_0x3f3922>=this[_0x113b1f(0x234)]&&_0x3f3922<=this[_0x113b1f(0x1e7)];}},{'key':'getRandomLatLng','value':function(){var _0x49872e=_0x3814a0,_0x208715=_0x161e54(this['xmin'],this['xmax']);return{'lat':_0x161e54(this['ymin'],this[_0x49872e(0x1e7)]),'lng':_0x208715};}}]),_0x1111b6;}();function _0x161e54(_0x20fd8f,_0x1d24fd){var _0x1c0774=_0x49e117;return _0x20fd8f+Math[_0x1c0774(0x24a)]()*(_0x1d24fd-_0x20fd8f);}function _0x4847ed(_0x393971){var _0xa2bbc4=function(){var _0x56321d=a0_0x36e6;if(_0x56321d(0x1b0)==typeof Reflect||!Reflect['construct'])return!0x1;if(Reflect['construct'][_0x56321d(0x151)])return!0x1;if(_0x56321d(0x1aa)==typeof Proxy)return!0x0;try{return Boolean[_0x56321d(0x1ce)][_0x56321d(0x28f)]['call'](Reflect['construct'](Boolean,[],function(){})),!0x0;}catch(_0x1a52e2){return!0x1;}}();return function(){var _0x52c91c=a0_0x36e6,_0x31d5a1,_0x20d4f0=_0x37e985()(_0x393971);if(_0xa2bbc4){var _0xaf51c3=_0x37e985()(this)['constructor'];_0x31d5a1=Reflect[_0x52c91c(0x278)](_0x20d4f0,arguments,_0xaf51c3);}else _0x31d5a1=_0x20d4f0[_0x52c91c(0x174)](this,arguments);return _0x26306a()(this,_0x31d5a1);};}var _0x3d0c7f=function(_0x36441f){var _0x112593=_0x49e117;_0x54344c()(_0x49c346,_0x36441f);var _0x6f2673=_0x4847ed(_0x49c346);function _0x49c346(){var _0x20a01c=a0_0x36e6,_0x784770,_0x5675b5=arguments[_0x20a01c(0x244)]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};return _0x3d4b84()(this,_0x49c346),(_0x784770=_0x6f2673[_0x20a01c(0x1d1)](this,_0x5675b5))['calc_speedRate']=[0x0,0x0],_0x784770[_0x20a01c(0x27b)]=[],_0x784770['speedRate']=_0x5675b5[_0x20a01c(0x1bc)]||0x32,_0x784770['_particlesNumber']=_0x5675b5[_0x20a01c(0x14e)]||0x4e20,_0x784770['_maxAge']=_0x5675b5['maxAge']||0x78,_0x784770[_0x20a01c(0x253)]=0x3e8/(_0x5675b5[_0x20a01c(0x1ff)]||0xa),_0x784770[_0x20a01c(0x266)]=_0x3886d9[_0x20a01c(0x143)](_0x784770[_0x20a01c(0x1b1)][_0x20a01c(0x13a)],!0x1),_0x784770['color']=_0x5675b5['color']||_0x20a01c(0x166),_0x784770[_0x20a01c(0x208)]=_0x5675b5[_0x20a01c(0x208)]||0x1,_0x784770[_0x20a01c(0x205)]=_0x3886d9[_0x20a01c(0x143)](_0x5675b5[_0x20a01c(0x205)],0x0),_0x784770['reverseY']=_0x3886d9[_0x20a01c(0x143)](_0x5675b5[_0x20a01c(0x1f7)],!0x1),_0x784770['canvas']=null,_0x784770;}return _0x741b4c()(_0x49c346,[{'key':_0x112593(0x223),'get':function(){var _0x4d81be=_0x112593;return this[_0x4d81be(0x283)];}},{'key':_0x112593(0x142),'get':function(){var _0x20fd88=_0x112593;return this['_map'][_0x20fd88(0x254)][_0x20fd88(0x283)][_0x20fd88(0x19b)];}},{'key':_0x112593(0x13e),'get':function(){var _0x4cf9a7=_0x112593;return this['_map']['scene'][_0x4cf9a7(0x283)][_0x4cf9a7(0x1e4)];}},{'key':_0x112593(0x13a),'get':function(){var _0x351f6c=_0x112593;return this[_0x351f6c(0x266)];},'set':function(_0x2d7ea0){var _0x161bd5=_0x112593;this[_0x161bd5(0x266)]=_0x2d7ea0,this[_0x161bd5(0x283)]&&(this[_0x161bd5(0x283)]['style'][_0x161bd5(0x1b9)]=_0x2d7ea0?_0x161bd5(0x1ba):_0x161bd5(0x24b));}},{'key':_0x112593(0x1bc),'get':function(){var _0x241c03=_0x112593;return this[_0x241c03(0x165)];},'set':function(_0x424efc){var _0x3f17b8=_0x112593;this['_speedRate']=0x64*(0x64-(_0x424efc>0x63?0x63:_0x424efc)),this[_0x3f17b8(0x12f)]();}},{'key':_0x112593(0x14e),'get':function(){var _0x2286f7=_0x112593;return this[_0x2286f7(0x179)];},'set':function(_0x2d863f){var _0x5376fd=this;this['_particlesNumber']=_0x2d863f,clearTimeout(this['canrefresh']),this['canrefresh']=setTimeout(function(){_0x5376fd['redraw']();},0x1f4);}},{'key':_0x112593(0x22c),'get':function(){var _0xff2a70=_0x112593;return this[_0xff2a70(0x195)];},'set':function(_0x3810f3){var _0x42a727=_0x112593,_0x532451=this;this[_0x42a727(0x195)]=_0x3810f3,clearTimeout(this['canrefresh']),this[_0x42a727(0x1f9)]=setTimeout(function(){var _0x561dfa=_0x42a727;_0x532451[_0x561dfa(0x201)]();},0x1f4);}},{'key':'data','get':function(){var _0x229189=_0x112593;return this[_0x229189(0x29b)];},'set':function(_0xb5500){var _0x4b8f0c=_0x112593;this[_0x4b8f0c(0x22f)](_0xb5500);}},{'key':_0x112593(0x14b),'value':function(_0x5ecb59){var _0x257d4e=_0x112593;_0x5ecb59?this[_0x257d4e(0x1c1)]():(this[_0x257d4e(0x29b)]&&(this[_0x257d4e(0x1b1)]['data']=this[_0x257d4e(0x29b)]),this[_0x257d4e(0x23b)]());}},{'key':_0x112593(0x242),'value':function(){}},{'key':_0x112593(0x1c1),'value':function(){var _0x28b6b8=_0x112593;this[_0x28b6b8(0x283)]=this[_0x28b6b8(0x250)](),this['canvasContext']=this[_0x28b6b8(0x283)]['getContext']('2d'),this['bindEvent'](),this[_0x28b6b8(0x1b1)][_0x28b6b8(0x1c2)]&&this['updateDate'](this[_0x28b6b8(0x1b1)][_0x28b6b8(0x1c2)]);}},{'key':_0x112593(0x23b),'value':function(){var _0x14634c=_0x112593;this[_0x14634c(0x17c)](),this[_0x14634c(0x16e)](),this[_0x14634c(0x283)]&&(this[_0x14634c(0x157)][_0x14634c(0x13d)]['removeChild'](this[_0x14634c(0x283)]),delete this['canvas']);}},{'key':_0x112593(0x250),'value':function(){var _0x5c5fe4=_0x112593,_0x455124=document[_0x5c5fe4(0x275)](_0x5c5fe4(0x283));_0x455124[_0x5c5fe4(0x1f3)][_0x5c5fe4(0x289)]=_0x5c5fe4(0x20c),_0x455124[_0x5c5fe4(0x1f3)]['top']='0px',_0x455124[_0x5c5fe4(0x1f3)][_0x5c5fe4(0x214)]=_0x5c5fe4(0x1ad),_0x455124['style'][_0x5c5fe4(0x15d)]=_0x5c5fe4(0x28a),_0x455124[_0x5c5fe4(0x1f3)]['height']=_0x5c5fe4(0x28a),_0x455124[_0x5c5fe4(0x1f3)][_0x5c5fe4(0x13a)]=this[_0x5c5fe4(0x266)]?_0x5c5fe4(0x1b2):_0x5c5fe4(0x24b),_0x455124['style'][_0x5c5fe4(0x236)]=0xa,_0x455124[_0x5c5fe4(0x24e)]('id','canvasWindy'),_0x455124['setAttribute']('class',_0x5c5fe4(0x210)),this[_0x5c5fe4(0x157)][_0x5c5fe4(0x13d)][_0x5c5fe4(0x235)](_0x455124);var _0x147f5f=this[_0x5c5fe4(0x157)][_0x5c5fe4(0x254)];return _0x455124[_0x5c5fe4(0x15d)]=_0x147f5f['canvas'][_0x5c5fe4(0x19b)],_0x455124[_0x5c5fe4(0x13b)]=_0x147f5f[_0x5c5fe4(0x283)][_0x5c5fe4(0x1e4)],_0x455124;}},{'key':_0x112593(0x1a6),'value':function(){var _0x2635cd=_0x112593;this[_0x2635cd(0x283)]&&(this[_0x2635cd(0x283)]['width']=this[_0x2635cd(0x142)],this[_0x2635cd(0x283)]['height']=this['canvasHeight']);}},{'key':_0x112593(0x161),'value':function(){var _0x230456=_0x112593,_0x5454e3=this,_0x403153=Date[_0x230456(0x135)]();!function _0x2ce9b2(){var _0x5270aa=_0x230456;_0x5454e3[_0x5270aa(0x1b7)]=window[_0x5270aa(0x159)](_0x2ce9b2);var _0x4fc927=Date[_0x5270aa(0x135)](),_0x57409b=_0x4fc927-_0x403153;_0x57409b>_0x5454e3[_0x5270aa(0x253)]&&(_0x403153=_0x4fc927-_0x57409b%_0x5454e3['frameTime'],_0x5454e3[_0x5270aa(0x1f4)]());}(),window['addEventListener'](_0x230456(0x1a6),this['resize']['bind'](this),!0x1),this[_0x230456(0x200)]=!0x1,this['mouse_move']=!0x1,this['_map']['on'](_0xb4c022['EventType'][_0x230456(0x291)],this['_onMapWhellEvent'],this),this['_map']['on'](_0xb4c022[_0x230456(0x188)]['mouseDown'],this[_0x230456(0x270)],this),this[_0x230456(0x157)]['on'](_0xb4c022[_0x230456(0x188)][_0x230456(0x170)],this[_0x230456(0x277)],this),this[_0x230456(0x157)]['on'](_0xb4c022['EventType'][_0x230456(0x18a)],this[_0x230456(0x229)],this);}},{'key':_0x112593(0x16e),'value':function(){var _0x2a442f=_0x112593;window[_0x2a442f(0x258)](this['animateFrame']),delete this['animateFrame'],window[_0x2a442f(0x222)]('resize',this[_0x2a442f(0x1a6)]),this[_0x2a442f(0x157)][_0x2a442f(0x178)](_0xb4c022['EventType']['wheel'],this[_0x2a442f(0x292)],this),this[_0x2a442f(0x157)][_0x2a442f(0x178)](_0xb4c022['EventType'][_0x2a442f(0x18c)],this[_0x2a442f(0x270)],this),this[_0x2a442f(0x157)][_0x2a442f(0x178)](_0xb4c022['EventType'][_0x2a442f(0x170)],this['_onMouseUpEvent'],this),this[_0x2a442f(0x157)][_0x2a442f(0x178)](_0xb4c022[_0x2a442f(0x188)][_0x2a442f(0x18a)],this[_0x2a442f(0x229)],this);}},{'key':_0x112593(0x292),'value':function(_0x94dc09){var _0x577fb9=_0x112593,_0x3d4f6e=this;clearTimeout(this['refreshTimer']),this[_0x577fb9(0x1a8)]&&this[_0x577fb9(0x283)]&&(this['canvas'][_0x577fb9(0x1f3)][_0x577fb9(0x167)]='hidden',this['refreshTimer']=setTimeout(function(){var _0x587b34=_0x577fb9;_0x3d4f6e[_0x587b34(0x1a8)]&&(_0x3d4f6e[_0x587b34(0x201)](),_0x3d4f6e[_0x587b34(0x283)][_0x587b34(0x1f3)]['visibility']=_0x587b34(0x130));},0xc8));}},{'key':'_onMouseDownEvent','value':function(_0x50a886){var _0x33f7b8=_0x112593;this[_0x33f7b8(0x200)]=!0x0;}},{'key':_0x112593(0x229),'value':function(_0x56b3b6){var _0x29b6fd=_0x112593;this['show']&&this[_0x29b6fd(0x283)]&&this[_0x29b6fd(0x200)]&&(this['canvas'][_0x29b6fd(0x1f3)][_0x29b6fd(0x167)]='hidden',this[_0x29b6fd(0x168)]=!0x0);}},{'key':_0x112593(0x277),'value':function(_0x3c41bb){var _0x56ded4=_0x112593;this['show']&&this['canvas']&&(this['mouse_down']&&this[_0x56ded4(0x168)]&&this[_0x56ded4(0x201)](),this[_0x56ded4(0x283)]['style'][_0x56ded4(0x167)]=_0x56ded4(0x130),this[_0x56ded4(0x200)]=!0x1,this[_0x56ded4(0x168)]=!0x1);}},{'key':_0x112593(0x201),'value':function(){var _0x2e72df=_0x112593;this[_0x2e72df(0x1a8)]&&(this[_0x2e72df(0x27b)]=[],this[_0x2e72df(0x21e)]());}},{'key':_0x112593(0x22f),'value':function(_0x3531ed){var _0x9c3993=_0x112593;this[_0x9c3993(0x17c)](),this[_0x9c3993(0x29b)]=_0x3531ed,this[_0x9c3993(0x1dc)]=new _0x2d70af(this[_0x9c3993(0x29b)],this[_0x9c3993(0x1f7)]),this['drawWind']();}},{'key':_0x112593(0x21e),'value':function(){var _0x5dffa7=_0x112593;this[_0x5dffa7(0x12f)]();for(var _0x2d9387=0x0;_0x2d9387<this['particlesNumber'];_0x2d9387++){var _0x205aad=this[_0x5dffa7(0x271)](new _0x3bd7fb());this[_0x5dffa7(0x27b)][_0x5dffa7(0x176)](_0x205aad);}this[_0x5dffa7(0x262)][_0x5dffa7(0x193)]=_0x5dffa7(0x184),this['canvasContext']['globalAlpha']=0.6,this[_0x5dffa7(0x1f4)]();}},{'key':_0x112593(0x12f),'value':function(){var _0xb9a142=_0x112593;this['windField']&&(this[_0xb9a142(0x216)]=[(this[_0xb9a142(0x1dc)][_0xb9a142(0x1c4)]-this[_0xb9a142(0x1dc)][_0xb9a142(0x1ab)])/this[_0xb9a142(0x1bc)],(this[_0xb9a142(0x1dc)]['ymax']-this[_0xb9a142(0x1dc)][_0xb9a142(0x234)])/this[_0xb9a142(0x1bc)]]);}},{'key':_0x112593(0x1f4),'value':function(){var _0x45112b=_0x112593,_0x1918e5=this;if(this[_0x45112b(0x1a8)]&&!(this[_0x45112b(0x27b)][_0x45112b(0x244)]<=0x0)){var _0x9c20df=null,_0x58d4b3=null,_0x562e75=null;this['particles'][_0x45112b(0x245)](function(_0x49db03){var _0x16d13e=_0x45112b;if(_0x49db03[_0x16d13e(0x294)]<=0x0&&_0x1918e5['randomParticle'](_0x49db03),_0x49db03['age']>0x0){var _0x4f2b9d=_0x49db03['tlng'],_0xa2e9d7=_0x49db03[_0x16d13e(0x255)];(_0x562e75=_0x1918e5['windField'][_0x16d13e(0x299)](_0x4f2b9d,_0xa2e9d7))?(_0x9c20df=_0x4f2b9d+_0x1918e5[_0x16d13e(0x216)][0x0]*_0x562e75[0x0],_0x58d4b3=_0xa2e9d7+_0x1918e5[_0x16d13e(0x216)][0x1]*_0x562e75[0x1],_0x49db03[_0x16d13e(0x189)]=_0x4f2b9d,_0x49db03[_0x16d13e(0x22a)]=_0xa2e9d7,_0x49db03[_0x16d13e(0x22e)]=_0x9c20df,_0x49db03['tlat']=_0x58d4b3,_0x49db03[_0x16d13e(0x294)]--):_0x49db03['age']=0x0;}}),this['_drawLines']();}}},{'key':'_tomap','value':function(_0x1a1430,_0x44d0dd,_0x109bf0){var _0x48a68e=_0x112593,_0x5cebc9=_0x3886d9[_0x48a68e(0x1e8)][_0x48a68e(0x185)](_0x1a1430,_0x44d0dd,this[_0x48a68e(0x205)]),_0x14e413=this[_0x48a68e(0x157)][_0x48a68e(0x254)];if(_0x14e413[_0x48a68e(0x233)]===_0x3886d9[_0x48a68e(0x163)][_0x48a68e(0x1a5)]&&!new _0x3886d9[(_0x48a68e(0x19e))](_0x14e413[_0x48a68e(0x211)][_0x48a68e(0x1eb)],_0x14e413[_0x48a68e(0x1e9)][_0x48a68e(0x182)])[_0x48a68e(0x1ef)](_0x5cebc9))return _0x109bf0['age']=0x0,null;var _0x413bfa=_0x3886d9[_0x48a68e(0x248)][_0x48a68e(0x268)](this[_0x48a68e(0x157)][_0x48a68e(0x254)],_0x5cebc9);return _0x413bfa?[_0x413bfa['x'],_0x413bfa['y']]:null;}},{'key':_0x112593(0x144),'value':function(){var _0x5295c4=_0x112593,_0x247ace=this,_0xc2f4e0=this['particles'];this[_0x5295c4(0x262)]['lineWidth']=_0x247ace[_0x5295c4(0x208)],this[_0x5295c4(0x262)][_0x5295c4(0x206)]=_0x5295c4(0x26a),this[_0x5295c4(0x262)][_0x5295c4(0x26e)](0x0,0x0,this[_0x5295c4(0x142)],this[_0x5295c4(0x13e)]),this[_0x5295c4(0x262)]['globalCompositeOperation']=_0x5295c4(0x1fc),this[_0x5295c4(0x262)][_0x5295c4(0x24c)]=0.9,this[_0x5295c4(0x262)][_0x5295c4(0x14f)](),this[_0x5295c4(0x262)]['strokeStyle']=this[_0x5295c4(0x1ec)];var _0x11a283=this['_map'][_0x5295c4(0x254)][_0x5295c4(0x233)]!==_0x3886d9[_0x5295c4(0x163)][_0x5295c4(0x1a5)];_0xc2f4e0['forEach'](function(_0x2d98c4){var _0x52f03d=_0x5295c4,_0x44c929=_0x247ace[_0x52f03d(0x23e)](_0x2d98c4[_0x52f03d(0x189)],_0x2d98c4[_0x52f03d(0x22a)],_0x2d98c4),_0x38e1d1=_0x247ace[_0x52f03d(0x23e)](_0x2d98c4[_0x52f03d(0x22e)],_0x2d98c4[_0x52f03d(0x255)],_0x2d98c4);if(null!=_0x44c929&&null!=_0x38e1d1){var _0xa661e=Math[_0x52f03d(0x1e0)](_0x44c929[0x0]-_0x38e1d1[0x0]);_0x11a283&&_0xa661e>=_0x247ace[_0x52f03d(0x142)]||(_0x247ace[_0x52f03d(0x262)]['moveTo'](_0x44c929[0x0],_0x44c929[0x1]),_0x247ace[_0x52f03d(0x262)][_0x52f03d(0x1fe)](_0x38e1d1[0x0],_0x38e1d1[0x1]));}}),this['canvasContext'][_0x5295c4(0x19c)]();}},{'key':'randomParticle','value':function(_0xe1f515){var _0x573ba1=_0x112593;for(var _0x1ffeee,_0x2959ec,_0x52eff2=0x0;_0x52eff2<0x1e&&(_0x1ffeee=this[_0x573ba1(0x1dc)][_0x573ba1(0x1f8)](),!((_0x2959ec=this['windField'][_0x573ba1(0x299)](_0x1ffeee[_0x573ba1(0x189)],_0x1ffeee[_0x573ba1(0x22a)]))&&_0x2959ec[0x2]>0x0));_0x52eff2++);if(!_0x2959ec)return _0xe1f515;var _0x49d2b5=_0x1ffeee[_0x573ba1(0x189)]+this[_0x573ba1(0x216)][0x0]*_0x2959ec[0x0],_0x4a770f=_0x1ffeee[_0x573ba1(0x22a)]+this[_0x573ba1(0x216)][0x1]*_0x2959ec[0x1];return _0xe1f515[_0x573ba1(0x189)]=_0x1ffeee[_0x573ba1(0x189)],_0xe1f515[_0x573ba1(0x22a)]=_0x1ffeee[_0x573ba1(0x22a)],_0xe1f515[_0x573ba1(0x22e)]=_0x49d2b5,_0xe1f515[_0x573ba1(0x255)]=_0x4a770f,_0xe1f515[_0x573ba1(0x294)]=Math[_0x573ba1(0x21f)](Math['random']()*this[_0x573ba1(0x22c)]),_0xe1f515;}},{'key':_0x112593(0x17c),'value':function(){var _0x5346ed=_0x112593;this[_0x5346ed(0x27b)]=[],delete this[_0x5346ed(0x1dc)],delete this['windData'];}}]),_0x49c346;}(_0xb4c022['layer'][_0x49e117(0x25c)]);function _0x8a4063(_0x351873,_0x22676a){var _0xf5351b=_0x49e117;return _0x351873*Math[_0xf5351b(0x1c7)](_0x3886d9[_0xf5351b(0x17d)][_0xf5351b(0x20f)](_0x22676a));}function _0x416dac(_0x2a8ceb,_0x57ed94){var _0x5224cd=_0x49e117;return _0x2a8ceb*Math[_0x5224cd(0x125)](_0x3886d9[_0x5224cd(0x17d)]['toRadians'](_0x57ed94));}function _0xe69e5a(_0x558424,_0x47d3f7){var _0x4da2a6=_0x49e117;return Math[_0x4da2a6(0x15f)](Math[_0x4da2a6(0x263)](_0x558424,0x2)+Math['pow'](_0x47d3f7,0x2));}function _0x37e74a(_0x7e6f83,_0x47bd93){var _0x51fab1=_0x49e117,_0x2af28f=_0x3886d9['Math'][_0x51fab1(0x261)](Math[_0x51fab1(0x133)](_0x47bd93,_0x7e6f83));return _0x2af28f+=_0x2af28f<0x0?0x168:0x0;}_0xb4c022[_0x49e117(0x180)][_0x49e117(0x27f)](_0x49e117(0x269),_0x3d0c7f),_0xb4c022[_0x49e117(0x223)][_0x49e117(0x147)]=_0x3d0c7f,_0xb4c022[_0x49e117(0x290)]=_0x1d11bf;}]);}));function a0_0x4713(){var _0x20f381=['all','maxParticles','speedRate','south','VertexArray','mod','segments','_addedHook','data','geometry','xmax','TextureMinificationFilter','lon','cos','latRange','configurable','ComponentDatatype','viewerParameters','destroyParticlesTextures','clearCommand','prototype','TRIANGLES','PrimitiveType','call','TWO_PI','grid','getUVByXY','postProcessingSpeed','updatePosition','segmentsColor','drawingBufferWidth','shaderProgram','colorNum','Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function','windField','keys','textures','particlesRendering','abs','PI_OVER_THREE','createComputingPrimitives','setupEventListeners','clientHeight','commandToExecute','bind','ymax','Cartesian3','camera','applyViewerParameters','ellipsoid','color','speedFactor','3932352EYSYIp','isPointVisible','framebuffers','postProcessingPosition','exports','style','update','outputTexture','defined','reverseY','getRandomLatLng','canrefresh','DEPTH_COMPONENT','nextTrails','lighter','Sampler','lineTo','frameRate','mouse_down','redraw','viewport','randomBetween','depthMask','fixedHeight','globalCompositeOperation','DepthFunction','lineWidth','setOptions','ZERO','viewRectangleToLonLatRange','absolute','dimensions','add','toRadians','canvasWindy','globe','DISABLE_GL_POSITION_LOG_DEPTH','getU','left','createRenderingFramebuffers','calc_speedRate','getColorTexture','mars3dWind','currentParticlesSpeed','fromGeometry','object','refreshParticles','canvasResize','drawWind','round','addPrimitives','particlesWind','removeEventListener','layer','removeAll','Rectangle','default','PixelFormat','nextTrailsColor','_onMouseMoveEvent','lat','setData','maxAge','pixelSize','tlng','updateDate','randomizeParticles','moveStart','WindLayer','mode','ymin','appendChild','zIndex','Texture','DISABLE_LOG_DEPTH_FRAGMENT_WRITE','getUserInput','drawingBufferHeight','_removedHook','rows','addEventListener','_tomap','12255362sHpALw','blending','_bilinearInterpolation','_mountedHook','toStringTag','length','forEach','3677230mLaGNN','createFramebuffer','SceneTransforms','getPixelSize','random','none','globalAlpha','preExecute','setAttribute','uniform\x20sampler2D\x20colorTable;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(colorTable,\x20vec2(speedNormalization,\x200.0));\x0a}','_createCanvas','applyUserInput','floor','frameTime','scene','tlat','key','constructor','cancelAnimationFrame','//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x20\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x,\x20360.0);\x0a\x20\x20\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20-90.0,\x2090.0);\x0a\x0a\x20\x20\x20\x20vec3\x20index3D\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20index3D.z\x20=\x20(lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z;\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205],\x20width\x20=\x203,\x20height\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x203\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x202\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWind(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20\x20\x20float\x20result\x20=\x20texture2D(windTexture,\x20normalizedIndex2D).r;\x0a\x20\x20\x20\x20return\x20result;\x0a}\x0a\x0aconst\x20mat4\x20kernelMatrix\x20=\x20mat4(\x0a\x20\x20\x20\x200.0,\x20-1.0,\x202.0,\x20-1.0,\x20//\x20first\x20column\x0a\x20\x20\x20\x202.0,\x200.0,\x20-5.0,\x203.0,\x20//\x20second\x20column\x0a\x20\x20\x20\x200.0,\x201.0,\x204.0,\x20-3.0,\x20//\x20third\x20column\x0a\x20\x20\x20\x200.0,\x200.0,\x20-1.0,\x201.0\x20//\x20fourth\x20column\x0a);\x0afloat\x20oneDimensionInterpolation(float\x20t,\x20float\x20p0,\x20float\x20p1,\x20float\x20p2,\x20float\x20p3)\x20{\x0a\x20\x20\x20\x20vec4\x20tVec4\x20=\x20vec4(1.0,\x20t,\x20t\x20*\x20t,\x20t\x20*\x20t\x20*\x20t);\x0a\x20\x20\x20\x20tVec4\x20=\x20tVec4\x20/\x202.0;\x0a\x20\x20\x20\x20vec4\x20pVec4\x20=\x20vec4(p0,\x20p1,\x20p2,\x20p3);\x0a\x20\x20\x20\x20return\x20dot((tVec4\x20*\x20kernelMatrix),\x20pVec4);\x0a}\x0a\x0afloat\x20calculateB(sampler2D\x20windTexture,\x20float\x20t,\x20float\x20lon,\x20float\x20lat,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20float\x20lon0\x20=\x20floor(lon)\x20-\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon1\x20=\x20floor(lon);\x0a\x20\x20\x20\x20float\x20lon2\x20=\x20floor(lon)\x20+\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon3\x20=\x20floor(lon)\x20+\x202.0\x20*\x20interval.x;\x0a\x0a\x20\x20\x20\x20float\x20p0\x20=\x20getWind(windTexture,\x20vec3(lon0,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p1\x20=\x20getWind(windTexture,\x20vec3(lon1,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p2\x20=\x20getWind(windTexture,\x20vec3(lon2,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p3\x20=\x20getWind(windTexture,\x20vec3(lon3,\x20lat,\x20lev));\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(t,\x20p0,\x20p1,\x20p2,\x20p3);\x0a}\x0a\x0afloat\x20interpolateOneTexture(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20\x20\x20float\x20lat0\x20=\x20floor(lat)\x20-\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat1\x20=\x20floor(lat);\x0a\x20\x20\x20\x20float\x20lat2\x20=\x20floor(lat)\x20+\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat3\x20=\x20floor(lat)\x20+\x202.0\x20*\x20interval.y;\x0a\x0a\x20\x20\x20\x20vec2\x20coefficient\x20=\x20lonLatLev.xy\x20-\x20floor(lonLatLev.xy);\x0a\x20\x20\x20\x20float\x20b0\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat0,\x20lev);\x0a\x20\x20\x20\x20float\x20b1\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat1,\x20lev);\x0a\x20\x20\x20\x20float\x20b2\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat2,\x20lev);\x0a\x20\x20\x20\x20float\x20b3\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat3,\x20lev);\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(coefficient.y,\x20b0,\x20b1,\x20b2,\x20b3);\x0a}\x0a\x0avec3\x20bicubic(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bicubic_interpolation#Bicubic_convolution_algorithm\x0a\x20\x20\x20\x20float\x20u\x20=\x20interpolateOneTexture(U,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20v\x20=\x20interpolateOneTexture(V,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20bicubic(lonLatLev);\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(windVector,\x200.0);\x0a}','getFullscreenQuad','reverse','BaseLayer','ShaderProgram','ALWAYS','currentTrailsDepth','commandType','toDegrees','canvasContext','pow','mars3d-cesium','createSegmentsGeometry','_pointerEvents','currentTrailsColor','wgs84ToWindowCoordinates','canvasWind','destination-in','275weYNRC','lonRange','updateSpeed','fillRect','screen','_onMouseDownEvent','randomParticle','getPrototypeOf','globeLayer','getExtent','createElement','this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called','_onMouseUpEvent','construct','Cartesian2','array','particles','createWindTextures','GeometryAttribute','max','register','currentTrails','140810JUjIkg','FLOAT','canvas','Pass','925468nnyjma','LINEAR','segmentsDepth','clearFramebuffers','position','100%','BufferUsage','particlesTextureSize','rawRenderState','log','valueOf','WindUtil','wheel','_onMapWhellEvent','createCommand','age','nextTrailsDepth','uniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec4\x20randomParticle\x20=\x20texture2D(postProcessingPosition,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20vec4\x20particleSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x0a\x20\x20\x20\x20if\x20(randomParticle.a\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20\x20\x20}\x0a}','setGeometry','particlesComputing','getUVByPoint','cols','windData','sin','globeBoundingSphere','LUMINANCE','primitives','vdata','context','windTextures','RenderState','createRawRenderState','nextParticlesPosition','_calcStep','visible','4683xtHitb','10377erkAlw','atan2','defineProperty','now','dropRate','NEAREST','fromCache','PixelDatatype','pointerEvents','height','__proto__','container','canvasHeight','currentParticlesPosition','autoClear','Compute','canvasWidth','defaultValue','_drawLines','PI_OVER_TWO','framebuffer','CanvasWindLayer','particleSystem','attribute\x20vec3\x20position;\x0d\x0aattribute\x20vec2\x20st;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20textureCoordinate\x20=\x20st;\x0d\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(position,\x201.0);\x0d\x0a}','execute','_showHook','_calcUV','uniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0auniform\x20sampler2D\x20particlesWind;\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20speedFactor;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec3\x20percent\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20\x20\x20float\x20normalization\x20=\x20length(percent);\x0a\x0a\x20\x20\x20\x20return\x20normalization;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20currentSpeed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20texture2D(particlesWind,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20vec4(speedFactor\x20*\x20pixelSize\x20*\x20windVector,\x20calculateWindNorm(windVector));\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20nextSpeed;\x0a}','particlesNumber','beginPath','clampToLatitudeRange','sham','moveEnd','THREE_PI_OVER_TWO','userInput','getDefaultRenderState','remove','_map','colorTable','requestAnimationFrame','attributeLocations','destroy','primitiveType','width','toGridXY','sqrt','TextureMagnificationFilter','bindEvent','hasOwnProperty','SceneMode','Matrix4','_speedRate','#ffffff','visibility','mouse_move','dropRateBump','particleHeight','depthTexture','Appearance','STATIC_DRAW','unbindEvent','lev','mouseUp','createRenderingPrimitives','fragmentShaderSource','mars3d','apply','Draw','push','north','off','_particlesNumber','preRender','wind','clear','Math','Cesium','symbol','LayerUtil','particlesTextures','positionWC','min','rgba(0,\x200,\x200,\x200.97)','fromDegrees','create','value','EventType','lng','mouseMove','fill','mouseDown','10792JJOqjs','writable','getDirection','1284DSClcC','updateViewerParameters','trails','fillStyle','ShaderSource','_maxAge','ClearCommand','UNSIGNED_BYTE','enumerable','2ZRtNVQ','OPAQUE','clientWidth','stroke','getSpeed','EllipsoidalOccluder','uniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20\x20\x20float\x20term1\x20=\x20111132.92;\x0a\x20\x20\x20\x20float\x20term2\x20=\x20559.82\x20*\x20cos(2.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term3\x20=\x201.175\x20*\x20cos(4.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term4\x20=\x200.0023\x20*\x20cos(6.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20\x20\x20float\x20term5\x20=\x20111412.84\x20*\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20term6\x20=\x2093.5\x20*\x20cos(3.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term7\x20=\x200.118\x20*\x20cos(5.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avoid\x20updatePosition(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20windVectorInLonLatLev;\x0a\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20speed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20updatePosition(lonLatLev,\x20speed);\x0a}','IDENTITY','__esModule','nextParticlesSpeed','setPrototypeOf','createRenderingTextures','SCENE3D','resize','createTexture','show','BoundingSphere','function','xmin','string','0px','vertexShaderSource','fadeOpacity','undefined','options','auto','vertexArray','arrayBufferView','uniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0a\x0auniform\x20float\x20randomCoefficient;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0auniform\x20float\x20dropRate;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0auniform\x20float\x20dropRateBump;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898,\x2078.233,\x204375.85453);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0,\x201.0);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0);\x0a\x20\x20\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20lev);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20\x20\x20return\x20particle.y\x20<\x20-90.0\x20||\x20particle.y\x20>\x2090.0;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20texture2D(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20nextSpeed.a;\x0a\x0a\x20\x20\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20\x20\x20if\x20(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(randomParticle,\x201.0);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a\x20\x20\x20\x20}\x0a}','uniformMap','animateFrame','udata','pointer-events'];a0_0x4713=function(){return _0x20f381;};return a0_0x4713();}