(function(_0x2a63e0,_0x37fc73){var _0x7f5de6=a0_0x266b,_0x3b34c1=_0x2a63e0();while(!![]){try{var _0x4efeb1=-parseInt(_0x7f5de6(0x173))/0x1*(-parseInt(_0x7f5de6(0x20e))/0x2)+parseInt(_0x7f5de6(0x1ee))/0x3*(-parseInt(_0x7f5de6(0x186))/0x4)+-parseInt(_0x7f5de6(0x19a))/0x5+-parseInt(_0x7f5de6(0x1c4))/0x6+-parseInt(_0x7f5de6(0x1b7))/0x7+parseInt(_0x7f5de6(0x1ec))/0x8*(parseInt(_0x7f5de6(0x222))/0x9)+-parseInt(_0x7f5de6(0x19f))/0xa*(-parseInt(_0x7f5de6(0x26f))/0xb);if(_0x4efeb1===_0x37fc73)break;else _0x3b34c1['push'](_0x3b34c1['shift']());}catch(_0x21c714){_0x3b34c1['push'](_0x3b34c1['shift']());}}}(a0_0x40f3,0x8b0a9),!function(_0xdb402b,_0x16eab0){var _0x134e31=a0_0x266b;_0x134e31(0x1b8)==typeof exports&&_0x134e31(0x1b8)==typeof module?module['exports']=_0x16eab0(require(_0x134e31(0x23d)),require(_0x134e31(0x1d4))):'function'==typeof define&&define[_0x134e31(0x163)]?define(_0x134e31(0x140),[_0x134e31(0x23d),'mars3d'],_0x16eab0):_0x134e31(0x1b8)==typeof exports?exports[_0x134e31(0x140)]=_0x16eab0(require(_0x134e31(0x23d)),require(_0x134e31(0x1d4))):_0xdb402b[_0x134e31(0x140)]=_0x16eab0(_0xdb402b['Cesium'],_0xdb402b['mars3d']);}(window,function(_0x3caecc,_0x5b0695){return function(_0x16c1da){var _0x2206f9={};function _0xda4ab6(_0x2f01fb){var _0x1df2d7=a0_0x266b;if(_0x2206f9[_0x2f01fb])return _0x2206f9[_0x2f01fb][_0x1df2d7(0x13b)];var _0x58c4ef=_0x2206f9[_0x2f01fb]={'i':_0x2f01fb,'l':!0x1,'exports':{}};return _0x16c1da[_0x2f01fb][_0x1df2d7(0x14c)](_0x58c4ef[_0x1df2d7(0x13b)],_0x58c4ef,_0x58c4ef[_0x1df2d7(0x13b)],_0xda4ab6),_0x58c4ef['l']=!0x0,_0x58c4ef['exports'];}return _0xda4ab6['m']=_0x16c1da,_0xda4ab6['c']=_0x2206f9,_0xda4ab6['d']=function(_0x436a7d,_0x34e16d,_0x684311){var _0x29ddbf=a0_0x266b;_0xda4ab6['o'](_0x436a7d,_0x34e16d)||Object[_0x29ddbf(0x232)](_0x436a7d,_0x34e16d,{'enumerable':!0x0,'get':_0x684311});},_0xda4ab6['r']=function(_0x936c1c){var _0x2af84f=a0_0x266b;_0x2af84f(0x195)!=typeof Symbol&&Symbol[_0x2af84f(0x146)]&&Object[_0x2af84f(0x232)](_0x936c1c,Symbol[_0x2af84f(0x146)],{'value':_0x2af84f(0x135)}),Object[_0x2af84f(0x232)](_0x936c1c,_0x2af84f(0x165),{'value':!0x0});},_0xda4ab6['t']=function(_0x5e0867,_0x22660a){var _0x44d7fb=a0_0x266b;if(0x1&_0x22660a&&(_0x5e0867=_0xda4ab6(_0x5e0867)),0x8&_0x22660a)return _0x5e0867;if(0x4&_0x22660a&&_0x44d7fb(0x1b8)==typeof _0x5e0867&&_0x5e0867&&_0x5e0867[_0x44d7fb(0x165)])return _0x5e0867;var _0x39a9e3=Object[_0x44d7fb(0x208)](null);if(_0xda4ab6['r'](_0x39a9e3),Object[_0x44d7fb(0x232)](_0x39a9e3,'default',{'enumerable':!0x0,'value':_0x5e0867}),0x2&_0x22660a&&_0x44d7fb(0x17a)!=typeof _0x5e0867){for(var _0x4ef640 in _0x5e0867)_0xda4ab6['d'](_0x39a9e3,_0x4ef640,function(_0x1ee356){return _0x5e0867[_0x1ee356];}[_0x44d7fb(0x189)](null,_0x4ef640));}return _0x39a9e3;},_0xda4ab6['n']=function(_0x2d73db){var _0x3f8de3=a0_0x266b,_0x379a9d=_0x2d73db&&_0x2d73db[_0x3f8de3(0x165)]?function(){var _0x3052b7=_0x3f8de3;return _0x2d73db[_0x3052b7(0x169)];}:function(){return _0x2d73db;};return _0xda4ab6['d'](_0x379a9d,'a',_0x379a9d),_0x379a9d;},_0xda4ab6['o']=function(_0x27693b,_0x43e801){var _0x22feb3=a0_0x266b;return Object[_0x22feb3(0x244)]['hasOwnProperty']['call'](_0x27693b,_0x43e801);},_0xda4ab6['p']='',_0xda4ab6(_0xda4ab6['s']=0x14);}([function(_0x199f61,_0x48f323){var _0x593119=a0_0x266b;_0x199f61[_0x593119(0x13b)]=_0x3caecc;},function(_0xd7dd24,_0x4b30af){_0xd7dd24['exports']=_0x5b0695;},function(_0x1d869a,_0x166ed5){var _0x2d055e=a0_0x266b;_0x1d869a['exports']=function(_0x1e28b6,_0x463092){var _0x1676ac=a0_0x266b;if(!(_0x1e28b6 instanceof _0x463092))throw new TypeError(_0x1676ac(0x16d));},_0x1d869a[_0x2d055e(0x13b)][_0x2d055e(0x169)]=_0x1d869a[_0x2d055e(0x13b)],_0x1d869a['exports'][_0x2d055e(0x165)]=!0x0;},function(_0x52c624,_0x33dd2f){var _0x59fec5=a0_0x266b;function _0x2772df(_0x5dfb9b,_0x4287f0){var _0x285598=a0_0x266b;for(var _0x37eefd=0x0;_0x37eefd<_0x4287f0[_0x285598(0x12f)];_0x37eefd++){var _0x33fde7=_0x4287f0[_0x37eefd];_0x33fde7[_0x285598(0x1fd)]=_0x33fde7['enumerable']||!0x1,_0x33fde7[_0x285598(0x283)]=!0x0,_0x285598(0x28c)in _0x33fde7&&(_0x33fde7[_0x285598(0x21f)]=!0x0),Object[_0x285598(0x232)](_0x5dfb9b,_0x33fde7[_0x285598(0x16a)],_0x33fde7);}}_0x52c624[_0x59fec5(0x13b)]=function(_0x1bca06,_0x109dc3,_0x5c8177){var _0x398b24=_0x59fec5;return _0x109dc3&&_0x2772df(_0x1bca06[_0x398b24(0x244)],_0x109dc3),_0x5c8177&&_0x2772df(_0x1bca06,_0x5c8177),_0x1bca06;},_0x52c624[_0x59fec5(0x13b)][_0x59fec5(0x169)]=_0x52c624[_0x59fec5(0x13b)],_0x52c624['exports'][_0x59fec5(0x165)]=!0x0;},function(_0x4bbf23,_0x441461){var _0x2af553=a0_0x266b;function _0x261aa1(_0x3dbebd){var _0x26e19a=a0_0x266b;return _0x4bbf23['exports']=_0x261aa1=Object[_0x26e19a(0x215)]?Object[_0x26e19a(0x16b)]:function(_0x3ebe1d){var _0x4c4829=_0x26e19a;return _0x3ebe1d[_0x4c4829(0x200)]||Object[_0x4c4829(0x16b)](_0x3ebe1d);},_0x4bbf23[_0x26e19a(0x13b)][_0x26e19a(0x169)]=_0x4bbf23['exports'],_0x4bbf23[_0x26e19a(0x13b)][_0x26e19a(0x165)]=!0x0,_0x261aa1(_0x3dbebd);}_0x4bbf23['exports']=_0x261aa1,_0x4bbf23[_0x2af553(0x13b)][_0x2af553(0x169)]=_0x4bbf23['exports'],_0x4bbf23['exports']['__esModule']=!0x0;},function(_0x4fc7b7,_0x113546,_0x4e47e9){var _0x156abe=a0_0x266b,_0x44f160=_0x4e47e9(0x11);_0x4fc7b7[_0x156abe(0x13b)]=function(_0x3004fb,_0x353e1f){var _0x324cc3=_0x156abe;if(_0x324cc3(0x1e8)!=typeof _0x353e1f&&null!==_0x353e1f)throw new TypeError('Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function');_0x3004fb[_0x324cc3(0x244)]=Object[_0x324cc3(0x208)](_0x353e1f&&_0x353e1f[_0x324cc3(0x244)],{'constructor':{'value':_0x3004fb,'writable':!0x0,'configurable':!0x0}}),_0x353e1f&&_0x44f160(_0x3004fb,_0x353e1f);},_0x4fc7b7[_0x156abe(0x13b)][_0x156abe(0x169)]=_0x4fc7b7[_0x156abe(0x13b)],_0x4fc7b7['exports']['__esModule']=!0x0;},function(_0x3cc370,_0x48ceae,_0x4aeb39){var _0x5f2168=a0_0x266b,_0x3fa9b0=_0x4aeb39(0x12)['default'],_0x236d87=_0x4aeb39(0x13);_0x3cc370[_0x5f2168(0x13b)]=function(_0x2fd803,_0x2a183e){var _0x5eaf67=_0x5f2168;if(_0x2a183e&&(_0x5eaf67(0x1b8)===_0x3fa9b0(_0x2a183e)||_0x5eaf67(0x1e8)==typeof _0x2a183e))return _0x2a183e;if(void 0x0!==_0x2a183e)throw new TypeError(_0x5eaf67(0x1aa));return _0x236d87(_0x2fd803);},_0x3cc370[_0x5f2168(0x13b)][_0x5f2168(0x169)]=_0x3cc370[_0x5f2168(0x13b)],_0x3cc370['exports']['__esModule']=!0x0;},function(_0x45a218,_0x26586e){var _0x32ee5f=a0_0x266b;_0x45a218['exports']=_0x32ee5f(0x15a);},function(_0x9d6e3e,_0x3c6ca3){var _0xe55b24=a0_0x266b;_0x9d6e3e[_0xe55b24(0x13b)]=_0xe55b24(0x24e);},function(_0x3f86e5,_0x364871){var _0x493eb8=a0_0x266b;_0x3f86e5[_0x493eb8(0x13b)]='uniform\x20sampler2D\x20colorTable;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(colorTable,\x20vec2(speedNormalization,\x200.0));\x0a}';},function(_0x38850d,_0x12a1fb){var _0x2546d9=a0_0x266b;_0x38850d[_0x2546d9(0x13b)]=_0x2546d9(0x1af);},function(_0x14cbec,_0x6585ac){var _0x41d3d0=a0_0x266b;_0x14cbec['exports']=_0x41d3d0(0x12d);},function(_0x515d7f,_0x593236){var _0x3f58bd=a0_0x266b;_0x515d7f['exports']=_0x3f58bd(0x26b);},function(_0x3f8b6d,_0x2ce1c0){var _0x2212a2=a0_0x266b;_0x3f8b6d['exports']=_0x2212a2(0x1c0);},function(_0x1f0e1f,_0xf1ae37){var _0x28a7eb=a0_0x266b;_0x1f0e1f['exports']=_0x28a7eb(0x17e);},function(_0x4f2ea1,_0x1d3690){var _0x46f467=a0_0x266b;_0x4f2ea1[_0x46f467(0x13b)]='uniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0a\x0auniform\x20float\x20randomCoefficient;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0auniform\x20float\x20dropRate;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0auniform\x20float\x20dropRateBump;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898,\x2078.233,\x204375.85453);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0,\x201.0);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0);\x0a\x20\x20\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20lev);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20\x20\x20return\x20particle.y\x20<\x20-90.0\x20||\x20particle.y\x20>\x2090.0;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20texture2D(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20nextSpeed.a;\x0a\x0a\x20\x20\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20\x20\x20if\x20(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(randomParticle,\x201.0);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a\x20\x20\x20\x20}\x0a}';},function(_0x30f54e,_0x461fb5){var _0x2c54d3=a0_0x266b;_0x30f54e['exports']=_0x2c54d3(0x27e);},function(_0x4195a1,_0x321d69){var _0x539201=a0_0x266b;function _0x3ca6ec(_0x18481b,_0x63b416){var _0x3d6d66=a0_0x266b;return _0x4195a1[_0x3d6d66(0x13b)]=_0x3ca6ec=Object[_0x3d6d66(0x215)]||function(_0x34f284,_0x472dc4){var _0x363707=_0x3d6d66;return _0x34f284[_0x363707(0x200)]=_0x472dc4,_0x34f284;},_0x4195a1[_0x3d6d66(0x13b)][_0x3d6d66(0x169)]=_0x4195a1[_0x3d6d66(0x13b)],_0x4195a1[_0x3d6d66(0x13b)][_0x3d6d66(0x165)]=!0x0,_0x3ca6ec(_0x18481b,_0x63b416);}_0x4195a1['exports']=_0x3ca6ec,_0x4195a1[_0x539201(0x13b)][_0x539201(0x169)]=_0x4195a1[_0x539201(0x13b)],_0x4195a1[_0x539201(0x13b)][_0x539201(0x165)]=!0x0;},function(_0x235e1e,_0x3d88e7){var _0x310fc7=a0_0x266b;function _0x32306b(_0x38275d){var _0x57518b=a0_0x266b;return _0x57518b(0x1e8)==typeof Symbol&&_0x57518b(0x149)==typeof Symbol[_0x57518b(0x21a)]?(_0x235e1e[_0x57518b(0x13b)]=_0x32306b=function(_0x244978){return typeof _0x244978;},_0x235e1e[_0x57518b(0x13b)][_0x57518b(0x169)]=_0x235e1e[_0x57518b(0x13b)],_0x235e1e['exports'][_0x57518b(0x165)]=!0x0):(_0x235e1e[_0x57518b(0x13b)]=_0x32306b=function(_0x53883e){var _0x3cf8a8=_0x57518b;return _0x53883e&&_0x3cf8a8(0x1e8)==typeof Symbol&&_0x53883e[_0x3cf8a8(0x1a6)]===Symbol&&_0x53883e!==Symbol[_0x3cf8a8(0x244)]?_0x3cf8a8(0x149):typeof _0x53883e;},_0x235e1e[_0x57518b(0x13b)]['default']=_0x235e1e['exports'],_0x235e1e[_0x57518b(0x13b)][_0x57518b(0x165)]=!0x0),_0x32306b(_0x38275d);}_0x235e1e[_0x310fc7(0x13b)]=_0x32306b,_0x235e1e[_0x310fc7(0x13b)][_0x310fc7(0x169)]=_0x235e1e[_0x310fc7(0x13b)],_0x235e1e['exports'][_0x310fc7(0x165)]=!0x0;},function(_0x4199f4,_0x57e0e5){var _0x24f27e=a0_0x266b;_0x4199f4[_0x24f27e(0x13b)]=function(_0x45e16e){if(void 0x0===_0x45e16e)throw new ReferenceError('this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called');return _0x45e16e;},_0x4199f4['exports'][_0x24f27e(0x169)]=_0x4199f4[_0x24f27e(0x13b)],_0x4199f4[_0x24f27e(0x13b)][_0x24f27e(0x165)]=!0x0;},function(_0x2f6864,_0x1e1fad,_0x3dd362){'use strict';var _0x4a60b3=a0_0x266b;_0x3dd362['r'](_0x1e1fad),_0x3dd362['d'](_0x1e1fad,'WindLayer',function(){return _0x28e2db;}),_0x3dd362['d'](_0x1e1fad,_0x4a60b3(0x1d2),function(){return _0x18de68;}),_0x3dd362['d'](_0x1e1fad,_0x4a60b3(0x1da),function(){return _0x44480b;});var _0x44480b={};_0x3dd362['r'](_0x44480b),_0x3dd362['d'](_0x44480b,_0x4a60b3(0x213),function(){return _0x275ec8;}),_0x3dd362['d'](_0x44480b,_0x4a60b3(0x19c),function(){return _0x13028e;}),_0x3dd362['d'](_0x44480b,'getSpeed',function(){return _0x292c0c;}),_0x3dd362['d'](_0x44480b,'getDirection',function(){return _0x1464b1;});var _0x4f9f06=_0x3dd362(0x1),_0x125490=_0x3dd362(0x2),_0x2086ac=_0x3dd362['n'](_0x125490),_0x295f24=_0x3dd362(0x3),_0x3326c9=_0x3dd362['n'](_0x295f24),_0x322f93=_0x3dd362(0x5),_0x23429d=_0x3dd362['n'](_0x322f93),_0x4c8c75=_0x3dd362(0x6),_0x1a17f5=_0x3dd362['n'](_0x4c8c75),_0x168741=_0x3dd362(0x4),_0x18aa96=_0x3dd362['n'](_0x168741),_0x28afda=_0x3dd362(0x0),_0x2bace8=function(){var _0x3e78c8=_0x4a60b3;function _0x3c8072(_0x25005d){var _0x67cec6=a0_0x266b;_0x2086ac()(this,_0x3c8072),this[_0x67cec6(0x1fa)]=_0x25005d[_0x67cec6(0x1fa)],this[_0x67cec6(0x250)]=_0x25005d['geometry'],this['attributeLocations']=_0x25005d[_0x67cec6(0x137)],this['primitiveType']=_0x25005d[_0x67cec6(0x240)],this[_0x67cec6(0x242)]=_0x25005d[_0x67cec6(0x242)],this['vertexShaderSource']=_0x25005d[_0x67cec6(0x26d)],this[_0x67cec6(0x15c)]=_0x25005d[_0x67cec6(0x15c)],this[_0x67cec6(0x25d)]=_0x25005d[_0x67cec6(0x25d)],this[_0x67cec6(0x18f)]=_0x25005d[_0x67cec6(0x18f)],this[_0x67cec6(0x210)]=_0x25005d[_0x67cec6(0x210)],this[_0x67cec6(0x227)]=_0x28afda['defaultValue'](_0x25005d[_0x67cec6(0x227)],!0x1),this[_0x67cec6(0x292)]=_0x25005d[_0x67cec6(0x292)],this[_0x67cec6(0x288)]=!0x0,this[_0x67cec6(0x19d)]=void 0x0,this['clearCommand']=void 0x0,this[_0x67cec6(0x227)]&&(this[_0x67cec6(0x1ad)]=new _0x28afda[(_0x67cec6(0x13f))]({'color':new _0x28afda[(_0x67cec6(0x204))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this['framebuffer'],'pass':_0x28afda[_0x67cec6(0x1bb)][_0x67cec6(0x234)]}));}return _0x3326c9()(_0x3c8072,[{'key':'createCommand','value':function(_0x44ea14){var _0x716504=a0_0x266b;switch(this[_0x716504(0x1fa)]){case _0x716504(0x161):var _0xcb5a7c=_0x28afda[_0x716504(0x22f)][_0x716504(0x275)]({'context':_0x44ea14,'geometry':this['geometry'],'attributeLocations':this[_0x716504(0x137)],'bufferUsage':_0x28afda[_0x716504(0x1c7)]['STATIC_DRAW']}),_0x4fbac2=_0x28afda[_0x716504(0x1b4)][_0x716504(0x24d)]({'context':_0x44ea14,'attributeLocations':this['attributeLocations'],'vertexShaderSource':this[_0x716504(0x26d)],'fragmentShaderSource':this[_0x716504(0x15c)]}),_0xee8404=_0x28afda[_0x716504(0x1f1)][_0x716504(0x24d)](this[_0x716504(0x25d)]);return new _0x28afda[(_0x716504(0x1d1))]({'owner':this,'vertexArray':_0xcb5a7c,'primitiveType':this[_0x716504(0x240)],'uniformMap':this[_0x716504(0x242)],'modelMatrix':_0x28afda[_0x716504(0x20d)]['IDENTITY'],'shaderProgram':_0x4fbac2,'framebuffer':this[_0x716504(0x18f)],'renderState':_0xee8404,'pass':_0x28afda[_0x716504(0x1bb)][_0x716504(0x234)]});case _0x716504(0x27c):return new _0x28afda['ComputeCommand']({'owner':this,'fragmentShaderSource':this[_0x716504(0x15c)],'uniformMap':this['uniformMap'],'outputTexture':this[_0x716504(0x210)],'persists':!0x0});}}},{'key':_0x3e78c8(0x131),'value':function(_0x151852,_0x14e2a7){var _0x4fed85=_0x3e78c8;this['geometry']=_0x14e2a7;var _0x53608a=_0x28afda[_0x4fed85(0x22f)][_0x4fed85(0x275)]({'context':_0x151852,'geometry':this[_0x4fed85(0x250)],'attributeLocations':this[_0x4fed85(0x137)],'bufferUsage':_0x28afda[_0x4fed85(0x1c7)]['STATIC_DRAW']});this['commandToExecute']['vertexArray']=_0x53608a;}},{'key':_0x3e78c8(0x130),'value':function(_0x2081b8){var _0x22f378=_0x3e78c8;this[_0x22f378(0x288)]&&_0x2081b8[_0x22f378(0x152)]==_0x28afda['SceneMode'][_0x22f378(0x290)]&&(_0x28afda[_0x22f378(0x12e)](this['commandToExecute'])||(this[_0x22f378(0x19d)]=this[_0x22f378(0x1c2)](_0x2081b8[_0x22f378(0x175)])),_0x28afda[_0x22f378(0x12e)](this[_0x22f378(0x292)])&&this[_0x22f378(0x292)](),_0x28afda[_0x22f378(0x12e)](this[_0x22f378(0x1ad)])&&_0x2081b8[_0x22f378(0x25f)][_0x22f378(0x16e)](this['clearCommand']),_0x2081b8[_0x22f378(0x25f)]['push'](this[_0x22f378(0x19d)]));}},{'key':_0x3e78c8(0x164),'value':function(){return!0x1;}},{'key':_0x3e78c8(0x1cb),'value':function(){var _0x59066d=_0x3e78c8;return _0x28afda[_0x59066d(0x12e)](this['commandToExecute'])&&(this['commandToExecute'][_0x59066d(0x1d7)]=this[_0x59066d(0x19d)][_0x59066d(0x1d7)]&&this[_0x59066d(0x19d)][_0x59066d(0x1d7)]['destroy']()),_0x28afda[_0x59066d(0x1b2)](this);}}]),_0x3c8072;}(),_0x33d87e={'getFullscreenQuad':function(){var _0xeebd96=_0x4a60b3;return new _0x28afda[(_0xeebd96(0x214))]({'attributes':new _0x28afda[(_0xeebd96(0x285))]({'position':new _0x28afda['GeometryAttribute']({'componentDatatype':_0x28afda[_0xeebd96(0x1ae)]['FLOAT'],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new _0x28afda[(_0xeebd96(0x289))]({'componentDatatype':_0x28afda[_0xeebd96(0x1ae)][_0xeebd96(0x197)],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});},'createTexture':function(_0x4993c2,_0x26ab01){var _0x4a19a6=_0x4a60b3;if(_0x28afda['defined'](_0x26ab01)){var _0x27c2b2={};_0x27c2b2['arrayBufferView']=_0x26ab01,_0x4993c2['source']=_0x27c2b2;}return new _0x28afda[(_0x4a19a6(0x192))](_0x4993c2);},'createFramebuffer':function(_0x46c7b7,_0x388df7,_0x3b25e8){var _0x44629d=_0x4a60b3;return new _0x28afda[(_0x44629d(0x223))]({'context':_0x46c7b7,'colorTextures':[_0x388df7],'depthTexture':_0x3b25e8});},'createRawRenderState':function(_0xe9af87){var _0x406ad6=_0x4a60b3,_0x1a1fb4={'viewport':_0xe9af87['viewport'],'depthTest':_0xe9af87[_0x406ad6(0x260)],'depthMask':_0xe9af87['depthMask'],'blending':_0xe9af87[_0x406ad6(0x142)]};return _0x28afda['Appearance']['getDefaultRenderState'](!0x0,!0x1,_0x1a1fb4);},'viewRectangleToLonLatRange':function(_0x3abb00){var _0x25e9a4=_0x4a60b3,_0x36a39e,_0x9e8d7c,_0x54044d={},_0x40d3b3=_0x28afda['Math']['mod'](_0x3abb00[_0x25e9a4(0x258)],_0x28afda[_0x25e9a4(0x272)][_0x25e9a4(0x27d)]),_0x35858c=_0x28afda[_0x25e9a4(0x272)][_0x25e9a4(0x1d5)](_0x3abb00[_0x25e9a4(0x230)],_0x28afda[_0x25e9a4(0x272)][_0x25e9a4(0x27d)]),_0x5a7ce0=_0x3abb00['width'];_0x5a7ce0>_0x28afda[_0x25e9a4(0x272)][_0x25e9a4(0x1e6)]?(_0x36a39e=0x0,_0x9e8d7c=_0x28afda[_0x25e9a4(0x272)][_0x25e9a4(0x27d)]):_0x35858c-_0x40d3b3<_0x5a7ce0?(_0x36a39e=_0x40d3b3,_0x9e8d7c=_0x40d3b3+_0x5a7ce0):(_0x36a39e=_0x40d3b3,_0x9e8d7c=_0x35858c),_0x54044d[_0x25e9a4(0x1cf)]={'min':_0x28afda['Math'][_0x25e9a4(0x1bd)](_0x36a39e),'max':_0x28afda[_0x25e9a4(0x272)]['toDegrees'](_0x9e8d7c)};var _0x588b8e=_0x3abb00[_0x25e9a4(0x291)],_0x1b0a60=_0x3abb00[_0x25e9a4(0x212)],_0x2444b6=_0x3abb00[_0x25e9a4(0x194)],_0x166771=_0x2444b6>_0x28afda[_0x25e9a4(0x272)]['PI']/0xc?_0x2444b6/0x2:0x0,_0xa63eff=_0x28afda['Math'][_0x25e9a4(0x220)](_0x588b8e-_0x166771),_0x444d54=_0x28afda[_0x25e9a4(0x272)][_0x25e9a4(0x220)](_0x1b0a60+_0x166771);return _0xa63eff<-_0x28afda['Math'][_0x25e9a4(0x136)]&&(_0xa63eff=-_0x28afda[_0x25e9a4(0x272)][_0x25e9a4(0x132)]),_0x444d54>_0x28afda[_0x25e9a4(0x272)][_0x25e9a4(0x136)]&&(_0x444d54=_0x28afda[_0x25e9a4(0x272)][_0x25e9a4(0x132)]),_0x54044d[_0x25e9a4(0x264)]={'min':_0x28afda[_0x25e9a4(0x272)][_0x25e9a4(0x1bd)](_0xa63eff),'max':_0x28afda[_0x25e9a4(0x272)][_0x25e9a4(0x1bd)](_0x444d54)},_0x54044d;}},_0x1206af=_0x3dd362(0x8),_0x36b080=_0x3dd362['n'](_0x1206af),_0x394624=_0x3dd362(0x9),_0xf8feae=_0x3dd362['n'](_0x394624),_0x4e8240=_0x3dd362(0x7),_0x2807f2=_0x3dd362['n'](_0x4e8240),_0x5ef156=_0x3dd362(0xa),_0x444e69=_0x3dd362['n'](_0x5ef156),_0x4fa428=_0x3dd362(0xb),_0x504168=_0x3dd362['n'](_0x4fa428),_0x180de0=function(){var _0x43eff5=_0x4a60b3;function _0x7c35bc(_0xc53d09,_0x50f15a,_0x5109ad,_0x141a2a,_0x1dc07d){var _0xa9c522=a0_0x266b;_0x2086ac()(this,_0x7c35bc),this[_0xa9c522(0x267)](_0xc53d09,_0x50f15a),this[_0xa9c522(0x178)](_0xc53d09),this['createRenderingPrimitives'](_0xc53d09,_0x5109ad,_0x141a2a,_0x1dc07d);}return _0x3326c9()(_0x7c35bc,[{'key':_0x43eff5(0x267),'value':function(_0x9d7a7f,_0x791677){var _0xe92964=_0x43eff5,_0x4c6d4b={'context':_0x9d7a7f,'width':_0x9d7a7f[_0xe92964(0x191)],'height':_0x9d7a7f[_0xe92964(0x26a)],'pixelFormat':_0x28afda[_0xe92964(0x1bf)][_0xe92964(0x12c)],'pixelDatatype':_0x28afda[_0xe92964(0x255)]['UNSIGNED_BYTE']},_0x298166={'context':_0x9d7a7f,'width':_0x9d7a7f[_0xe92964(0x191)],'height':_0x9d7a7f[_0xe92964(0x26a)],'pixelFormat':_0x28afda[_0xe92964(0x1bf)][_0xe92964(0x1a8)],'pixelDatatype':_0x28afda[_0xe92964(0x255)]['UNSIGNED_INT']},_0x490009={'context':_0x9d7a7f,'width':_0x791677['colorTable'][_0xe92964(0x201)],'height':0x1,'pixelFormat':_0x28afda[_0xe92964(0x1bf)][_0xe92964(0x153)],'pixelDatatype':_0x28afda[_0xe92964(0x255)][_0xe92964(0x197)],'sampler':new _0x28afda[(_0xe92964(0x14a))]({'minificationFilter':_0x28afda[_0xe92964(0x1e4)][_0xe92964(0x19b)],'magnificationFilter':_0x28afda['TextureMagnificationFilter'][_0xe92964(0x19b)]})};this[_0xe92964(0x12b)]={'segmentsColor':_0x33d87e[_0xe92964(0x20b)](_0x4c6d4b),'segmentsDepth':_0x33d87e['createTexture'](_0x298166),'currentTrailsColor':_0x33d87e[_0xe92964(0x20b)](_0x4c6d4b),'currentTrailsDepth':_0x33d87e[_0xe92964(0x20b)](_0x298166),'nextTrailsColor':_0x33d87e[_0xe92964(0x20b)](_0x4c6d4b),'nextTrailsDepth':_0x33d87e[_0xe92964(0x20b)](_0x298166),'colorTable':_0x33d87e['createTexture'](_0x490009,_0x791677[_0xe92964(0x171)][_0xe92964(0x278)])};}},{'key':_0x43eff5(0x178),'value':function(_0x36b5fe){var _0x1f4b63=_0x43eff5;this[_0x1f4b63(0x181)]={'segments':_0x33d87e[_0x1f4b63(0x261)](_0x36b5fe,this['textures']['segmentsColor'],this[_0x1f4b63(0x12b)][_0x1f4b63(0x238)]),'currentTrails':_0x33d87e[_0x1f4b63(0x261)](_0x36b5fe,this[_0x1f4b63(0x12b)][_0x1f4b63(0x198)],this['textures']['currentTrailsDepth']),'nextTrails':_0x33d87e[_0x1f4b63(0x261)](_0x36b5fe,this['textures'][_0x1f4b63(0x180)],this[_0x1f4b63(0x12b)]['nextTrailsDepth'])};}},{'key':_0x43eff5(0x21d),'value':function(_0x5a7ac3){var _0x47d40c=_0x43eff5;for(var _0x493ea8=[],_0x40515e=0x0;_0x40515e<_0x5a7ac3[_0x47d40c(0x228)];_0x40515e++)for(var _0x1e0092=0x0;_0x1e0092<_0x5a7ac3[_0x47d40c(0x228)];_0x1e0092++)for(var _0x50aa5c=0x0;_0x50aa5c<0x4;_0x50aa5c++)_0x493ea8[_0x47d40c(0x16e)](_0x40515e/_0x5a7ac3['particlesTextureSize']),_0x493ea8[_0x47d40c(0x16e)](_0x1e0092/_0x5a7ac3[_0x47d40c(0x228)]);_0x493ea8=new Float32Array(_0x493ea8);for(var _0x3e7301=[],_0x40fa88=[-0x1,0x1],_0x30a739=[-0x1,0x1],_0x3ef514=0x0;_0x3ef514<_0x5a7ac3[_0x47d40c(0x1f0)];_0x3ef514++)for(var _0x5cce69=0x0;_0x5cce69<0x2;_0x5cce69++)for(var _0x5566ba=0x0;_0x5566ba<0x2;_0x5566ba++)_0x3e7301['push'](_0x40fa88[_0x5cce69]),_0x3e7301['push'](_0x30a739[_0x5566ba]),_0x3e7301[_0x47d40c(0x16e)](0x0);_0x3e7301=new Float32Array(_0x3e7301);for(var _0x187029=0x6*_0x5a7ac3['maxParticles'],_0x536f99=new Uint32Array(_0x187029),_0x88cbb=0x0,_0x5b32bb=0x0,_0x2f5cde=0x0;_0x88cbb<_0x5a7ac3[_0x47d40c(0x1f0)];_0x88cbb++)_0x536f99[_0x5b32bb++]=_0x2f5cde+0x0,_0x536f99[_0x5b32bb++]=_0x2f5cde+0x1,_0x536f99[_0x5b32bb++]=_0x2f5cde+0x2,_0x536f99[_0x5b32bb++]=_0x2f5cde+0x2,_0x536f99[_0x5b32bb++]=_0x2f5cde+0x1,_0x536f99[_0x5b32bb++]=_0x2f5cde+0x3,_0x2f5cde+=0x4;return new _0x28afda[(_0x47d40c(0x214))]({'attributes':new _0x28afda[(_0x47d40c(0x285))]({'st':new _0x28afda[(_0x47d40c(0x289))]({'componentDatatype':_0x28afda['ComponentDatatype']['FLOAT'],'componentsPerAttribute':0x2,'values':_0x493ea8}),'normal':new _0x28afda[(_0x47d40c(0x289))]({'componentDatatype':_0x28afda[_0x47d40c(0x1ae)][_0x47d40c(0x197)],'componentsPerAttribute':0x3,'values':_0x3e7301})}),'indices':_0x536f99});}},{'key':'createRenderingPrimitives','value':function(_0x1a1d28,_0x56403a,_0x564d80,_0x17e59e){var _0x5f2e91=_0x43eff5,_0x4d1983=this;this[_0x5f2e91(0x18e)]={'segments':new _0x2bace8({'commandType':_0x5f2e91(0x161),'attributeLocations':{'st':0x0,'normal':0x1},'geometry':this['createSegmentsGeometry'](_0x56403a),'primitiveType':_0x28afda[_0x5f2e91(0x1a9)][_0x5f2e91(0x249)],'uniformMap':{'currentParticlesPosition':function(){var _0x9ab997=_0x5f2e91;return _0x17e59e[_0x9ab997(0x188)][_0x9ab997(0x13d)];},'postProcessingPosition':function(){var _0xc96e3b=_0x5f2e91;return _0x17e59e[_0xc96e3b(0x188)][_0xc96e3b(0x21b)];},'postProcessingSpeed':function(){var _0x1d96f8=_0x5f2e91;return _0x17e59e[_0x1d96f8(0x188)]['postProcessingSpeed'];},'colorTable':function(){var _0x19b826=_0x5f2e91;return _0x4d1983[_0x19b826(0x12b)][_0x19b826(0x171)];},'aspect':function(){var _0x32fd76=_0x5f2e91;return _0x1a1d28[_0x32fd76(0x191)]/_0x1a1d28[_0x32fd76(0x26a)];},'pixelSize':function(){return _0x564d80['pixelSize'];},'lineWidth':function(){var _0x4ef61b=_0x5f2e91;return _0x56403a[_0x4ef61b(0x20f)];},'particleHeight':function(){var _0x371d39=_0x5f2e91;return _0x56403a[_0x371d39(0x159)];}},'vertexShaderSource':new _0x28afda[(_0x5f2e91(0x236))]({'sources':[_0x36b080['a']]}),'fragmentShaderSource':new _0x28afda[(_0x5f2e91(0x236))]({'sources':[_0xf8feae['a']]}),'rawRenderState':_0x33d87e['createRawRenderState']({'viewport':void 0x0,'depthTest':{'enabled':!0x0},'depthMask':!0x0}),'framebuffer':this[_0x5f2e91(0x181)]['segments'],'autoClear':!0x0}),'trails':new _0x2bace8({'commandType':_0x5f2e91(0x161),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x33d87e['getFullscreenQuad'](),'primitiveType':_0x28afda[_0x5f2e91(0x1a9)][_0x5f2e91(0x249)],'uniformMap':{'segmentsColorTexture':function(){var _0x10b9d3=_0x5f2e91;return _0x4d1983[_0x10b9d3(0x12b)][_0x10b9d3(0x257)];},'segmentsDepthTexture':function(){var _0x5b68a8=_0x5f2e91;return _0x4d1983[_0x5b68a8(0x12b)][_0x5b68a8(0x238)];},'currentTrailsColor':function(){var _0x2e83c4=_0x5f2e91;return _0x4d1983[_0x2e83c4(0x181)][_0x2e83c4(0x1d3)]['getColorTexture'](0x0);},'trailsDepthTexture':function(){var _0x537218=_0x5f2e91;return _0x4d1983[_0x537218(0x181)][_0x537218(0x1d3)][_0x537218(0x22b)];},'fadeOpacity':function(){return _0x56403a['fadeOpacity'];}},'vertexShaderSource':new _0x28afda[(_0x5f2e91(0x236))]({'defines':[_0x5f2e91(0x13c)],'sources':[_0x2807f2['a']]}),'fragmentShaderSource':new _0x28afda['ShaderSource']({'defines':[_0x5f2e91(0x22d)],'sources':[_0x444e69['a']]}),'rawRenderState':_0x33d87e[_0x5f2e91(0x251)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0,'func':_0x28afda['DepthFunction'][_0x5f2e91(0x243)]},'depthMask':!0x0}),'framebuffer':this[_0x5f2e91(0x181)][_0x5f2e91(0x1d9)],'autoClear':!0x0,'preExecute':function(){var _0x320477=_0x5f2e91,_0x24e124;_0x24e124=_0x4d1983[_0x320477(0x181)][_0x320477(0x1d3)],_0x4d1983[_0x320477(0x181)]['currentTrails']=_0x4d1983[_0x320477(0x181)][_0x320477(0x1d9)],_0x4d1983[_0x320477(0x181)][_0x320477(0x1d9)]=_0x24e124,_0x4d1983[_0x320477(0x18e)][_0x320477(0x168)]['commandToExecute'][_0x320477(0x18f)]=_0x4d1983[_0x320477(0x181)][_0x320477(0x1d9)],_0x4d1983[_0x320477(0x18e)][_0x320477(0x168)]['clearCommand'][_0x320477(0x18f)]=_0x4d1983['framebuffers'][_0x320477(0x1d9)];}}),'screen':new _0x2bace8({'commandType':_0x5f2e91(0x161),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x33d87e[_0x5f2e91(0x16c)](),'primitiveType':_0x28afda[_0x5f2e91(0x1a9)][_0x5f2e91(0x249)],'uniformMap':{'trailsColorTexture':function(){var _0xb559a9=_0x5f2e91;return _0x4d1983[_0xb559a9(0x181)][_0xb559a9(0x1d9)][_0xb559a9(0x157)](0x0);},'trailsDepthTexture':function(){var _0x4891c5=_0x5f2e91;return _0x4d1983[_0x4891c5(0x181)][_0x4891c5(0x1d9)][_0x4891c5(0x22b)];}},'vertexShaderSource':new _0x28afda[(_0x5f2e91(0x236))]({'defines':['DISABLE_GL_POSITION_LOG_DEPTH'],'sources':[_0x2807f2['a']]}),'fragmentShaderSource':new _0x28afda['ShaderSource']({'defines':['DISABLE_LOG_DEPTH_FRAGMENT_WRITE'],'sources':[_0x504168['a']]}),'rawRenderState':_0x33d87e['createRawRenderState']({'viewport':void 0x0,'depthTest':{'enabled':!0x1},'depthMask':!0x0,'blending':{'enabled':!0x0}}),'framebuffer':void 0x0})};}}]),_0x7c35bc;}(),_0x3a7081=_0x3dd362(0xc),_0x128ff1=_0x3dd362['n'](_0x3a7081),_0x5e2816=_0x3dd362(0xd),_0x3bce73=_0x3dd362['n'](_0x5e2816),_0x5125e7=_0x3dd362(0xe),_0x3c67e3=_0x3dd362['n'](_0x5125e7),_0x2613b3=_0x3dd362(0xf),_0x31e968=_0x3dd362['n'](_0x2613b3),_0x4501ff=_0x3dd362(0x10),_0x4d30f6=_0x3dd362['n'](_0x4501ff),_0x2a3ca3=function(){var _0x4d614e=_0x4a60b3;function _0x53c603(_0x5c8b4b,_0x1e72fd,_0x419ea8,_0x5a4187){var _0x39167a=a0_0x266b;_0x2086ac()(this,_0x53c603),this[_0x39167a(0x270)]=_0x1e72fd,this['createWindTextures'](_0x5c8b4b,_0x1e72fd),this['createParticlesTextures'](_0x5c8b4b,_0x419ea8,_0x5a4187),this[_0x39167a(0x281)](_0x1e72fd,_0x419ea8,_0x5a4187);}return _0x3326c9()(_0x53c603,[{'key':_0x4d614e(0x182),'value':function(_0x2b2f7c,_0x467e78){var _0x3be54a=_0x4d614e,_0x53478a={'context':_0x2b2f7c,'width':_0x467e78[_0x3be54a(0x26c)]['lon'],'height':_0x467e78[_0x3be54a(0x26c)][_0x3be54a(0x264)]*_0x467e78[_0x3be54a(0x26c)][_0x3be54a(0x18d)],'pixelFormat':_0x28afda[_0x3be54a(0x1bf)][_0x3be54a(0x1bc)],'pixelDatatype':_0x28afda[_0x3be54a(0x255)][_0x3be54a(0x197)],'flipY':!0x1,'sampler':new _0x28afda[(_0x3be54a(0x14a))]({'minificationFilter':_0x28afda['TextureMinificationFilter'][_0x3be54a(0x1e3)],'magnificationFilter':_0x28afda[_0x3be54a(0x226)][_0x3be54a(0x1e3)]})};this['windTextures']={'U':_0x33d87e['createTexture'](_0x53478a,_0x467e78['U'][_0x3be54a(0x278)]),'V':_0x33d87e[_0x3be54a(0x20b)](_0x53478a,_0x467e78['V']['array'])};}},{'key':'createParticlesTextures','value':function(_0x39868b,_0x6abf45,_0x9cc337){var _0x5ac04d=_0x4d614e,_0x22e1d4={'context':_0x39868b,'width':_0x6abf45['particlesTextureSize'],'height':_0x6abf45['particlesTextureSize'],'pixelFormat':_0x28afda[_0x5ac04d(0x1bf)]['RGBA'],'pixelDatatype':_0x28afda[_0x5ac04d(0x255)][_0x5ac04d(0x197)],'flipY':!0x1,'sampler':new _0x28afda['Sampler']({'minificationFilter':_0x28afda[_0x5ac04d(0x1e4)][_0x5ac04d(0x1e3)],'magnificationFilter':_0x28afda[_0x5ac04d(0x226)][_0x5ac04d(0x1e3)]})},_0x2a5322=this[_0x5ac04d(0x286)](_0x6abf45['maxParticles'],_0x9cc337),_0x3d671d=new Float32Array(0x4*_0x6abf45[_0x5ac04d(0x1f0)])[_0x5ac04d(0x18a)](0x0);this[_0x5ac04d(0x188)]={'particlesWind':_0x33d87e[_0x5ac04d(0x20b)](_0x22e1d4),'currentParticlesPosition':_0x33d87e['createTexture'](_0x22e1d4,_0x2a5322),'nextParticlesPosition':_0x33d87e[_0x5ac04d(0x20b)](_0x22e1d4,_0x2a5322),'currentParticlesSpeed':_0x33d87e['createTexture'](_0x22e1d4,_0x3d671d),'nextParticlesSpeed':_0x33d87e[_0x5ac04d(0x20b)](_0x22e1d4,_0x3d671d),'postProcessingPosition':_0x33d87e[_0x5ac04d(0x20b)](_0x22e1d4,_0x2a5322),'postProcessingSpeed':_0x33d87e[_0x5ac04d(0x20b)](_0x22e1d4,_0x3d671d)};}},{'key':_0x4d614e(0x286),'value':function(_0x3976d6,_0x6c4caf){var _0x5244bb=_0x4d614e;for(var _0x15fb61=new Float32Array(0x4*_0x3976d6),_0x21a6a6=0x0;_0x21a6a6<_0x3976d6;_0x21a6a6++)_0x15fb61[0x4*_0x21a6a6]=_0x28afda[_0x5244bb(0x272)]['randomBetween'](_0x6c4caf[_0x5244bb(0x1c6)]['x'],_0x6c4caf[_0x5244bb(0x1c6)]['y']),_0x15fb61[0x4*_0x21a6a6+0x1]=_0x28afda[_0x5244bb(0x272)][_0x5244bb(0x185)](_0x6c4caf[_0x5244bb(0x1a4)]['x'],_0x6c4caf[_0x5244bb(0x1a4)]['y']),_0x15fb61[0x4*_0x21a6a6+0x2]=_0x28afda[_0x5244bb(0x272)][_0x5244bb(0x185)](this['data']['lev'][_0x5244bb(0x1e0)],this['data'][_0x5244bb(0x18d)][_0x5244bb(0x1f4)]),_0x15fb61[0x4*_0x21a6a6+0x3]=0x0;return _0x15fb61;}},{'key':_0x4d614e(0x253),'value':function(){var _0x578ebd=_0x4d614e,_0x1f290d=this;Object[_0x578ebd(0x176)](this[_0x578ebd(0x188)])[_0x578ebd(0x1c1)](function(_0x3625f0){var _0x56c02a=_0x578ebd;_0x1f290d[_0x56c02a(0x188)][_0x3625f0][_0x56c02a(0x1cb)]();});}},{'key':_0x4d614e(0x281),'value':function(_0x51e645,_0x41e4f2,_0x376ec2){var _0x209ba6=_0x4d614e,_0x3fedc4=new _0x28afda[(_0x209ba6(0x127))](_0x51e645['dimensions'][_0x209ba6(0x1cf)],_0x51e645['dimensions']['lat'],_0x51e645[_0x209ba6(0x26c)]['lev']),_0x43a840=new _0x28afda['Cartesian3'](_0x51e645[_0x209ba6(0x1cf)][_0x209ba6(0x1e0)],_0x51e645[_0x209ba6(0x264)][_0x209ba6(0x1e0)],_0x51e645[_0x209ba6(0x18d)][_0x209ba6(0x1e0)]),_0xfa5215=new _0x28afda[(_0x209ba6(0x127))](_0x51e645[_0x209ba6(0x1cf)][_0x209ba6(0x1f4)],_0x51e645[_0x209ba6(0x264)]['max'],_0x51e645['lev']['max']),_0xff3d8d=new _0x28afda[(_0x209ba6(0x127))]((_0xfa5215['x']-_0x43a840['x'])/(_0x3fedc4['x']-0x1),(_0xfa5215['y']-_0x43a840['y'])/(_0x3fedc4['y']-0x1),_0x3fedc4['z']>0x1?(_0xfa5215['z']-_0x43a840['z'])/(_0x3fedc4['z']-0x1):0x1),_0x3fde37=new _0x28afda[(_0x209ba6(0x1d8))](_0x51e645['U']['min'],_0x51e645['U']['max']),_0x4cbb88=new _0x28afda[(_0x209ba6(0x1d8))](_0x51e645['V'][_0x209ba6(0x1e0)],_0x51e645['V']['max']),_0x527328=this;this[_0x209ba6(0x18e)]={'getWind':new _0x2bace8({'commandType':'Compute','uniformMap':{'U':function(){var _0x152596=_0x209ba6;return _0x527328[_0x152596(0x268)]['U'];},'V':function(){return _0x527328['windTextures']['V'];},'currentParticlesPosition':function(){var _0x512867=_0x209ba6;return _0x527328['particlesTextures'][_0x512867(0x13d)];},'dimension':function(){return _0x3fedc4;},'minimum':function(){return _0x43a840;},'maximum':function(){return _0xfa5215;},'interval':function(){return _0xff3d8d;}},'fragmentShaderSource':new _0x28afda[(_0x209ba6(0x236))]({'sources':[_0x128ff1['a']]}),'outputTexture':this[_0x209ba6(0x188)][_0x209ba6(0x17d)],'preExecute':function(){var _0x5ef016=_0x209ba6;_0x527328[_0x5ef016(0x18e)][_0x5ef016(0x271)]['commandToExecute'][_0x5ef016(0x210)]=_0x527328['particlesTextures'][_0x5ef016(0x17d)];}}),'updateSpeed':new _0x2bace8({'commandType':'Compute','uniformMap':{'currentParticlesSpeed':function(){var _0x5aaa24=_0x209ba6;return _0x527328[_0x5aaa24(0x188)][_0x5aaa24(0x252)];},'particlesWind':function(){var _0x2b278a=_0x209ba6;return _0x527328[_0x2b278a(0x188)][_0x2b278a(0x17d)];},'uSpeedRange':function(){return _0x3fde37;},'vSpeedRange':function(){return _0x4cbb88;},'pixelSize':function(){return _0x376ec2['pixelSize'];},'speedFactor':function(){var _0x217c6f=_0x209ba6;return _0x41e4f2[_0x217c6f(0x1f7)];}},'fragmentShaderSource':new _0x28afda[(_0x209ba6(0x236))]({'sources':[_0x3bce73['a']]}),'outputTexture':this[_0x209ba6(0x188)][_0x209ba6(0x231)],'preExecute':function(){var _0x4a8fef=_0x209ba6,_0x456b35;_0x456b35=_0x527328[_0x4a8fef(0x188)][_0x4a8fef(0x252)],_0x527328['particlesTextures'][_0x4a8fef(0x252)]=_0x527328[_0x4a8fef(0x188)][_0x4a8fef(0x25c)],_0x527328['particlesTextures']['postProcessingSpeed']=_0x456b35,_0x527328[_0x4a8fef(0x18e)]['updateSpeed']['commandToExecute'][_0x4a8fef(0x210)]=_0x527328['particlesTextures'][_0x4a8fef(0x231)];}}),'updatePosition':new _0x2bace8({'commandType':_0x209ba6(0x27c),'uniformMap':{'currentParticlesPosition':function(){var _0x44e873=_0x209ba6;return _0x527328[_0x44e873(0x188)]['currentParticlesPosition'];},'currentParticlesSpeed':function(){var _0x59ce40=_0x209ba6;return _0x527328[_0x59ce40(0x188)][_0x59ce40(0x252)];}},'fragmentShaderSource':new _0x28afda['ShaderSource']({'sources':[_0x3c67e3['a']]}),'outputTexture':this[_0x209ba6(0x188)][_0x209ba6(0x14e)],'preExecute':function(){var _0x20a258=_0x209ba6,_0x4d8ea4;_0x4d8ea4=_0x527328[_0x20a258(0x188)][_0x20a258(0x13d)],_0x527328[_0x20a258(0x188)][_0x20a258(0x13d)]=_0x527328[_0x20a258(0x188)]['postProcessingPosition'],_0x527328['particlesTextures'][_0x20a258(0x21b)]=_0x4d8ea4,_0x527328[_0x20a258(0x18e)][_0x20a258(0x190)][_0x20a258(0x19d)][_0x20a258(0x210)]=_0x527328[_0x20a258(0x188)][_0x20a258(0x14e)];}}),'postProcessingPosition':new _0x2bace8({'commandType':'Compute','uniformMap':{'nextParticlesPosition':function(){var _0x1a18ca=_0x209ba6;return _0x527328[_0x1a18ca(0x188)]['nextParticlesPosition'];},'nextParticlesSpeed':function(){var _0x488d4d=_0x209ba6;return _0x527328[_0x488d4d(0x188)][_0x488d4d(0x231)];},'lonRange':function(){var _0x48a457=_0x209ba6;return _0x376ec2[_0x48a457(0x1c6)];},'latRange':function(){return _0x376ec2['latRange'];},'randomCoefficient':function(){var _0x5ae900=Math['random']();return _0x5ae900;},'dropRate':function(){var _0x25cc6c=_0x209ba6;return _0x41e4f2[_0x25cc6c(0x27f)];},'dropRateBump':function(){return _0x41e4f2['dropRateBump'];}},'fragmentShaderSource':new _0x28afda[(_0x209ba6(0x236))]({'sources':[_0x31e968['a']]}),'outputTexture':this[_0x209ba6(0x188)]['postProcessingPosition'],'preExecute':function(){var _0x1f896b=_0x209ba6;_0x527328['primitives'][_0x1f896b(0x21b)]['commandToExecute'][_0x1f896b(0x210)]=_0x527328[_0x1f896b(0x188)][_0x1f896b(0x21b)];}}),'postProcessingSpeed':new _0x2bace8({'commandType':'Compute','uniformMap':{'postProcessingPosition':function(){var _0x295156=_0x209ba6;return _0x527328[_0x295156(0x188)]['postProcessingPosition'];},'nextParticlesSpeed':function(){var _0x193e89=_0x209ba6;return _0x527328['particlesTextures'][_0x193e89(0x231)];}},'fragmentShaderSource':new _0x28afda[(_0x209ba6(0x236))]({'sources':[_0x4d30f6['a']]}),'outputTexture':this[_0x209ba6(0x188)][_0x209ba6(0x25c)],'preExecute':function(){var _0x20d511=_0x209ba6;_0x527328[_0x20d511(0x18e)][_0x20d511(0x25c)][_0x20d511(0x19d)][_0x20d511(0x210)]=_0x527328[_0x20d511(0x188)][_0x20d511(0x25c)];}})};}}]),_0x53c603;}(),_0x48a6c9=function(){var _0x1ce8e3=_0x4a60b3;function _0x4d5698(_0x4ff2a3,_0x6b3b75,_0x4aea29,_0x27885b){var _0x574b81=a0_0x266b;_0x2086ac()(this,_0x4d5698),this[_0x574b81(0x175)]=_0x4ff2a3,this[_0x574b81(0x270)]=_0x6b3b75,this['userInput']=_0x4aea29,this['viewerParameters']=_0x27885b,this[_0x574b81(0x28d)]=new _0x2a3ca3(this['context'],this[_0x574b81(0x270)],this['userInput'],this[_0x574b81(0x1fe)]),this[_0x574b81(0x224)]=new _0x180de0(this[_0x574b81(0x175)],this['data'],this[_0x574b81(0x237)],this[_0x574b81(0x1fe)],this['particlesComputing']);}return _0x3326c9()(_0x4d5698,[{'key':_0x1ce8e3(0x263),'value':function(_0x477cc5){var _0x33624d=_0x1ce8e3,_0x22a5de=this;this['particlesComputing']['destroyParticlesTextures'](),Object[_0x33624d(0x176)](this['particlesComputing'][_0x33624d(0x268)])[_0x33624d(0x1c1)](function(_0x1b333c){var _0x287b0b=_0x33624d;_0x22a5de[_0x287b0b(0x28d)]['windTextures'][_0x1b333c][_0x287b0b(0x1cb)]();}),this['particlesRendering'][_0x33624d(0x12b)][_0x33624d(0x171)][_0x33624d(0x1cb)](),Object['keys'](this[_0x33624d(0x224)][_0x33624d(0x181)])[_0x33624d(0x1c1)](function(_0x5b6dec){var _0x1a56e2=_0x33624d;_0x22a5de['particlesRendering'][_0x1a56e2(0x181)][_0x5b6dec][_0x1a56e2(0x1cb)]();}),this[_0x33624d(0x175)]=_0x477cc5,this[_0x33624d(0x28d)]=new _0x2a3ca3(this[_0x33624d(0x175)],this[_0x33624d(0x270)],this[_0x33624d(0x237)],this[_0x33624d(0x1fe)]),this['particlesRendering']=new _0x180de0(this[_0x33624d(0x175)],this['data'],this[_0x33624d(0x237)],this[_0x33624d(0x1fe)],this[_0x33624d(0x28d)]);}},{'key':_0x1ce8e3(0x141),'value':function(){var _0xc9ab98=_0x1ce8e3,_0x2c8b48=this,_0x27d042=new _0x28afda['ClearCommand']({'color':new _0x28afda[(_0xc9ab98(0x204))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':void 0x0,'pass':_0x28afda[_0xc9ab98(0x1bb)][_0xc9ab98(0x234)]});Object[_0xc9ab98(0x176)](this[_0xc9ab98(0x224)][_0xc9ab98(0x181)])[_0xc9ab98(0x1c1)](function(_0x1c3460){var _0x3569aa=_0xc9ab98;_0x27d042['framebuffer']=_0x2c8b48['particlesRendering'][_0x3569aa(0x181)][_0x1c3460],_0x27d042[_0x3569aa(0x20a)](_0x2c8b48[_0x3569aa(0x175)]);});}},{'key':_0x1ce8e3(0x1e7),'value':function(_0x3f52e1){var _0x6657f7=_0x1ce8e3;if(this[_0x6657f7(0x141)](),this['particlesComputing'][_0x6657f7(0x253)](),this['particlesComputing'][_0x6657f7(0x20c)](this['context'],this['userInput'],this[_0x6657f7(0x1fe)]),_0x3f52e1){var _0xd5cf4=this[_0x6657f7(0x224)][_0x6657f7(0x21d)](this[_0x6657f7(0x237)]);this[_0x6657f7(0x224)]['primitives'][_0x6657f7(0x1e9)][_0x6657f7(0x250)]=_0xd5cf4;var _0x21c3cd=_0x28afda[_0x6657f7(0x22f)][_0x6657f7(0x275)]({'context':this[_0x6657f7(0x175)],'geometry':_0xd5cf4,'attributeLocations':this[_0x6657f7(0x224)][_0x6657f7(0x18e)][_0x6657f7(0x1e9)]['attributeLocations'],'bufferUsage':_0x28afda[_0x6657f7(0x1c7)][_0x6657f7(0x133)]});this[_0x6657f7(0x224)][_0x6657f7(0x18e)][_0x6657f7(0x1e9)][_0x6657f7(0x19d)]['vertexArray']=_0x21c3cd;}}},{'key':_0x1ce8e3(0x128),'value':function(_0x35b342){var _0x291876=_0x1ce8e3,_0x1a9ebe=this,_0x183c6d=!0x1;this['userInput'][_0x291876(0x1f0)]!=_0x35b342['maxParticles']&&(_0x183c6d=!0x0),Object[_0x291876(0x176)](_0x35b342)[_0x291876(0x1c1)](function(_0x291624){var _0x6901a7=_0x291876;_0x1a9ebe[_0x6901a7(0x237)][_0x291624]=_0x35b342[_0x291624];}),this[_0x291876(0x1e7)](_0x183c6d);}},{'key':_0x1ce8e3(0x1e1),'value':function(_0x12143d){var _0x404d1f=_0x1ce8e3,_0x4a6ca2=this;Object[_0x404d1f(0x176)](_0x12143d)['forEach'](function(_0x467d97){var _0x57305e=_0x404d1f;_0x4a6ca2[_0x57305e(0x1fe)][_0x467d97]=_0x12143d[_0x467d97];}),this[_0x404d1f(0x1e7)](!0x1);}}]),_0x4d5698;}();function _0x589471(_0x33f556){var _0x2c82aa=function(){var _0x2141ab=a0_0x266b;if(_0x2141ab(0x195)==typeof Reflect||!Reflect[_0x2141ab(0x14d)])return!0x1;if(Reflect['construct']['sham'])return!0x1;if(_0x2141ab(0x1e8)==typeof Proxy)return!0x0;try{return Boolean[_0x2141ab(0x244)]['valueOf'][_0x2141ab(0x14c)](Reflect['construct'](Boolean,[],function(){})),!0x0;}catch(_0x5878ba){return!0x1;}}();return function(){var _0x32f453=a0_0x266b,_0x3fa716,_0x2edb2c=_0x18aa96()(_0x33f556);if(_0x2c82aa){var _0x3b0c88=_0x18aa96()(this)[_0x32f453(0x1a6)];_0x3fa716=Reflect[_0x32f453(0x14d)](_0x2edb2c,arguments,_0x3b0c88);}else _0x3fa716=_0x2edb2c[_0x32f453(0x254)](this,arguments);return _0x1a17f5()(this,_0x3fa716);};}var _0x1435e0=_0x4f9f06[_0x4a60b3(0x196)][_0x4a60b3(0x167)],_0x3dad13=0x1000,_0x580901=0x64,_0x5b6390=0.996,_0x515bc0=0.003,_0x5b60d9=0.01,_0x24475f=0.5,_0x5d7209=0x2,_0x28e2db=function(_0x16ecf4){var _0x55c2c7=_0x4a60b3;_0x23429d()(_0xe39f32,_0x16ecf4);var _0x4caecc=_0x589471(_0xe39f32);function _0xe39f32(){var _0x5508ac=a0_0x266b,_0x2a372f,_0x10ad64=arguments[_0x5508ac(0x12f)]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};if(_0x2086ac()(this,_0xe39f32),(_0x2a372f=_0x4caecc[_0x5508ac(0x14c)](this,_0x10ad64))[_0x5508ac(0x1f0)]=_0x3dad13,_0x2a372f['particleHeight']=_0x580901,_0x2a372f[_0x5508ac(0x1f5)]=_0x5b6390,_0x2a372f['dropRate']=_0x515bc0,_0x2a372f['dropRateBump']=_0x5b60d9,_0x2a372f['speedFactor']=_0x24475f,_0x2a372f['lineWidth']=_0x5d7209,_0x10ad64){for(var _0x43a272 in _0x10ad64)_0x2a372f[_0x43a272]=_0x10ad64[_0x43a272];}return _0x2a372f;}return _0x3326c9()(_0xe39f32,[{'key':_0x55c2c7(0x196),'get':function(){var _0x1a0c30=_0x55c2c7;return this[_0x1a0c30(0x18e)];}},{'key':_0x55c2c7(0x266),'value':function(){}},{'key':_0x55c2c7(0x293),'value':function(){var _0xb7f6d5=_0x55c2c7;this[_0xb7f6d5(0x25a)]=this[_0xb7f6d5(0x24f)][_0xb7f6d5(0x25a)],this[_0xb7f6d5(0x172)]=this[_0xb7f6d5(0x24f)]['camera'],this[_0xb7f6d5(0x18e)]=new _0x28afda['PrimitiveCollection'](),this[_0xb7f6d5(0x24f)][_0xb7f6d5(0x25a)][_0xb7f6d5(0x18e)][_0xb7f6d5(0x14b)](this[_0xb7f6d5(0x18e)]),this[_0xb7f6d5(0x1fe)]={'lonRange':new _0x28afda['Cartesian2'](),'latRange':new _0x28afda['Cartesian2'](),'pixelSize':0x0},this[_0xb7f6d5(0x184)]=new _0x28afda[(_0xb7f6d5(0x1dc))](_0x28afda[_0xb7f6d5(0x127)]['ZERO'],6314355.63),this['updateViewerParameters'](),window['addEventListener']('resize',this[_0xb7f6d5(0x248)]['bind'](this),!0x1),this[_0xb7f6d5(0x269)]=!0x1,this['mouse_move']=!0x1,this[_0xb7f6d5(0x24f)]['on'](_0x4f9f06[_0xb7f6d5(0x1ab)][_0xb7f6d5(0x280)],this[_0xb7f6d5(0x1ed)],this),this[_0xb7f6d5(0x24f)]['on'](_0x4f9f06[_0xb7f6d5(0x1ab)][_0xb7f6d5(0x209)],this['_onMouseDownEvent'],this),this['_map']['on'](_0x4f9f06['EventType'][_0xb7f6d5(0x1a5)],this['_onMouseUpEvent'],this),this[_0xb7f6d5(0x24f)]['on'](_0x4f9f06[_0xb7f6d5(0x1ab)][_0xb7f6d5(0x265)],this['_onMouseMoveEvent'],this);}},{'key':_0x55c2c7(0x193),'value':function(){var _0xc330c3=_0x55c2c7;window[_0xc330c3(0x1df)](_0xc330c3(0x248),this['resize']),this[_0xc330c3(0x24f)][_0xc330c3(0x126)](_0x4f9f06[_0xc330c3(0x1ab)]['preRender'],this['_onMap_preRenderEvent'],this),this[_0xc330c3(0x24f)][_0xc330c3(0x126)](_0x4f9f06[_0xc330c3(0x1ab)]['wheel'],this['_onMapWhellEvent'],this),this[_0xc330c3(0x24f)][_0xc330c3(0x126)](_0x4f9f06['EventType'][_0xc330c3(0x209)],this['_onMouseDownEvent'],this),this['_map'][_0xc330c3(0x126)](_0x4f9f06[_0xc330c3(0x1ab)][_0xc330c3(0x1a5)],this[_0xc330c3(0x202)],this),this['_map'][_0xc330c3(0x126)](_0x4f9f06[_0xc330c3(0x1ab)]['mouseMove'],this[_0xc330c3(0x177)],this),this[_0xc330c3(0x18e)][_0xc330c3(0x294)](),this[_0xc330c3(0x24f)]['scene']['primitives'][_0xc330c3(0x28f)](this[_0xc330c3(0x18e)]);}},{'key':_0x55c2c7(0x248),'value':function(){var _0x33c07e=_0x55c2c7;this[_0x33c07e(0x288)]&&this['particleSystem']&&(this[_0x33c07e(0x18e)]['show']=!0x1,this[_0x33c07e(0x18e)]['removeAll'](),this[_0x33c07e(0x24f)][_0x33c07e(0x28e)](_0x4f9f06[_0x33c07e(0x1ab)][_0x33c07e(0x1de)],this[_0x33c07e(0x16f)],this));}},{'key':'_onMap_preRenderEvent','value':function(_0x12cc43){var _0x3c8b38=_0x55c2c7;this[_0x3c8b38(0x15f)][_0x3c8b38(0x263)](this[_0x3c8b38(0x25a)][_0x3c8b38(0x175)]),this[_0x3c8b38(0x1ca)](),this[_0x3c8b38(0x18e)][_0x3c8b38(0x288)]=!0x0;}},{'key':_0x55c2c7(0x1ed),'value':function(_0x1a6bb2){var _0x132457=_0x55c2c7,_0xd2dc6b=this;clearTimeout(this[_0x132457(0x277)]),this[_0x132457(0x288)]&&this[_0x132457(0x15f)]&&(this['primitives'][_0x132457(0x288)]=!0x1,this[_0x132457(0x277)]=setTimeout(function(){var _0x3ffcda=_0x132457;_0xd2dc6b[_0x3ffcda(0x288)]&&_0xd2dc6b[_0x3ffcda(0x23c)]();},0xc8));}},{'key':_0x55c2c7(0x203),'value':function(_0x300c28){var _0x35fdf4=_0x55c2c7;this[_0x35fdf4(0x269)]=!0x0;}},{'key':_0x55c2c7(0x177),'value':function(_0xc84ecb){var _0x234c2e=_0x55c2c7;this[_0x234c2e(0x288)]&&this['particleSystem']&&this['mouse_down']&&(this[_0x234c2e(0x18e)][_0x234c2e(0x288)]=!0x1,this[_0x234c2e(0x1ff)]=!0x0);}},{'key':'_onMouseUpEvent','value':function(_0x52666d){var _0x23f3ad=_0x55c2c7;this[_0x23f3ad(0x288)]&&this[_0x23f3ad(0x15f)]&&(this[_0x23f3ad(0x269)]&&this[_0x23f3ad(0x1ff)]&&this[_0x23f3ad(0x23c)](),this[_0x23f3ad(0x18e)]['show']=!0x0,this[_0x23f3ad(0x269)]=!0x1,this['mouse_move']=!0x1);}},{'key':'redraw','value':function(){var _0x124fa6=_0x55c2c7;this[_0x124fa6(0x24f)]&&this['show']&&(this[_0x124fa6(0x25e)](),this['particleSystem'][_0x124fa6(0x1e1)](this['viewerParameters']),this[_0x124fa6(0x18e)][_0x124fa6(0x288)]=!0x0);}},{'key':_0x55c2c7(0x174),'value':function(_0x343bd2){var _0x48be55=_0x55c2c7;this[_0x48be55(0x15f)]=new _0x48a6c9(this[_0x48be55(0x25a)][_0x48be55(0x175)],_0x343bd2,this[_0x48be55(0x247)](),this['viewerParameters']),this[_0x48be55(0x1ca)]();}},{'key':'setOptions','value':function(_0x41dd0f){var _0x175983=_0x55c2c7;if(_0x41dd0f){for(var _0x447d41 in _0x41dd0f)this[_0x447d41]=_0x41dd0f[_0x447d41];}return this[_0x175983(0x15f)]&&this[_0x175983(0x15f)][_0x175983(0x128)](this[_0x175983(0x247)]()),this;}},{'key':_0x55c2c7(0x247),'value':function(){var _0xea9995=_0x55c2c7,_0x2ec08d=Math['ceil'](Math['sqrt'](this['maxParticles']));return this[_0xea9995(0x1f0)]=_0x2ec08d*_0x2ec08d,{'particlesTextureSize':_0x2ec08d,'maxParticles':this[_0xea9995(0x1f0)],'particleHeight':this['particleHeight'],'fadeOpacity':this[_0xea9995(0x1f5)],'dropRate':this[_0xea9995(0x27f)],'dropRateBump':this['dropRateBump'],'speedFactor':this['speedFactor'],'lineWidth':this[_0xea9995(0x20f)],'globeLayer':this[_0xea9995(0x1cc)],'WMS_URL':this[_0xea9995(0x151)]};}},{'key':_0x55c2c7(0x1ca),'value':function(){var _0x4485ef=_0x55c2c7;this[_0x4485ef(0x18e)]['add'](this[_0x4485ef(0x15f)][_0x4485ef(0x28d)][_0x4485ef(0x18e)][_0x4485ef(0x271)]),this[_0x4485ef(0x18e)]['add'](this['particleSystem']['particlesComputing'][_0x4485ef(0x18e)][_0x4485ef(0x1eb)]),this[_0x4485ef(0x18e)]['add'](this[_0x4485ef(0x15f)][_0x4485ef(0x28d)][_0x4485ef(0x18e)][_0x4485ef(0x190)]),this[_0x4485ef(0x18e)][_0x4485ef(0x14b)](this[_0x4485ef(0x15f)]['particlesComputing'][_0x4485ef(0x18e)][_0x4485ef(0x21b)]),this[_0x4485ef(0x18e)][_0x4485ef(0x14b)](this[_0x4485ef(0x15f)][_0x4485ef(0x28d)]['primitives'][_0x4485ef(0x25c)]),this['primitives'][_0x4485ef(0x14b)](this[_0x4485ef(0x15f)][_0x4485ef(0x224)][_0x4485ef(0x18e)][_0x4485ef(0x1e9)]),this[_0x4485ef(0x18e)][_0x4485ef(0x14b)](this[_0x4485ef(0x15f)][_0x4485ef(0x224)]['primitives'][_0x4485ef(0x168)]),this[_0x4485ef(0x18e)][_0x4485ef(0x14b)](this[_0x4485ef(0x15f)]['particlesRendering'][_0x4485ef(0x18e)][_0x4485ef(0x138)]);}},{'key':_0x55c2c7(0x25e),'value':function(){var _0x1b1d67=_0x55c2c7,_0x53dd4c=this[_0x1b1d67(0x172)]['computeViewRectangle'](this[_0x1b1d67(0x25a)][_0x1b1d67(0x1a0)][_0x1b1d67(0x187)]);if(!_0x53dd4c){var _0x224589=this[_0x1b1d67(0x24f)][_0x1b1d67(0x1e2)]();_0x53dd4c=_0x28afda['Rectangle']['fromDegrees'](_0x224589[_0x1b1d67(0x1a1)],_0x224589[_0x1b1d67(0x12a)],_0x224589['xmax'],_0x224589[_0x1b1d67(0x21c)]);}var _0x2b8bde=_0x33d87e['viewRectangleToLonLatRange'](_0x53dd4c);this['viewerParameters'][_0x1b1d67(0x1c6)]['x']=_0x2b8bde[_0x1b1d67(0x1cf)][_0x1b1d67(0x1e0)],this[_0x1b1d67(0x1fe)][_0x1b1d67(0x1c6)]['y']=_0x2b8bde[_0x1b1d67(0x1cf)][_0x1b1d67(0x1f4)],this['viewerParameters'][_0x1b1d67(0x1a4)]['x']=_0x2b8bde[_0x1b1d67(0x264)][_0x1b1d67(0x1e0)],this[_0x1b1d67(0x1fe)]['latRange']['y']=_0x2b8bde[_0x1b1d67(0x264)][_0x1b1d67(0x1f4)];var _0xeb8cc8=this[_0x1b1d67(0x172)][_0x1b1d67(0x156)](this[_0x1b1d67(0x184)],this['scene'][_0x1b1d67(0x191)],this[_0x1b1d67(0x25a)]['drawingBufferHeight']);_0xeb8cc8>0x0&&(this['viewerParameters']['pixelSize']=_0xeb8cc8);}}]),_0xe39f32;}(_0x1435e0);_0x4f9f06[_0x4a60b3(0x1c5)][_0x4a60b3(0x1c9)](_0x4a60b3(0x276),_0x28e2db),_0x4f9f06['layer'][_0x4a60b3(0x148)]=_0x28e2db;var _0x49867b=function _0x1e5815(){var _0x25072e=_0x4a60b3;_0x2086ac()(this,_0x1e5815),this[_0x25072e(0x24c)]=null,this[_0x25072e(0x264)]=null,this[_0x25072e(0x179)]=null,this[_0x25072e(0x1d6)]=null,this[_0x25072e(0x160)]=null;},_0x279145=function(){var _0x408ecc=_0x4a60b3;function _0x3b6c26(_0x21eee9,_0x5a2cd6){var _0x1e7749=a0_0x266b;_0x2086ac()(this,_0x3b6c26),this[_0x1e7749(0x1f2)]=_0x21eee9[_0x1e7749(0x1f2)],this[_0x1e7749(0x233)]=_0x21eee9[_0x1e7749(0x233)],this[_0x1e7749(0x1a1)]=_0x21eee9[_0x1e7749(0x1a1)],this[_0x1e7749(0x23f)]=_0x21eee9[_0x1e7749(0x23f)],this[_0x1e7749(0x12a)]=_0x21eee9[_0x1e7749(0x12a)],this[_0x1e7749(0x21c)]=_0x21eee9[_0x1e7749(0x21c)],this['grid']=[];var _0x304640=_0x21eee9[_0x1e7749(0x1dd)],_0x5351fe=_0x21eee9['vdata'],_0x3df1d2=!0x1;_0x304640[_0x1e7749(0x12f)]===this[_0x1e7749(0x1f2)]&&_0x304640[0x0][_0x1e7749(0x12f)]===this[_0x1e7749(0x233)]&&(_0x3df1d2=!0x0);for(var _0x4873da=0x0,_0x141935=null,_0x1299e0=null,_0x27d9b6=0x0;_0x27d9b6<this[_0x1e7749(0x1f2)];_0x27d9b6++){_0x141935=[];for(var _0x3a1ebe=0x0;_0x3a1ebe<this[_0x1e7749(0x233)];_0x3a1ebe++,_0x4873da++)_0x1299e0=_0x3df1d2?this['_calcUV'](_0x304640[_0x27d9b6][_0x3a1ebe],_0x5351fe[_0x27d9b6][_0x3a1ebe]):this[_0x1e7749(0x262)](_0x304640[_0x4873da],_0x5351fe[_0x4873da]),_0x141935[_0x1e7749(0x16e)](_0x1299e0);this[_0x1e7749(0x1b5)][_0x1e7749(0x16e)](_0x141935);}_0x5a2cd6&&this[_0x1e7749(0x1b5)][_0x1e7749(0x1fb)]();}return _0x3326c9()(_0x3b6c26,[{'key':_0x408ecc(0x144),'value':function(_0x511dff,_0x2b4aad){var _0x4aa979=_0x408ecc;return{'x':(_0x511dff-this['xmin'])/(this[_0x4aa979(0x23f)]-this[_0x4aa979(0x1a1)])*(this['cols']-0x1),'y':(this[_0x4aa979(0x21c)]-_0x2b4aad)/(this[_0x4aa979(0x21c)]-this['ymin'])*(this[_0x4aa979(0x1f2)]-0x1)};}},{'key':_0x408ecc(0x246),'value':function(_0x36071d,_0x15f711){var _0x52e615=_0x408ecc;if(_0x36071d<0x0||_0x36071d>=this[_0x52e615(0x233)]||_0x15f711>=this[_0x52e615(0x1f2)])return[0x0,0x0,0x0];var _0xedc869,_0x44b639,_0x2e408b=Math[_0x52e615(0x1f8)](_0x36071d),_0x2af8bf=Math['floor'](_0x15f711);if(_0x2e408b===_0x36071d&&_0x2af8bf===_0x15f711)return this[_0x52e615(0x1b5)][_0x15f711][_0x36071d];_0xedc869=_0x2e408b+0x1,_0x44b639=_0x2af8bf+0x1;var _0x4c71df=this[_0x52e615(0x246)](_0x2e408b,_0x2af8bf),_0x115e44=this[_0x52e615(0x246)](_0xedc869,_0x2af8bf),_0x4c4014=this['getUVByXY'](_0x2e408b,_0x44b639),_0x375d3e=this[_0x52e615(0x246)](_0xedc869,_0x44b639),_0x26671d=null;try{_0x26671d=this[_0x52e615(0x1f3)](_0x36071d-_0x2e408b,_0x15f711-_0x2af8bf,_0x4c71df,_0x115e44,_0x4c4014,_0x375d3e);}catch(_0x1bceeb){console['log'](_0x36071d,_0x15f711);}return _0x26671d;}},{'key':_0x408ecc(0x1f3),'value':function(_0x774628,_0x34c9f9,_0x4432e1,_0x501728,_0x25b9f0,_0x402ad4){var _0x12916e=0x1-_0x774628,_0x4f06e6=0x1-_0x34c9f9,_0x2dbbb7=_0x12916e*_0x4f06e6,_0x46178f=_0x774628*_0x4f06e6,_0x36472a=_0x12916e*_0x34c9f9,_0x53a599=_0x774628*_0x34c9f9,_0x1b3159=_0x4432e1[0x0]*_0x2dbbb7+_0x501728[0x0]*_0x46178f+_0x25b9f0[0x0]*_0x36472a+_0x402ad4[0x0]*_0x53a599,_0x484f26=_0x4432e1[0x1]*_0x2dbbb7+_0x501728[0x1]*_0x46178f+_0x25b9f0[0x1]*_0x36472a+_0x402ad4[0x1]*_0x53a599;return this['_calcUV'](_0x1b3159,_0x484f26);}},{'key':_0x408ecc(0x262),'value':function(_0x50a0cb,_0xd3021a){var _0x2bff16=_0x408ecc;return[+_0x50a0cb,+_0xd3021a,Math[_0x2bff16(0x23a)](_0x50a0cb*_0x50a0cb+_0xd3021a*_0xd3021a)];}},{'key':_0x408ecc(0x1ef),'value':function(_0x4776f4,_0x28e1f8){var _0x3aa3dd=_0x408ecc;if(!this[_0x3aa3dd(0x1b1)](_0x4776f4,_0x28e1f8))return null;var _0x1b0eeb=this[_0x3aa3dd(0x144)](_0x4776f4,_0x28e1f8);return this[_0x3aa3dd(0x246)](_0x1b0eeb['x'],_0x1b0eeb['y']);}},{'key':'isInExtent','value':function(_0x15e82f,_0x1b949d){var _0x5f4381=_0x408ecc;return _0x15e82f>=this['xmin']&&_0x15e82f<=this[_0x5f4381(0x23f)]&&_0x1b949d>=this['ymin']&&_0x1b949d<=this[_0x5f4381(0x21c)];}},{'key':_0x408ecc(0x23e),'value':function(){var _0x25b310=_0x408ecc,_0x4ba586=_0x41ac4c(this[_0x25b310(0x1a1)],this[_0x25b310(0x23f)]);return{'lat':_0x41ac4c(this[_0x25b310(0x12a)],this[_0x25b310(0x21c)]),'lng':_0x4ba586};}}]),_0x3b6c26;}();function _0x41ac4c(_0x21019f,_0x550978){var _0xbee0d4=_0x4a60b3;return _0x21019f+Math[_0xbee0d4(0x295)]()*(_0x550978-_0x21019f);}function _0x34a222(_0x54bb3a){var _0x54fcb2=function(){var _0x2bcf8f=a0_0x266b;if(_0x2bcf8f(0x195)==typeof Reflect||!Reflect[_0x2bcf8f(0x14d)])return!0x1;if(Reflect[_0x2bcf8f(0x14d)][_0x2bcf8f(0x241)])return!0x1;if(_0x2bcf8f(0x1e8)==typeof Proxy)return!0x0;try{return Boolean[_0x2bcf8f(0x244)]['valueOf'][_0x2bcf8f(0x14c)](Reflect[_0x2bcf8f(0x14d)](Boolean,[],function(){})),!0x0;}catch(_0x9c97c5){return!0x1;}}();return function(){var _0x5b1392=a0_0x266b,_0x3ed871,_0x5adb76=_0x18aa96()(_0x54bb3a);if(_0x54fcb2){var _0x332d1c=_0x18aa96()(this)['constructor'];_0x3ed871=Reflect[_0x5b1392(0x14d)](_0x5adb76,arguments,_0x332d1c);}else _0x3ed871=_0x5adb76[_0x5b1392(0x254)](this,arguments);return _0x1a17f5()(this,_0x3ed871);};}var _0x18de68=function(_0x1c21f7){var _0x4e229a=_0x4a60b3;_0x23429d()(_0x3f4eeb,_0x1c21f7);var _0x5bc2cb=_0x34a222(_0x3f4eeb);function _0x3f4eeb(){var _0x2860e5=a0_0x266b,_0x9d3c6d,_0x1d4be7=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};return _0x2086ac()(this,_0x3f4eeb),(_0x9d3c6d=_0x5bc2cb[_0x2860e5(0x14c)](this,_0x1d4be7))[_0x2860e5(0x259)]=[0x0,0x0],_0x9d3c6d[_0x2860e5(0x143)]=[],_0x9d3c6d['speedRate']=_0x1d4be7['speedRate']||0x32,_0x9d3c6d[_0x2860e5(0x245)]=_0x1d4be7[_0x2860e5(0x1fc)]||0x4e20,_0x9d3c6d[_0x2860e5(0x26e)]=_0x1d4be7[_0x2860e5(0x15d)]||0x78,_0x9d3c6d[_0x2860e5(0x1b9)]=0x3e8/(_0x1d4be7[_0x2860e5(0x1ce)]||0xa),_0x9d3c6d['_pointerEvents']=_0x28afda[_0x2860e5(0x13a)](_0x9d3c6d[_0x2860e5(0x15e)][_0x2860e5(0x219)],!0x1),_0x9d3c6d['color']=_0x1d4be7[_0x2860e5(0x1ea)]||'#ffffff',_0x9d3c6d[_0x2860e5(0x20f)]=_0x1d4be7['lineWidth']||0x1,_0x9d3c6d['fixedHeight']=_0x28afda[_0x2860e5(0x13a)](_0x1d4be7['fixedHeight'],0x0),_0x9d3c6d[_0x2860e5(0x14f)]=_0x28afda[_0x2860e5(0x13a)](_0x1d4be7[_0x2860e5(0x14f)],!0x1),_0x9d3c6d[_0x2860e5(0x205)]=null,_0x9d3c6d;}return _0x3326c9()(_0x3f4eeb,[{'key':_0x4e229a(0x196),'get':function(){var _0x38d971=_0x4e229a;return this[_0x38d971(0x205)];}},{'key':_0x4e229a(0x17b),'get':function(){var _0x103762=_0x4e229a;return this[_0x103762(0x24f)][_0x103762(0x25a)]['canvas'][_0x103762(0x217)];}},{'key':_0x4e229a(0x150),'get':function(){var _0x3af429=_0x4e229a;return this[_0x3af429(0x24f)][_0x3af429(0x25a)]['canvas']['clientHeight'];}},{'key':_0x4e229a(0x219),'get':function(){var _0x46515f=_0x4e229a;return this[_0x46515f(0x17c)];},'set':function(_0x17e725){var _0x5c2537=_0x4e229a;this['_pointerEvents']=_0x17e725,this['canvas']&&(this[_0x5c2537(0x205)]['style'][_0x5c2537(0x1f9)]=_0x17e725?_0x5c2537(0x274):_0x5c2537(0x145));}},{'key':'speedRate','get':function(){var _0x49db65=_0x4e229a;return this[_0x49db65(0x147)];},'set':function(_0x21f545){var _0x222a21=_0x4e229a;this['_speedRate']=0x64*(0x64-(_0x21f545>0x63?0x63:_0x21f545)),this[_0x222a21(0x225)]();}},{'key':_0x4e229a(0x1fc),'get':function(){var _0x30aa45=_0x4e229a;return this[_0x30aa45(0x245)];},'set':function(_0x6f2f05){var _0x563763=_0x4e229a,_0x240489=this;this[_0x563763(0x245)]=_0x6f2f05,clearTimeout(this['canrefresh']),this[_0x563763(0x155)]=setTimeout(function(){_0x240489['redraw']();},0x1f4);}},{'key':_0x4e229a(0x15d),'get':function(){return this['_maxAge'];},'set':function(_0x3547ba){var _0x46df4d=_0x4e229a,_0x3d1de4=this;this['_maxAge']=_0x3547ba,clearTimeout(this[_0x46df4d(0x155)]),this[_0x46df4d(0x155)]=setTimeout(function(){var _0x432c80=_0x46df4d;_0x3d1de4[_0x432c80(0x23c)]();},0x1f4);}},{'key':_0x4e229a(0x270),'get':function(){var _0x438380=_0x4e229a;return this[_0x438380(0x221)];},'set':function(_0x292329){var _0x5d5e1a=_0x4e229a;this[_0x5d5e1a(0x27b)](_0x292329);}},{'key':_0x4e229a(0x139),'value':function(_0x586c71){var _0xb98d32=_0x4e229a;_0x586c71?this[_0xb98d32(0x293)]():(this[_0xb98d32(0x221)]&&(this[_0xb98d32(0x15e)][_0xb98d32(0x270)]=this[_0xb98d32(0x221)]),this[_0xb98d32(0x193)]());}},{'key':'_mountedHook','value':function(){}},{'key':_0x4e229a(0x293),'value':function(){var _0x178ac8=_0x4e229a;this[_0x178ac8(0x205)]=this['_createCanvas'](),this[_0x178ac8(0x287)]=this[_0x178ac8(0x205)][_0x178ac8(0x158)]('2d'),this[_0x178ac8(0x282)](),this[_0x178ac8(0x15e)][_0x178ac8(0x270)]&&this[_0x178ac8(0x27b)](this['options'][_0x178ac8(0x270)]);}},{'key':_0x4e229a(0x193),'value':function(){var _0x2fcb5e=_0x4e229a;this[_0x2fcb5e(0x218)](),this[_0x2fcb5e(0x1cd)](),this[_0x2fcb5e(0x205)]&&(this['_map'][_0x2fcb5e(0x207)][_0x2fcb5e(0x1b0)](this['canvas']),delete this['canvas']);}},{'key':_0x4e229a(0x18b),'value':function(){var _0x4a0744=_0x4e229a,_0xf56cda=document['createElement'](_0x4a0744(0x205));_0xf56cda[_0x4a0744(0x18c)][_0x4a0744(0x1db)]=_0x4a0744(0x154),_0xf56cda['style']['top']=_0x4a0744(0x1e5),_0xf56cda[_0x4a0744(0x18c)][_0x4a0744(0x199)]='0px',_0xf56cda[_0x4a0744(0x18c)][_0x4a0744(0x1a2)]=_0x4a0744(0x22c),_0xf56cda[_0x4a0744(0x18c)][_0x4a0744(0x194)]='100%',_0xf56cda[_0x4a0744(0x18c)][_0x4a0744(0x219)]=this[_0x4a0744(0x17c)]?_0x4a0744(0x129):_0x4a0744(0x145),_0xf56cda[_0x4a0744(0x18c)]['zIndex']=0xa,_0xf56cda[_0x4a0744(0x216)]('id',_0x4a0744(0x134)),_0xf56cda[_0x4a0744(0x216)]('class',_0x4a0744(0x134)),this[_0x4a0744(0x24f)][_0x4a0744(0x207)]['appendChild'](_0xf56cda);var _0x360fab=this[_0x4a0744(0x24f)][_0x4a0744(0x25a)];return _0xf56cda['width']=_0x360fab[_0x4a0744(0x205)][_0x4a0744(0x217)],_0xf56cda[_0x4a0744(0x194)]=_0x360fab[_0x4a0744(0x205)][_0x4a0744(0x1ba)],_0xf56cda;}},{'key':'resize','value':function(){var _0x396ff6=_0x4e229a;this[_0x396ff6(0x205)]&&(this[_0x396ff6(0x205)][_0x396ff6(0x1a2)]=this[_0x396ff6(0x17b)],this['canvas'][_0x396ff6(0x194)]=this['canvasHeight']);}},{'key':_0x4e229a(0x282),'value':function(){var _0x3cdf8f=_0x4e229a,_0x15c0a7=this,_0x2d9fed=Date[_0x3cdf8f(0x284)]();!function _0x583257(){var _0x5ed5be=_0x3cdf8f;_0x15c0a7[_0x5ed5be(0x1a7)]=window[_0x5ed5be(0x15b)](_0x583257);var _0x3fceec=Date[_0x5ed5be(0x284)](),_0x179be9=_0x3fceec-_0x2d9fed;_0x179be9>_0x15c0a7['frameTime']&&(_0x2d9fed=_0x3fceec-_0x179be9%_0x15c0a7[_0x5ed5be(0x1b9)],_0x15c0a7['update']());}(),window[_0x3cdf8f(0x1a3)](_0x3cdf8f(0x248),this[_0x3cdf8f(0x248)][_0x3cdf8f(0x189)](this),!0x1),this[_0x3cdf8f(0x269)]=!0x1,this[_0x3cdf8f(0x1ff)]=!0x1,this[_0x3cdf8f(0x24f)]['on'](_0x4f9f06['EventType'][_0x3cdf8f(0x280)],this['_onMapWhellEvent'],this),this['_map']['on'](_0x4f9f06[_0x3cdf8f(0x1ab)]['mouseDown'],this[_0x3cdf8f(0x203)],this),this[_0x3cdf8f(0x24f)]['on'](_0x4f9f06[_0x3cdf8f(0x1ab)][_0x3cdf8f(0x1a5)],this[_0x3cdf8f(0x202)],this),this[_0x3cdf8f(0x24f)]['on'](_0x4f9f06[_0x3cdf8f(0x1ab)][_0x3cdf8f(0x265)],this[_0x3cdf8f(0x177)],this);}},{'key':_0x4e229a(0x1cd),'value':function(){var _0x40aa84=_0x4e229a;window[_0x40aa84(0x27a)](this['animateFrame']),delete this[_0x40aa84(0x1a7)],window[_0x40aa84(0x1df)]('resize',this[_0x40aa84(0x248)]),this[_0x40aa84(0x24f)][_0x40aa84(0x126)](_0x4f9f06['EventType'][_0x40aa84(0x280)],this[_0x40aa84(0x1ed)],this),this[_0x40aa84(0x24f)][_0x40aa84(0x126)](_0x4f9f06[_0x40aa84(0x1ab)][_0x40aa84(0x209)],this[_0x40aa84(0x203)],this),this['_map'][_0x40aa84(0x126)](_0x4f9f06[_0x40aa84(0x1ab)][_0x40aa84(0x1a5)],this['_onMouseUpEvent'],this),this[_0x40aa84(0x24f)][_0x40aa84(0x126)](_0x4f9f06[_0x40aa84(0x1ab)][_0x40aa84(0x265)],this[_0x40aa84(0x177)],this);}},{'key':_0x4e229a(0x1ed),'value':function(_0x27fbbc){var _0x3339cd=_0x4e229a,_0x4d1f31=this;clearTimeout(this[_0x3339cd(0x277)]),this['show']&&this[_0x3339cd(0x205)]&&(this[_0x3339cd(0x205)][_0x3339cd(0x18c)][_0x3339cd(0x28a)]=_0x3339cd(0x211),this[_0x3339cd(0x277)]=setTimeout(function(){var _0x10fbf5=_0x3339cd;_0x4d1f31['show']&&(_0x4d1f31[_0x10fbf5(0x23c)](),_0x4d1f31[_0x10fbf5(0x205)][_0x10fbf5(0x18c)]['visibility']='visible');},0xc8));}},{'key':'_onMouseDownEvent','value':function(_0xb19b58){var _0x243720=_0x4e229a;this[_0x243720(0x269)]=!0x0;}},{'key':'_onMouseMoveEvent','value':function(_0x1840c0){var _0x15ef99=_0x4e229a;this[_0x15ef99(0x288)]&&this[_0x15ef99(0x205)]&&this[_0x15ef99(0x269)]&&(this[_0x15ef99(0x205)][_0x15ef99(0x18c)][_0x15ef99(0x28a)]='hidden',this[_0x15ef99(0x1ff)]=!0x0);}},{'key':_0x4e229a(0x202),'value':function(_0x4e8e31){var _0x5ac111=_0x4e229a;this['show']&&this[_0x5ac111(0x205)]&&(this[_0x5ac111(0x269)]&&this[_0x5ac111(0x1ff)]&&this[_0x5ac111(0x23c)](),this['canvas'][_0x5ac111(0x18c)]['visibility']='visible',this[_0x5ac111(0x269)]=!0x1,this[_0x5ac111(0x1ff)]=!0x1);}},{'key':_0x4e229a(0x23c),'value':function(){var _0x384247=_0x4e229a;this['show']&&this[_0x384247(0x1c8)]&&(this['particles']=[],this[_0x384247(0x183)]());}},{'key':'updateDate','value':function(_0x133426){var _0x3b4d4e=_0x4e229a;this[_0x3b4d4e(0x218)](),this['windData']=_0x133426,this[_0x3b4d4e(0x1c8)]=new _0x279145(this['windData'],this[_0x3b4d4e(0x14f)]),this[_0x3b4d4e(0x183)]();}},{'key':_0x4e229a(0x183),'value':function(){var _0x283d64=_0x4e229a;this['_calcStep']();for(var _0x229649=0x0;_0x229649<this[_0x283d64(0x1fc)];_0x229649++){var _0x2b1ece=this[_0x283d64(0x1ac)](new _0x49867b());this[_0x283d64(0x143)][_0x283d64(0x16e)](_0x2b1ece);}this['canvasContext'][_0x283d64(0x229)]=_0x283d64(0x1f6),this[_0x283d64(0x287)][_0x283d64(0x1be)]=0.6,this[_0x283d64(0x130)]();}},{'key':_0x4e229a(0x225),'value':function(){var _0x7f7fa3=_0x4e229a;this[_0x7f7fa3(0x1c8)]&&(this['calc_speedRate']=[(this['windField'][_0x7f7fa3(0x23f)]-this[_0x7f7fa3(0x1c8)][_0x7f7fa3(0x1a1)])/this[_0x7f7fa3(0x17f)],(this['windField'][_0x7f7fa3(0x21c)]-this[_0x7f7fa3(0x1c8)]['ymin'])/this[_0x7f7fa3(0x17f)]]);}},{'key':'update','value':function(){var _0x4227b8=_0x4e229a,_0x56d7bd=this;if(this['show']&&!(this[_0x4227b8(0x143)]['length']<=0x0)){var _0x145846=null,_0x1a9263=null,_0x27d98c=null;this['particles'][_0x4227b8(0x1c1)](function(_0x40bbe8){var _0x32d2aa=_0x4227b8;if(_0x40bbe8[_0x32d2aa(0x160)]<=0x0&&_0x56d7bd['randomParticle'](_0x40bbe8),_0x40bbe8[_0x32d2aa(0x160)]>0x0){var _0x1f5a78=_0x40bbe8['tlng'],_0x2edff4=_0x40bbe8['tlat'];(_0x27d98c=_0x56d7bd['windField']['getUVByPoint'](_0x1f5a78,_0x2edff4))?(_0x145846=_0x1f5a78+_0x56d7bd[_0x32d2aa(0x259)][0x0]*_0x27d98c[0x0],_0x1a9263=_0x2edff4+_0x56d7bd['calc_speedRate'][0x1]*_0x27d98c[0x1],_0x40bbe8['lng']=_0x1f5a78,_0x40bbe8['lat']=_0x2edff4,_0x40bbe8[_0x32d2aa(0x179)]=_0x145846,_0x40bbe8[_0x32d2aa(0x1d6)]=_0x1a9263,_0x40bbe8[_0x32d2aa(0x160)]--):_0x40bbe8['age']=0x0;}}),this[_0x4227b8(0x25b)]();}}},{'key':_0x4e229a(0x22e),'value':function(_0x47f1c6,_0x53d694,_0x4b442f){var _0x59ba9e=_0x4e229a,_0x3ec1db=_0x28afda[_0x59ba9e(0x127)][_0x59ba9e(0x273)](_0x47f1c6,_0x53d694,this['fixedHeight']),_0x1b6576=this['_map'][_0x59ba9e(0x25a)];if(_0x1b6576['mode']===_0x28afda[_0x59ba9e(0x23b)][_0x59ba9e(0x290)]&&!new _0x28afda[(_0x59ba9e(0x239))](_0x1b6576[_0x59ba9e(0x1a0)][_0x59ba9e(0x187)],_0x1b6576[_0x59ba9e(0x172)][_0x59ba9e(0x166)])[_0x59ba9e(0x1b3)](_0x3ec1db))return _0x4b442f['age']=0x0,null;var _0x5c14b7=_0x28afda[_0x59ba9e(0x279)][_0x59ba9e(0x28b)](this[_0x59ba9e(0x24f)][_0x59ba9e(0x25a)],_0x3ec1db);return _0x5c14b7?[_0x5c14b7['x'],_0x5c14b7['y']]:null;}},{'key':'_drawLines','value':function(){var _0x5e7804=_0x4e229a,_0x3891c0=this,_0x1b9d7e=this[_0x5e7804(0x143)];this[_0x5e7804(0x287)][_0x5e7804(0x20f)]=_0x3891c0[_0x5e7804(0x20f)],this['canvasContext'][_0x5e7804(0x1d0)]=_0x5e7804(0x1b6),this[_0x5e7804(0x287)][_0x5e7804(0x162)](0x0,0x0,this['canvasWidth'],this[_0x5e7804(0x150)]),this[_0x5e7804(0x287)][_0x5e7804(0x1d0)]='lighter',this[_0x5e7804(0x287)][_0x5e7804(0x1be)]=0.9,this[_0x5e7804(0x287)][_0x5e7804(0x235)](),this[_0x5e7804(0x287)][_0x5e7804(0x21e)]=this[_0x5e7804(0x1ea)];var _0x4c0b8b=this[_0x5e7804(0x24f)][_0x5e7804(0x25a)]['mode']!==_0x28afda[_0x5e7804(0x23b)][_0x5e7804(0x290)];_0x1b9d7e['forEach'](function(_0x11fece){var _0x422136=_0x5e7804,_0x172bdd=_0x3891c0[_0x422136(0x22e)](_0x11fece['lng'],_0x11fece[_0x422136(0x264)],_0x11fece),_0x39d774=_0x3891c0[_0x422136(0x22e)](_0x11fece[_0x422136(0x179)],_0x11fece[_0x422136(0x1d6)],_0x11fece);if(null!=_0x172bdd&&null!=_0x39d774){var _0x837bc5=Math[_0x422136(0x19e)](_0x172bdd[0x0]-_0x39d774[0x0]);_0x4c0b8b&&_0x837bc5>=_0x3891c0[_0x422136(0x17b)]||(_0x3891c0[_0x422136(0x287)][_0x422136(0x206)](_0x172bdd[0x0],_0x172bdd[0x1]),_0x3891c0[_0x422136(0x287)][_0x422136(0x256)](_0x39d774[0x0],_0x39d774[0x1]));}}),this[_0x5e7804(0x287)][_0x5e7804(0x24b)]();}},{'key':_0x4e229a(0x1ac),'value':function(_0x1cc36e){var _0x3d0ef0=_0x4e229a;for(var _0x1a64d3,_0x57ab48,_0x3b72b6=0x0;_0x3b72b6<0x1e&&(_0x1a64d3=this[_0x3d0ef0(0x1c8)][_0x3d0ef0(0x23e)](),!((_0x57ab48=this[_0x3d0ef0(0x1c8)][_0x3d0ef0(0x1ef)](_0x1a64d3[_0x3d0ef0(0x24c)],_0x1a64d3[_0x3d0ef0(0x264)]))&&_0x57ab48[0x2]>0x0));_0x3b72b6++);if(!_0x57ab48)return _0x1cc36e;var _0x509854=_0x1a64d3[_0x3d0ef0(0x24c)]+this['calc_speedRate'][0x0]*_0x57ab48[0x0],_0x255f36=_0x1a64d3[_0x3d0ef0(0x264)]+this[_0x3d0ef0(0x259)][0x1]*_0x57ab48[0x1];return _0x1cc36e[_0x3d0ef0(0x24c)]=_0x1a64d3['lng'],_0x1cc36e[_0x3d0ef0(0x264)]=_0x1a64d3['lat'],_0x1cc36e[_0x3d0ef0(0x179)]=_0x509854,_0x1cc36e[_0x3d0ef0(0x1d6)]=_0x255f36,_0x1cc36e[_0x3d0ef0(0x160)]=Math[_0x3d0ef0(0x1c3)](Math['random']()*this['maxAge']),_0x1cc36e;}},{'key':_0x4e229a(0x218),'value':function(){var _0x2c14ab=_0x4e229a;this[_0x2c14ab(0x143)]=[],delete this[_0x2c14ab(0x1c8)],delete this[_0x2c14ab(0x221)];}}]),_0x3f4eeb;}(_0x4f9f06[_0x4a60b3(0x196)][_0x4a60b3(0x167)]);function _0x275ec8(_0x32f783,_0x14650f){var _0x50ccbe=_0x4a60b3;return _0x32f783*Math['cos'](_0x28afda[_0x50ccbe(0x272)]['toRadians'](_0x14650f));}function _0x13028e(_0x1622d7,_0x5bc575){var _0x5239e5=_0x4a60b3;return _0x1622d7*Math[_0x5239e5(0x170)](_0x28afda[_0x5239e5(0x272)]['toRadians'](_0x5bc575));}function _0x292c0c(_0xe728c9,_0x319160){var _0x48c1e8=_0x4a60b3;return Math[_0x48c1e8(0x23a)](Math['pow'](_0xe728c9,0x2)+Math[_0x48c1e8(0x24a)](_0x319160,0x2));}function _0x1464b1(_0x5a659d,_0x4d0a1a){var _0x17fa34=_0x4a60b3,_0x2755a1=_0x28afda[_0x17fa34(0x272)][_0x17fa34(0x1bd)](Math[_0x17fa34(0x13e)](_0x4d0a1a,_0x5a659d));return _0x2755a1+=_0x2755a1<0x0?0x168:0x0;}_0x4f9f06[_0x4a60b3(0x1c5)]['register'](_0x4a60b3(0x22a),_0x18de68),_0x4f9f06['layer'][_0x4a60b3(0x1d2)]=_0x18de68,_0x4f9f06['WindUtil']=_0x44480b;}]);}));function a0_0x266b(_0x59c8ab,_0x491ab9){var _0x40f368=a0_0x40f3();return a0_0x266b=function(_0x266b66,_0x3686bf){_0x266b66=_0x266b66-0x126;var _0x4631f6=_0x40f368[_0x266b66];return _0x4631f6;},a0_0x266b(_0x59c8ab,_0x491ab9);}function a0_0x40f3(){var _0xd4473b=['getExtent','NEAREST','TextureMinificationFilter','0px','THREE_PI_OVER_TWO','refreshParticles','function','segments','color','updateSpeed','24knmjqH','_onMapWhellEvent','822YklzwU','getUVByPoint','maxParticles','RenderState','rows','_bilinearInterpolation','max','fadeOpacity','rgba(0,\x200,\x200,\x200.97)','speedFactor','floor','pointer-events','commandType','reverse','particlesNumber','enumerable','viewerParameters','mouse_move','__proto__','colorNum','_onMouseUpEvent','_onMouseDownEvent','Color','canvas','moveTo','container','create','mouseDown','execute','createTexture','createParticlesTextures','Matrix4','12232MkUPCA','lineWidth','outputTexture','hidden','north','getU','Geometry','setPrototypeOf','setAttribute','clientWidth','clear','pointerEvents','iterator','postProcessingPosition','ymax','createSegmentsGeometry','strokeStyle','writable','clampToLatitudeRange','windData','1459323QfGryr','Framebuffer','particlesRendering','_calcStep','TextureMagnificationFilter','autoClear','particlesTextureSize','fillStyle','canvasWind','depthTexture','100%','DISABLE_LOG_DEPTH_FRAGMENT_WRITE','_tomap','VertexArray','east','nextParticlesSpeed','defineProperty','cols','OPAQUE','beginPath','ShaderSource','userInput','segmentsDepth','EllipsoidalOccluder','sqrt','SceneMode','redraw','mars3d-cesium','getRandomLatLng','xmax','primitiveType','sham','uniformMap','ALWAYS','prototype','_particlesNumber','getUVByXY','getUserInput','resize','TRIANGLES','pow','stroke','lng','fromCache','attribute\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20normal\x0aattribute\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20postProcessingSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x20\x0a\x20\x20\x20\x20float\x20a\x20=\x206378137.0;\x20//\x20Semi-major\x20axis\x20\x0a\x20\x20\x20\x20float\x20b\x20=\x206356752.3142;\x20//\x20Semi-minor\x20axis\x20\x0a\x20\x20\x20\x20float\x20e2\x20=\x206.69437999014e-3;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20\x20\x20float\x20h\x20=\x20particleHeight;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x0a\x20\x20\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calcProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0,\x20360.0)\x20-\x20180.0;\x0a\x20\x20\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0);\x0a\x20\x20\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calcOffset(vec4\x20currentProjectedCoordinate,\x20vec4\x20nextProjectedCoordinate,\x20float\x20offsetSign)\x20{\x0a\x20\x20\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0);\x0a\x20\x20\x20\x20vec2\x20currentXY\x20=\x20(currentProjectedCoordinate.xy\x20/\x20currentProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x20\x20\x20\x20vec2\x20nextXY\x20=\x20(nextProjectedCoordinate.xy\x20/\x20nextProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0;\x0a\x20\x20\x20\x20vec2\x20direction\x20=\x20normalize(nextXY\x20-\x20currentXY);\x0a\x20\x20\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0,\x200.0);\x0a\x20\x20\x20\x20return\x20offset;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20\x20\x20vec3\x20currentPosition\x20=\x20texture2D(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20\x20\x20vec4\x20nextPosition\x20=\x20texture2D(postProcessingPosition,\x20particleIndex);\x0a\x0a\x20\x20\x20\x20vec4\x20currentProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20vec4\x20nextProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20if\x20(nextPosition.w\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(nextPosition.xyz);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20float\x20pointToUse\x20=\x20normal.x;\x20//\x20-1\x20is\x20currentProjectedCoordinate\x20and\x20+1\x20is\x20nextProjectedCoordinate\x0a\x20\x20\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20pixelSize\x20*\x20calcOffset(currentProjectedCoordinate,\x20nextProjectedCoordinate,\x20offsetSign);\x0a\x20\x20\x20\x20if\x20(pointToUse\x20<\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20currentProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20nextProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20speedNormalization\x20=\x20texture2D(postProcessingSpeed,\x20particleIndex).a;\x0a}','_map','geometry','createRawRenderState','currentParticlesSpeed','destroyParticlesTextures','apply','PixelDatatype','lineTo','segmentsColor','west','calc_speedRate','scene','_drawLines','postProcessingSpeed','rawRenderState','updateViewerParameters','commandList','depthTest','createFramebuffer','_calcUV','canvasResize','lat','mouseMove','_mountedHook','createRenderingTextures','windTextures','mouse_down','drawingBufferHeight','//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x20\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x,\x20360.0);\x0a\x20\x20\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20-90.0,\x2090.0);\x0a\x0a\x20\x20\x20\x20vec3\x20index3D\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20index3D.z\x20=\x20(lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z;\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205],\x20width\x20=\x203,\x20height\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x203\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x202\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWind(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20\x20\x20float\x20result\x20=\x20texture2D(windTexture,\x20normalizedIndex2D).r;\x0a\x20\x20\x20\x20return\x20result;\x0a}\x0a\x0aconst\x20mat4\x20kernelMatrix\x20=\x20mat4(\x0a\x20\x20\x20\x200.0,\x20-1.0,\x202.0,\x20-1.0,\x20//\x20first\x20column\x0a\x20\x20\x20\x202.0,\x200.0,\x20-5.0,\x203.0,\x20//\x20second\x20column\x0a\x20\x20\x20\x200.0,\x201.0,\x204.0,\x20-3.0,\x20//\x20third\x20column\x0a\x20\x20\x20\x200.0,\x200.0,\x20-1.0,\x201.0\x20//\x20fourth\x20column\x0a);\x0afloat\x20oneDimensionInterpolation(float\x20t,\x20float\x20p0,\x20float\x20p1,\x20float\x20p2,\x20float\x20p3)\x20{\x0a\x20\x20\x20\x20vec4\x20tVec4\x20=\x20vec4(1.0,\x20t,\x20t\x20*\x20t,\x20t\x20*\x20t\x20*\x20t);\x0a\x20\x20\x20\x20tVec4\x20=\x20tVec4\x20/\x202.0;\x0a\x20\x20\x20\x20vec4\x20pVec4\x20=\x20vec4(p0,\x20p1,\x20p2,\x20p3);\x0a\x20\x20\x20\x20return\x20dot((tVec4\x20*\x20kernelMatrix),\x20pVec4);\x0a}\x0a\x0afloat\x20calculateB(sampler2D\x20windTexture,\x20float\x20t,\x20float\x20lon,\x20float\x20lat,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20float\x20lon0\x20=\x20floor(lon)\x20-\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon1\x20=\x20floor(lon);\x0a\x20\x20\x20\x20float\x20lon2\x20=\x20floor(lon)\x20+\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon3\x20=\x20floor(lon)\x20+\x202.0\x20*\x20interval.x;\x0a\x0a\x20\x20\x20\x20float\x20p0\x20=\x20getWind(windTexture,\x20vec3(lon0,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p1\x20=\x20getWind(windTexture,\x20vec3(lon1,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p2\x20=\x20getWind(windTexture,\x20vec3(lon2,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p3\x20=\x20getWind(windTexture,\x20vec3(lon3,\x20lat,\x20lev));\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(t,\x20p0,\x20p1,\x20p2,\x20p3);\x0a}\x0a\x0afloat\x20interpolateOneTexture(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20\x20\x20float\x20lat0\x20=\x20floor(lat)\x20-\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat1\x20=\x20floor(lat);\x0a\x20\x20\x20\x20float\x20lat2\x20=\x20floor(lat)\x20+\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat3\x20=\x20floor(lat)\x20+\x202.0\x20*\x20interval.y;\x0a\x0a\x20\x20\x20\x20vec2\x20coefficient\x20=\x20lonLatLev.xy\x20-\x20floor(lonLatLev.xy);\x0a\x20\x20\x20\x20float\x20b0\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat0,\x20lev);\x0a\x20\x20\x20\x20float\x20b1\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat1,\x20lev);\x0a\x20\x20\x20\x20float\x20b2\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat2,\x20lev);\x0a\x20\x20\x20\x20float\x20b3\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat3,\x20lev);\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(coefficient.y,\x20b0,\x20b1,\x20b2,\x20b3);\x0a}\x0a\x0avec3\x20bicubic(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bicubic_interpolation#Bicubic_convolution_algorithm\x0a\x20\x20\x20\x20float\x20u\x20=\x20interpolateOneTexture(U,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20v\x20=\x20interpolateOneTexture(V,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20bicubic(lonLatLev);\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(windVector,\x200.0);\x0a}','dimensions','vertexShaderSource','_maxAge','66WCWRKw','data','getWind','Math','fromDegrees','all','fromGeometry','wind','refreshTimer','array','SceneTransforms','cancelAnimationFrame','updateDate','Compute','TWO_PI','uniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec4\x20randomParticle\x20=\x20texture2D(postProcessingPosition,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20vec4\x20particleSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x0a\x20\x20\x20\x20if\x20(randomParticle.a\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20\x20\x20}\x0a}','dropRate','wheel','createComputingPrimitives','bindEvent','configurable','now','GeometryAttributes','randomizeParticles','canvasContext','show','GeometryAttribute','visibility','wgs84ToWindowCoordinates','value','particlesComputing','once','remove','SCENE3D','south','preExecute','_addedHook','removeAll','random','off','Cartesian3','applyUserInput','auto','ymin','textures','RGBA','uniform\x20sampler2D\x20trailsColorTexture;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(trailsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x20else\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20}\x0d\x0a}','defined','length','update','setGeometry','PI_OVER_TWO','STATIC_DRAW','canvasWindy','Module','PI_OVER_THREE','attributeLocations','screen','_showHook','defaultValue','exports','DISABLE_GL_POSITION_LOG_DEPTH','currentParticlesPosition','atan2','ClearCommand','mars3dWind','clearFramebuffers','blending','particles','toGridXY','none','toStringTag','_speedRate','WindLayer','symbol','Sampler','add','call','construct','nextParticlesPosition','reverseY','canvasHeight','WMS_URL','mode','RGB','absolute','canrefresh','getPixelSize','getColorTexture','getContext','particleHeight','attribute\x20vec3\x20position;\x0d\x0aattribute\x20vec2\x20st;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20textureCoordinate\x20=\x20st;\x0d\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(position,\x201.0);\x0d\x0a}','requestAnimationFrame','fragmentShaderSource','maxAge','options','particleSystem','age','Draw','fillRect','amd','isDestroyed','__esModule','positionWC','BaseLayer','trails','default','key','getPrototypeOf','getFullscreenQuad','Cannot\x20call\x20a\x20class\x20as\x20a\x20function','push','_onMap_preRenderEvent','sin','colorTable','camera','92YTRNoN','setData','context','keys','_onMouseMoveEvent','createRenderingFramebuffers','tlng','string','canvasWidth','_pointerEvents','particlesWind','uniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20\x20\x20float\x20term1\x20=\x20111132.92;\x0a\x20\x20\x20\x20float\x20term2\x20=\x20559.82\x20*\x20cos(2.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term3\x20=\x201.175\x20*\x20cos(4.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term4\x20=\x200.0023\x20*\x20cos(6.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20\x20\x20float\x20term5\x20=\x20111412.84\x20*\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20term6\x20=\x2093.5\x20*\x20cos(3.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term7\x20=\x200.118\x20*\x20cos(5.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avoid\x20updatePosition(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20windVectorInLonLatLev;\x0a\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20speed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20updatePosition(lonLatLev,\x20speed);\x0a}','speedRate','nextTrailsColor','framebuffers','createWindTextures','drawWind','globeBoundingSphere','randomBetween','11236zQEPUg','ellipsoid','particlesTextures','bind','fill','_createCanvas','style','lev','primitives','framebuffer','updatePosition','drawingBufferWidth','Texture','_removedHook','height','undefined','layer','FLOAT','currentTrailsColor','left','4733815KmVBpZ','LINEAR','getV','commandToExecute','abs','4146610Exvxog','globe','xmin','width','addEventListener','latRange','mouseUp','constructor','animateFrame','DEPTH_COMPONENT','PrimitiveType','Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined','EventType','randomParticle','clearCommand','ComponentDatatype','uniform\x20sampler2D\x20segmentsColorTexture;\x0d\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0d\x0a\x0d\x0auniform\x20sampler2D\x20currentTrailsColor;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0auniform\x20float\x20fadeOpacity;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20pointsColor\x20=\x20texture2D(segmentsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(currentTrailsColor,\x20textureCoordinate);\x0d\x0a\x0d\x0a\x20\x20\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0\x20*\x20trailsColor)\x20/\x20255.0;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0d\x0a\x0d\x0a\x20\x20\x20\x20float\x20pointsDepth\x20=\x20texture2D(segmentsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20if\x20(pointsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20pointsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20gl_FragDepthEXT\x20=\x20min(pointsDepth,\x20trailsDepth);\x0d\x0a}','removeChild','isInExtent','destroyObject','isPointVisible','ShaderProgram','grid','destination-in','7578613OwNNbn','object','frameTime','clientHeight','Pass','LUMINANCE','toDegrees','globalAlpha','PixelFormat','uniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0auniform\x20sampler2D\x20particlesWind;\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20speedFactor;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec3\x20percent\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20\x20\x20float\x20normalization\x20=\x20length(percent);\x0a\x0a\x20\x20\x20\x20return\x20normalization;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20currentSpeed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20texture2D(particlesWind,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20vec4(speedFactor\x20*\x20pixelSize\x20*\x20windVector,\x20calculateWindNorm(windVector));\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20nextSpeed;\x0a}','forEach','createCommand','round','1010868SNeamE','LayerUtil','lonRange','BufferUsage','windField','register','addPrimitives','destroy','globeLayer','unbindEvent','frameRate','lon','globalCompositeOperation','DrawCommand','CanvasWindLayer','currentTrails','mars3d','mod','tlat','shaderProgram','Cartesian2','nextTrails','WindUtil','position','BoundingSphere','udata','preRender','removeEventListener','min','applyViewerParameters'];a0_0x40f3=function(){return _0xd4473b;};return a0_0x40f3();}